#define _CFFI_

/* We try to define Py_LIMITED_API before including Python.h.

   Mess: we can only define it if Py_DEBUG, Py_TRACE_REFS and
   Py_REF_DEBUG are not defined.  This is a best-effort approximation:
   we can learn about Py_DEBUG from pyconfig.h, but it is unclear if
   the same works for the other two macros.  Py_DEBUG implies them,
   but not the other way around.

   The implementation is messy (issue #350): on Windows, with _MSC_VER,
   we have to define Py_LIMITED_API even before including pyconfig.h.
   In that case, we guess what pyconfig.h will do to the macros above,
   and check our guess after the #include.

   Note that on Windows, with CPython 3.x, you need >= 3.5 and virtualenv
   version >= 16.0.0.  With older versions of either, you don't get a
   copy of PYTHON3.DLL in the virtualenv.  We can't check the version of
   CPython *before* we even include pyconfig.h.  ffi.set_source() puts
   a ``#define _CFFI_NO_LIMITED_API'' at the start of this file if it is
   running on Windows < 3.5, as an attempt at fixing it, but that's
   arguably wrong because it may not be the target version of Python.
   Still better than nothing I guess.  As another workaround, you can
   remove the definition of Py_LIMITED_API here.

   See also 'py_limited_api' in cffi/setuptools_ext.py.
*/
#if !defined(_CFFI_USE_EMBEDDING) && !defined(Py_LIMITED_API)
#  ifdef _MSC_VER
#    if !defined(_DEBUG) && !defined(Py_DEBUG) && !defined(Py_TRACE_REFS) && !defined(Py_REF_DEBUG) && !defined(_CFFI_NO_LIMITED_API)
#      define Py_LIMITED_API
#    endif
#    include <pyconfig.h>
     /* sanity-check: Py_LIMITED_API will cause crashes if any of these
        are also defined.  Normally, the Python file PC/pyconfig.h does not
        cause any of these to be defined, with the exception that _DEBUG
        causes Py_DEBUG.  Double-check that. */
#    ifdef Py_LIMITED_API
#      if defined(Py_DEBUG)
#        error "pyconfig.h unexpectedly defines Py_DEBUG, but Py_LIMITED_API is set"
#      endif
#      if defined(Py_TRACE_REFS)
#        error "pyconfig.h unexpectedly defines Py_TRACE_REFS, but Py_LIMITED_API is set"
#      endif
#      if defined(Py_REF_DEBUG)
#        error "pyconfig.h unexpectedly defines Py_REF_DEBUG, but Py_LIMITED_API is set"
#      endif
#    endif
#  else
#    include <pyconfig.h>
#    if !defined(Py_DEBUG) && !defined(Py_TRACE_REFS) && !defined(Py_REF_DEBUG) && !defined(_CFFI_NO_LIMITED_API)
#      define Py_LIMITED_API
#    endif
#  endif
#endif

#include <Python.h>
#ifdef __cplusplus
extern "C" {
#endif
#include <stddef.h>

/* This part is from file 'cffi/parse_c_type.h'.  It is copied at the
   beginning of C sources generated by CFFI's ffi.set_source(). */

typedef void *_cffi_opcode_t;

#define _CFFI_OP(opcode, arg)   (_cffi_opcode_t)(opcode | (((uintptr_t)(arg)) << 8))
#define _CFFI_GETOP(cffi_opcode)    ((unsigned char)(uintptr_t)cffi_opcode)
#define _CFFI_GETARG(cffi_opcode)   (((intptr_t)cffi_opcode) >> 8)

#define _CFFI_OP_PRIMITIVE       1
#define _CFFI_OP_POINTER         3
#define _CFFI_OP_ARRAY           5
#define _CFFI_OP_OPEN_ARRAY      7
#define _CFFI_OP_STRUCT_UNION    9
#define _CFFI_OP_ENUM           11
#define _CFFI_OP_FUNCTION       13
#define _CFFI_OP_FUNCTION_END   15
#define _CFFI_OP_NOOP           17
#define _CFFI_OP_BITFIELD       19
#define _CFFI_OP_TYPENAME       21
#define _CFFI_OP_CPYTHON_BLTN_V 23   // varargs
#define _CFFI_OP_CPYTHON_BLTN_N 25   // noargs
#define _CFFI_OP_CPYTHON_BLTN_O 27   // O  (i.e. a single arg)
#define _CFFI_OP_CONSTANT       29
#define _CFFI_OP_CONSTANT_INT   31
#define _CFFI_OP_GLOBAL_VAR     33
#define _CFFI_OP_DLOPEN_FUNC    35
#define _CFFI_OP_DLOPEN_CONST   37
#define _CFFI_OP_GLOBAL_VAR_F   39
#define _CFFI_OP_EXTERN_PYTHON  41

#define _CFFI_PRIM_VOID          0
#define _CFFI_PRIM_BOOL          1
#define _CFFI_PRIM_CHAR          2
#define _CFFI_PRIM_SCHAR         3
#define _CFFI_PRIM_UCHAR         4
#define _CFFI_PRIM_SHORT         5
#define _CFFI_PRIM_USHORT        6
#define _CFFI_PRIM_INT           7
#define _CFFI_PRIM_UINT          8
#define _CFFI_PRIM_LONG          9
#define _CFFI_PRIM_ULONG        10
#define _CFFI_PRIM_LONGLONG     11
#define _CFFI_PRIM_ULONGLONG    12
#define _CFFI_PRIM_FLOAT        13
#define _CFFI_PRIM_DOUBLE       14
#define _CFFI_PRIM_LONGDOUBLE   15

#define _CFFI_PRIM_WCHAR        16
#define _CFFI_PRIM_INT8         17
#define _CFFI_PRIM_UINT8        18
#define _CFFI_PRIM_INT16        19
#define _CFFI_PRIM_UINT16       20
#define _CFFI_PRIM_INT32        21
#define _CFFI_PRIM_UINT32       22
#define _CFFI_PRIM_INT64        23
#define _CFFI_PRIM_UINT64       24
#define _CFFI_PRIM_INTPTR       25
#define _CFFI_PRIM_UINTPTR      26
#define _CFFI_PRIM_PTRDIFF      27
#define _CFFI_PRIM_SIZE         28
#define _CFFI_PRIM_SSIZE        29
#define _CFFI_PRIM_INT_LEAST8   30
#define _CFFI_PRIM_UINT_LEAST8  31
#define _CFFI_PRIM_INT_LEAST16  32
#define _CFFI_PRIM_UINT_LEAST16 33
#define _CFFI_PRIM_INT_LEAST32  34
#define _CFFI_PRIM_UINT_LEAST32 35
#define _CFFI_PRIM_INT_LEAST64  36
#define _CFFI_PRIM_UINT_LEAST64 37
#define _CFFI_PRIM_INT_FAST8    38
#define _CFFI_PRIM_UINT_FAST8   39
#define _CFFI_PRIM_INT_FAST16   40
#define _CFFI_PRIM_UINT_FAST16  41
#define _CFFI_PRIM_INT_FAST32   42
#define _CFFI_PRIM_UINT_FAST32  43
#define _CFFI_PRIM_INT_FAST64   44
#define _CFFI_PRIM_UINT_FAST64  45
#define _CFFI_PRIM_INTMAX       46
#define _CFFI_PRIM_UINTMAX      47
#define _CFFI_PRIM_FLOATCOMPLEX 48
#define _CFFI_PRIM_DOUBLECOMPLEX 49
#define _CFFI_PRIM_CHAR16       50
#define _CFFI_PRIM_CHAR32       51

#define _CFFI__NUM_PRIM         52
#define _CFFI__UNKNOWN_PRIM           (-1)
#define _CFFI__UNKNOWN_FLOAT_PRIM     (-2)
#define _CFFI__UNKNOWN_LONG_DOUBLE    (-3)

#define _CFFI__IO_FILE_STRUCT         (-1)


struct _cffi_global_s {
    const char *name;
    void *address;
    _cffi_opcode_t type_op;
    void *size_or_direct_fn;  // OP_GLOBAL_VAR: size, or 0 if unknown
                              // OP_CPYTHON_BLTN_*: addr of direct function
};

struct _cffi_getconst_s {
    unsigned long long value;
    const struct _cffi_type_context_s *ctx;
    int gindex;
};

struct _cffi_struct_union_s {
    const char *name;
    int type_index;          // -> _cffi_types, on a OP_STRUCT_UNION
    int flags;               // _CFFI_F_* flags below
    size_t size;
    int alignment;
    int first_field_index;   // -> _cffi_fields array
    int num_fields;
};
#define _CFFI_F_UNION         0x01   // is a union, not a struct
#define _CFFI_F_CHECK_FIELDS  0x02   // complain if fields are not in the
                                     // "standard layout" or if some are missing
#define _CFFI_F_PACKED        0x04   // for CHECK_FIELDS, assume a packed struct
#define _CFFI_F_EXTERNAL      0x08   // in some other ffi.include()
#define _CFFI_F_OPAQUE        0x10   // opaque

struct _cffi_field_s {
    const char *name;
    size_t field_offset;
    size_t field_size;
    _cffi_opcode_t field_type_op;
};

struct _cffi_enum_s {
    const char *name;
    int type_index;          // -> _cffi_types, on a OP_ENUM
    int type_prim;           // _CFFI_PRIM_xxx
    const char *enumerators; // comma-delimited string
};

struct _cffi_typename_s {
    const char *name;
    int type_index;   /* if opaque, points to a possibly artificial
                         OP_STRUCT which is itself opaque */
};

struct _cffi_type_context_s {
    _cffi_opcode_t *types;
    const struct _cffi_global_s *globals;
    const struct _cffi_field_s *fields;
    const struct _cffi_struct_union_s *struct_unions;
    const struct _cffi_enum_s *enums;
    const struct _cffi_typename_s *typenames;
    int num_globals;
    int num_struct_unions;
    int num_enums;
    int num_typenames;
    const char *const *includes;
    int num_types;
    int flags;      /* future extension */
};

struct _cffi_parse_info_s {
    const struct _cffi_type_context_s *ctx;
    _cffi_opcode_t *output;
    unsigned int output_size;
    size_t error_location;
    const char *error_message;
};

struct _cffi_externpy_s {
    const char *name;
    size_t size_of_result;
    void *reserved1, *reserved2;
};

#ifdef _CFFI_INTERNAL
static int parse_c_type(struct _cffi_parse_info_s *info, const char *input);
static int search_in_globals(const struct _cffi_type_context_s *ctx,
                             const char *search, size_t search_len);
static int search_in_struct_unions(const struct _cffi_type_context_s *ctx,
                                   const char *search, size_t search_len);
#endif

/* this block of #ifs should be kept exactly identical between
   c/_cffi_backend.c, cffi/vengine_cpy.py, cffi/vengine_gen.py
   and cffi/_cffi_include.h */
#if defined(_MSC_VER)
# include <malloc.h>   /* for alloca() */
# if _MSC_VER < 1600   /* MSVC < 2010 */
   typedef __int8 int8_t;
   typedef __int16 int16_t;
   typedef __int32 int32_t;
   typedef __int64 int64_t;
   typedef unsigned __int8 uint8_t;
   typedef unsigned __int16 uint16_t;
   typedef unsigned __int32 uint32_t;
   typedef unsigned __int64 uint64_t;
   typedef __int8 int_least8_t;
   typedef __int16 int_least16_t;
   typedef __int32 int_least32_t;
   typedef __int64 int_least64_t;
   typedef unsigned __int8 uint_least8_t;
   typedef unsigned __int16 uint_least16_t;
   typedef unsigned __int32 uint_least32_t;
   typedef unsigned __int64 uint_least64_t;
   typedef __int8 int_fast8_t;
   typedef __int16 int_fast16_t;
   typedef __int32 int_fast32_t;
   typedef __int64 int_fast64_t;
   typedef unsigned __int8 uint_fast8_t;
   typedef unsigned __int16 uint_fast16_t;
   typedef unsigned __int32 uint_fast32_t;
   typedef unsigned __int64 uint_fast64_t;
   typedef __int64 intmax_t;
   typedef unsigned __int64 uintmax_t;
# else
#  include <stdint.h>
# endif
# if _MSC_VER < 1800   /* MSVC < 2013 */
#  ifndef __cplusplus
    typedef unsigned char _Bool;
#  endif
# endif
#else
# include <stdint.h>
# if (defined (__SVR4) && defined (__sun)) || defined(_AIX) || defined(__hpux)
#  include <alloca.h>
# endif
#endif

#ifdef __GNUC__
# define _CFFI_UNUSED_FN  __attribute__((unused))
#else
# define _CFFI_UNUSED_FN  /* nothing */
#endif

#ifdef __cplusplus
# ifndef _Bool
   typedef bool _Bool;   /* semi-hackish: C++ has no _Bool; bool is builtin */
# endif
#endif

/**********  CPython-specific section  **********/
#ifndef PYPY_VERSION


#if PY_MAJOR_VERSION >= 3
# define PyInt_FromLong PyLong_FromLong
#endif

#define _cffi_from_c_double PyFloat_FromDouble
#define _cffi_from_c_float PyFloat_FromDouble
#define _cffi_from_c_long PyInt_FromLong
#define _cffi_from_c_ulong PyLong_FromUnsignedLong
#define _cffi_from_c_longlong PyLong_FromLongLong
#define _cffi_from_c_ulonglong PyLong_FromUnsignedLongLong
#define _cffi_from_c__Bool PyBool_FromLong

#define _cffi_to_c_double PyFloat_AsDouble
#define _cffi_to_c_float PyFloat_AsDouble

#define _cffi_from_c_int(x, type)                                        \
    (((type)-1) > 0 ? /* unsigned */                                     \
        (sizeof(type) < sizeof(long) ?                                   \
            PyInt_FromLong((long)x) :                                    \
         sizeof(type) == sizeof(long) ?                                  \
            PyLong_FromUnsignedLong((unsigned long)x) :                  \
            PyLong_FromUnsignedLongLong((unsigned long long)x)) :        \
        (sizeof(type) <= sizeof(long) ?                                  \
            PyInt_FromLong((long)x) :                                    \
            PyLong_FromLongLong((long long)x)))

#define _cffi_to_c_int(o, type)                                          \
    ((type)(                                                             \
     sizeof(type) == 1 ? (((type)-1) > 0 ? (type)_cffi_to_c_u8(o)        \
                                         : (type)_cffi_to_c_i8(o)) :     \
     sizeof(type) == 2 ? (((type)-1) > 0 ? (type)_cffi_to_c_u16(o)       \
                                         : (type)_cffi_to_c_i16(o)) :    \
     sizeof(type) == 4 ? (((type)-1) > 0 ? (type)_cffi_to_c_u32(o)       \
                                         : (type)_cffi_to_c_i32(o)) :    \
     sizeof(type) == 8 ? (((type)-1) > 0 ? (type)_cffi_to_c_u64(o)       \
                                         : (type)_cffi_to_c_i64(o)) :    \
     (Py_FatalError("unsupported size for type " #type), (type)0)))

#define _cffi_to_c_i8                                                    \
                 ((int(*)(PyObject *))_cffi_exports[1])
#define _cffi_to_c_u8                                                    \
                 ((int(*)(PyObject *))_cffi_exports[2])
#define _cffi_to_c_i16                                                   \
                 ((int(*)(PyObject *))_cffi_exports[3])
#define _cffi_to_c_u16                                                   \
                 ((int(*)(PyObject *))_cffi_exports[4])
#define _cffi_to_c_i32                                                   \
                 ((int(*)(PyObject *))_cffi_exports[5])
#define _cffi_to_c_u32                                                   \
                 ((unsigned int(*)(PyObject *))_cffi_exports[6])
#define _cffi_to_c_i64                                                   \
                 ((long long(*)(PyObject *))_cffi_exports[7])
#define _cffi_to_c_u64                                                   \
                 ((unsigned long long(*)(PyObject *))_cffi_exports[8])
#define _cffi_to_c_char                                                  \
                 ((int(*)(PyObject *))_cffi_exports[9])
#define _cffi_from_c_pointer                                             \
    ((PyObject *(*)(char *, struct _cffi_ctypedescr *))_cffi_exports[10])
#define _cffi_to_c_pointer                                               \
    ((char *(*)(PyObject *, struct _cffi_ctypedescr *))_cffi_exports[11])
#define _cffi_get_struct_layout                                          \
    not used any more
#define _cffi_restore_errno                                              \
    ((void(*)(void))_cffi_exports[13])
#define _cffi_save_errno                                                 \
    ((void(*)(void))_cffi_exports[14])
#define _cffi_from_c_char                                                \
    ((PyObject *(*)(char))_cffi_exports[15])
#define _cffi_from_c_deref                                               \
    ((PyObject *(*)(char *, struct _cffi_ctypedescr *))_cffi_exports[16])
#define _cffi_to_c                                                       \
    ((int(*)(char *, struct _cffi_ctypedescr *, PyObject *))_cffi_exports[17])
#define _cffi_from_c_struct                                              \
    ((PyObject *(*)(char *, struct _cffi_ctypedescr *))_cffi_exports[18])
#define _cffi_to_c_wchar_t                                               \
    ((_cffi_wchar_t(*)(PyObject *))_cffi_exports[19])
#define _cffi_from_c_wchar_t                                             \
    ((PyObject *(*)(_cffi_wchar_t))_cffi_exports[20])
#define _cffi_to_c_long_double                                           \
    ((long double(*)(PyObject *))_cffi_exports[21])
#define _cffi_to_c__Bool                                                 \
    ((_Bool(*)(PyObject *))_cffi_exports[22])
#define _cffi_prepare_pointer_call_argument                              \
    ((Py_ssize_t(*)(struct _cffi_ctypedescr *,                           \
                    PyObject *, char **))_cffi_exports[23])
#define _cffi_convert_array_from_object                                  \
    ((int(*)(char *, struct _cffi_ctypedescr *, PyObject *))_cffi_exports[24])
#define _CFFI_CPIDX  25
#define _cffi_call_python                                                \
    ((void(*)(struct _cffi_externpy_s *, char *))_cffi_exports[_CFFI_CPIDX])
#define _cffi_to_c_wchar3216_t                                           \
    ((int(*)(PyObject *))_cffi_exports[26])
#define _cffi_from_c_wchar3216_t                                         \
    ((PyObject *(*)(int))_cffi_exports[27])
#define _CFFI_NUM_EXPORTS 28

struct _cffi_ctypedescr;

static void *_cffi_exports[_CFFI_NUM_EXPORTS];

#define _cffi_type(index)   (                           \
    assert((((uintptr_t)_cffi_types[index]) & 1) == 0), \
    (struct _cffi_ctypedescr *)_cffi_types[index])

static PyObject *_cffi_init(const char *module_name, Py_ssize_t version,
                            const struct _cffi_type_context_s *ctx)
{
    PyObject *module, *o_arg, *new_module;
    void *raw[] = {
        (void *)module_name,
        (void *)version,
        (void *)_cffi_exports,
        (void *)ctx,
    };

    module = PyImport_ImportModule("_cffi_backend");
    if (module == NULL)
        goto failure;

    o_arg = PyLong_FromVoidPtr((void *)raw);
    if (o_arg == NULL)
        goto failure;

    new_module = PyObject_CallMethod(
        module, (char *)"_init_cffi_1_0_external_module", (char *)"O", o_arg);

    Py_DECREF(o_arg);
    Py_DECREF(module);
    return new_module;

  failure:
    Py_XDECREF(module);
    return NULL;
}


#ifdef HAVE_WCHAR_H
typedef wchar_t _cffi_wchar_t;
#else
typedef uint16_t _cffi_wchar_t;   /* same random pick as _cffi_backend.c */
#endif

_CFFI_UNUSED_FN static uint16_t _cffi_to_c_char16_t(PyObject *o)
{
    if (sizeof(_cffi_wchar_t) == 2)
        return (uint16_t)_cffi_to_c_wchar_t(o);
    else
        return (uint16_t)_cffi_to_c_wchar3216_t(o);
}

_CFFI_UNUSED_FN static PyObject *_cffi_from_c_char16_t(uint16_t x)
{
    if (sizeof(_cffi_wchar_t) == 2)
        return _cffi_from_c_wchar_t((_cffi_wchar_t)x);
    else
        return _cffi_from_c_wchar3216_t((int)x);
}

_CFFI_UNUSED_FN static int _cffi_to_c_char32_t(PyObject *o)
{
    if (sizeof(_cffi_wchar_t) == 4)
        return (int)_cffi_to_c_wchar_t(o);
    else
        return (int)_cffi_to_c_wchar3216_t(o);
}

_CFFI_UNUSED_FN static PyObject *_cffi_from_c_char32_t(unsigned int x)
{
    if (sizeof(_cffi_wchar_t) == 4)
        return _cffi_from_c_wchar_t((_cffi_wchar_t)x);
    else
        return _cffi_from_c_wchar3216_t((int)x);
}

union _cffi_union_alignment_u {
    unsigned char m_char;
    unsigned short m_short;
    unsigned int m_int;
    unsigned long m_long;
    unsigned long long m_longlong;
    float m_float;
    double m_double;
    long double m_longdouble;
};

struct _cffi_freeme_s {
    struct _cffi_freeme_s *next;
    union _cffi_union_alignment_u alignment;
};

_CFFI_UNUSED_FN static int
_cffi_convert_array_argument(struct _cffi_ctypedescr *ctptr, PyObject *arg,
                             char **output_data, Py_ssize_t datasize,
                             struct _cffi_freeme_s **freeme)
{
    char *p;
    if (datasize < 0)
        return -1;

    p = *output_data;
    if (p == NULL) {
        struct _cffi_freeme_s *fp = (struct _cffi_freeme_s *)PyObject_Malloc(
            offsetof(struct _cffi_freeme_s, alignment) + (size_t)datasize);
        if (fp == NULL)
            return -1;
        fp->next = *freeme;
        *freeme = fp;
        p = *output_data = (char *)&fp->alignment;
    }
    memset((void *)p, 0, (size_t)datasize);
    return _cffi_convert_array_from_object(p, ctptr, arg);
}

_CFFI_UNUSED_FN static void
_cffi_free_array_arguments(struct _cffi_freeme_s *freeme)
{
    do {
        void *p = (void *)freeme;
        freeme = freeme->next;
        PyObject_Free(p);
    } while (freeme != NULL);
}

/**********  end CPython-specific section  **********/
#else
_CFFI_UNUSED_FN
static void (*_cffi_call_python_org)(struct _cffi_externpy_s *, char *);
# define _cffi_call_python  _cffi_call_python_org
#endif


#define _cffi_array_len(array)   (sizeof(array) / sizeof((array)[0]))

#define _cffi_prim_int(size, sign)                                      \
    ((size) == 1 ? ((sign) ? _CFFI_PRIM_INT8  : _CFFI_PRIM_UINT8)  :    \
     (size) == 2 ? ((sign) ? _CFFI_PRIM_INT16 : _CFFI_PRIM_UINT16) :    \
     (size) == 4 ? ((sign) ? _CFFI_PRIM_INT32 : _CFFI_PRIM_UINT32) :    \
     (size) == 8 ? ((sign) ? _CFFI_PRIM_INT64 : _CFFI_PRIM_UINT64) :    \
     _CFFI__UNKNOWN_PRIM)

#define _cffi_prim_float(size)                                          \
    ((size) == sizeof(float) ? _CFFI_PRIM_FLOAT :                       \
     (size) == sizeof(double) ? _CFFI_PRIM_DOUBLE :                     \
     (size) == sizeof(long double) ? _CFFI__UNKNOWN_LONG_DOUBLE :       \
     _CFFI__UNKNOWN_FLOAT_PRIM)

#define _cffi_check_int(got, got_nonpos, expected)      \
    ((got_nonpos) == (expected <= 0) &&                 \
     (got) == (unsigned long long)expected)

#ifdef MS_WIN32
# define _cffi_stdcall  __stdcall
#else
# define _cffi_stdcall  /* nothing */
#endif

#ifdef __cplusplus
}
#endif

/************************************************************/

// Generated by Futhark 0.23.0
// git: 7fa00324492db398bc13c1bd640e2747a34eeac2

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *ctx);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t param_value);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_f32_1d;
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0);
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, const unsigned char *data, int64_t offset, int64_t dim0);
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data);
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
struct futhark_f32_2d;
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const float *data, int64_t dim0, int64_t dim1);
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const unsigned char *data, int64_t offset, int64_t dim0, int64_t dim1);
int futhark_free_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr);
int futhark_values_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr, float *data);
unsigned char *futhark_values_raw_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr);
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr);

// Opaque values
struct futhark_opaque_b0aee03a;
struct futhark_opaque_8f5f2e9d;
struct futhark_opaque_8ce68ead;
struct futhark_opaque_67daac7;
struct futhark_opaque_f270e689;
struct futhark_opaque_32531da2;
struct futhark_opaque_e9a0e68b;
struct futhark_opaque_c5da5e9b;
struct futhark_opaque_networkParameter;
struct futhark_opaque_particleType;
int futhark_free_opaque_b0aee03a(struct futhark_context *ctx, struct futhark_opaque_b0aee03a *obj);
int futhark_store_opaque_b0aee03a(struct futhark_context *ctx, const struct futhark_opaque_b0aee03a *obj, void **p, size_t *n);
struct futhark_opaque_b0aee03a *futhark_restore_opaque_b0aee03a(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_b0aee03a_0(struct futhark_context *ctx, struct futhark_opaque_8f5f2e9d **out, const struct futhark_opaque_b0aee03a *obj);
int futhark_project_opaque_b0aee03a_1(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_b0aee03a *obj);
int futhark_new_opaque_b0aee03a(struct futhark_context *ctx, struct futhark_opaque_b0aee03a **out, const struct futhark_opaque_8f5f2e9d *v0, const struct futhark_f32_1d *v1);
int futhark_free_opaque_8f5f2e9d(struct futhark_context *ctx, struct futhark_opaque_8f5f2e9d *obj);
int futhark_store_opaque_8f5f2e9d(struct futhark_context *ctx, const struct futhark_opaque_8f5f2e9d *obj, void **p, size_t *n);
struct futhark_opaque_8f5f2e9d *futhark_restore_opaque_8f5f2e9d(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_8f5f2e9d_0(struct futhark_context *ctx, struct futhark_opaque_8ce68ead **out, const struct futhark_opaque_8f5f2e9d *obj);
int futhark_project_opaque_8f5f2e9d_1(struct futhark_context *ctx, struct futhark_opaque_32531da2 **out, const struct futhark_opaque_8f5f2e9d *obj);
int futhark_new_opaque_8f5f2e9d(struct futhark_context *ctx, struct futhark_opaque_8f5f2e9d **out, const struct futhark_opaque_8ce68ead *v0, const struct futhark_opaque_32531da2 *v1);
int futhark_free_opaque_8ce68ead(struct futhark_context *ctx, struct futhark_opaque_8ce68ead *obj);
int futhark_store_opaque_8ce68ead(struct futhark_context *ctx, const struct futhark_opaque_8ce68ead *obj, void **p, size_t *n);
struct futhark_opaque_8ce68ead *futhark_restore_opaque_8ce68ead(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_8ce68ead_0(struct futhark_context *ctx, struct futhark_opaque_f270e689 **out, const struct futhark_opaque_8ce68ead *obj);
int futhark_project_opaque_8ce68ead_1(struct futhark_context *ctx, struct futhark_opaque_32531da2 **out, const struct futhark_opaque_8ce68ead *obj);
int futhark_new_opaque_8ce68ead(struct futhark_context *ctx, struct futhark_opaque_8ce68ead **out, const struct futhark_opaque_f270e689 *v0, const struct futhark_opaque_32531da2 *v1);
int futhark_free_opaque_67daac7(struct futhark_context *ctx, struct futhark_opaque_67daac7 *obj);
int futhark_store_opaque_67daac7(struct futhark_context *ctx, const struct futhark_opaque_67daac7 *obj, void **p, size_t *n);
struct futhark_opaque_67daac7 *futhark_restore_opaque_67daac7(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_67daac7_0(struct futhark_context *ctx, struct futhark_opaque_c5da5e9b **out, const struct futhark_opaque_67daac7 *obj);
int futhark_project_opaque_67daac7_1(struct futhark_context *ctx, struct futhark_opaque_b0aee03a **out, const struct futhark_opaque_67daac7 *obj);
int futhark_new_opaque_67daac7(struct futhark_context *ctx, struct futhark_opaque_67daac7 **out, const struct futhark_opaque_c5da5e9b *v0, const struct futhark_opaque_b0aee03a *v1);
int futhark_free_opaque_f270e689(struct futhark_context *ctx, struct futhark_opaque_f270e689 *obj);
int futhark_store_opaque_f270e689(struct futhark_context *ctx, const struct futhark_opaque_f270e689 *obj, void **p, size_t *n);
struct futhark_opaque_f270e689 *futhark_restore_opaque_f270e689(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_f270e689_0(struct futhark_context *ctx, struct futhark_f32_2d **out, const struct futhark_opaque_f270e689 *obj);
int futhark_project_opaque_f270e689_1(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_f270e689 *obj);
int futhark_new_opaque_f270e689(struct futhark_context *ctx, struct futhark_opaque_f270e689 **out, const struct futhark_f32_2d *v0, const struct futhark_f32_1d *v1);
int futhark_free_opaque_32531da2(struct futhark_context *ctx, struct futhark_opaque_32531da2 *obj);
int futhark_store_opaque_32531da2(struct futhark_context *ctx, const struct futhark_opaque_32531da2 *obj, void **p, size_t *n);
struct futhark_opaque_32531da2 *futhark_restore_opaque_32531da2(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_32531da2_0(struct futhark_context *ctx, struct futhark_f32_2d **out, const struct futhark_opaque_32531da2 *obj);
int futhark_project_opaque_32531da2_1(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_32531da2 *obj);
int futhark_new_opaque_32531da2(struct futhark_context *ctx, struct futhark_opaque_32531da2 **out, const struct futhark_f32_2d *v0, const struct futhark_f32_1d *v1);
int futhark_free_opaque_e9a0e68b(struct futhark_context *ctx, struct futhark_opaque_e9a0e68b *obj);
int futhark_store_opaque_e9a0e68b(struct futhark_context *ctx, const struct futhark_opaque_e9a0e68b *obj, void **p, size_t *n);
struct futhark_opaque_e9a0e68b *futhark_restore_opaque_e9a0e68b(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_e9a0e68b_0(struct futhark_context *ctx, struct futhark_opaque_particleType **out, const struct futhark_opaque_e9a0e68b *obj);
int futhark_project_opaque_e9a0e68b_1(struct futhark_context *ctx, float *out, const struct futhark_opaque_e9a0e68b *obj);
int futhark_project_opaque_e9a0e68b_2(struct futhark_context *ctx, int32_t *out, const struct futhark_opaque_e9a0e68b *obj);
int futhark_new_opaque_e9a0e68b(struct futhark_context *ctx, struct futhark_opaque_e9a0e68b **out, const struct futhark_opaque_particleType *v0, const float v1, const int32_t v2);
int futhark_free_opaque_c5da5e9b(struct futhark_context *ctx, struct futhark_opaque_c5da5e9b *obj);
int futhark_store_opaque_c5da5e9b(struct futhark_context *ctx, const struct futhark_opaque_c5da5e9b *obj, void **p, size_t *n);
struct futhark_opaque_c5da5e9b *futhark_restore_opaque_c5da5e9b(struct futhark_context *ctx, const void *p);
int futhark_free_opaque_networkParameter(struct futhark_context *ctx, struct futhark_opaque_networkParameter *obj);
int futhark_store_opaque_networkParameter(struct futhark_context *ctx, const struct futhark_opaque_networkParameter *obj, void **p, size_t *n);
struct futhark_opaque_networkParameter *futhark_restore_opaque_networkParameter(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_networkParameter_0(struct futhark_context *ctx, struct futhark_opaque_e9a0e68b **out, const struct futhark_opaque_networkParameter *obj);
int futhark_project_opaque_networkParameter_1(struct futhark_context *ctx, struct futhark_opaque_67daac7 **out, const struct futhark_opaque_networkParameter *obj);
int futhark_new_opaque_networkParameter(struct futhark_context *ctx, struct futhark_opaque_networkParameter **out, const struct futhark_opaque_e9a0e68b *v0, const struct futhark_opaque_67daac7 *v1);
int futhark_free_opaque_particleType(struct futhark_context *ctx, struct futhark_opaque_particleType *obj);
int futhark_store_opaque_particleType(struct futhark_context *ctx, const struct futhark_opaque_particleType *obj, void **p, size_t *n);
struct futhark_opaque_particleType *futhark_restore_opaque_particleType(struct futhark_context *ctx, const void *p);

// Entry points
int futhark_entry_hgoInteraction(struct futhark_context *ctx, struct futhark_f32_2d **out0, const float in0, const float in1, const float in2, const struct futhark_f32_2d *in3, const struct futhark_f32_2d *in4);
int futhark_entry_hgoPotential(struct futhark_context *ctx, float *out0, const float in0, const float in1, const float in2, const struct futhark_f32_1d *in3, const struct futhark_f32_1d *in4);
int futhark_entry_hgoPotentialAbs(struct futhark_context *ctx, float *out0, const float in0, const float in1, const float in2, const struct futhark_f32_1d *in3, const struct futhark_f32_1d *in4, const struct futhark_f32_1d *in5, const struct futhark_f32_1d *in6);
int futhark_entry_networkInteraction(struct futhark_context *ctx, struct futhark_f32_2d **out0, const struct futhark_opaque_networkParameter *in0, const struct futhark_f32_2d *in1, const struct futhark_f32_2d *in2);
int futhark_entry_networkPotential(struct futhark_context *ctx, float *out0, const struct futhark_opaque_networkParameter *in0, const struct futhark_f32_1d *in1, const struct futhark_f32_1d *in2);
int futhark_entry_networkPotentialAbs(struct futhark_context *ctx, float *out0, const struct futhark_opaque_networkParameter *in0, const struct futhark_f32_1d *in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const struct futhark_f32_1d *in4);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

static uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

static float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

static uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.

#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

static inline uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

static inline uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

static inline uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

static inline uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

static inline uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

static inline uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

static inline uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

static inline uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

static inline uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

static inline uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

static inline uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

static inline uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

static inline uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

static inline uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return x / ys;
}

static inline uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return x / ys;
}

static inline uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return (x + y - 1) / ys;
}

static inline uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return (x + y - 1) / ys;
}

static inline uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return (x + y - 1) / ys;
}

static inline uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return (x + y - 1) / ys;
}

static inline uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return x % ys;
}

static inline uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

static inline int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

static inline int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

static inline int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

static inline int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

static inline int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

static inline int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

static inline int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

static inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

static inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

static inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

static inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

static inline int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

static inline int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

static inline int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

static inline int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

static inline int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

#else

static inline uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

static inline uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

static inline uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

static inline uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

static inline uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

static inline uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

static inline uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

static inline uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

static inline uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

static inline uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

static inline uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

static inline uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

static inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

static inline int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

static inline int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

static inline int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

static inline int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

static inline int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

static inline int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

static inline int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

static inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

static inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

static inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

static inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

static inline int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

static inline int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

static inline int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

static inline int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

static inline int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

static inline int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

static inline int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

static inline int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

static inline int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

static inline int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

static inline int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

static inline int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

static inline int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

static inline int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

static inline int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

static inline int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

static inline int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

static inline uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

static inline uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

static inline uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

static inline uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

static inline int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

static inline int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

static inline int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

static inline int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

static inline uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

static inline uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

static inline uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

static inline uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

static inline uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

static inline uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

static inline uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

static inline uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

static inline uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

static inline uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

static inline uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

static inline uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

static inline int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

static inline int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

static inline int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

static inline int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

static inline uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

static inline uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

static inline uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

static inline uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

static inline uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

static inline uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

static inline uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

static inline uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

static inline uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

static inline uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

static inline uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

static inline uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

static inline bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

static inline bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

static inline bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

static inline bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

static inline bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

static inline bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

static inline bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

static inline bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

static inline bool slt8(int8_t x, int8_t y) {
  return x < y;
}

static inline bool slt16(int16_t x, int16_t y) {
  return x < y;
}

static inline bool slt32(int32_t x, int32_t y) {
  return x < y;
}

static inline bool slt64(int64_t x, int64_t y) {
  return x < y;
}

static inline bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

static inline bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

static inline bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

static inline bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

static inline uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline bool itob_i8_bool(int8_t x) {
  return x != 0;
}

static inline bool itob_i16_bool(int16_t x) {
  return x != 0;
}

static inline bool itob_i32_bool(int32_t x) {
  return x != 0;
}

static inline bool itob_i64_bool(int64_t x) {
  return x != 0;
}

static inline int8_t btoi_bool_i8(bool x) {
  return x;
}

static inline int16_t btoi_bool_i16(bool x) {
  return x;
}

static inline int32_t btoi_bool_i32(bool x) {
  return x;
}

static inline int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

static int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

static int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

static int32_t abs32(int32_t x) {
  return abs(x);
}

static int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

static int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

static int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

static int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

static int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

static int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

static int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

static int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  return mul_hi(a, b);
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  return mul_hi(a, b);
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mul_hi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul_hi(a, b);
}

#elif defined(__CUDA_ARCH__)

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mulhi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul64hi(a, b);
}

#elif ISPC

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  uint64_t aa = a;
  uint64_t bb = b;

  return aa * bb >> 32;
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l  + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  uint64_t aa = a;
  uint64_t bb = b;

  return aa * bb >> 32;
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  __uint128_t aa = a;
  __uint128_t bb = b;

  return aa * bb >> 64;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return mad_hi(a, b, c);
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return mad_hi(a, b, c);
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return mad_hi(a, b, c);
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return mad_hi(a, b, c);
}

#else // Not OpenCL

static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return futrts_mul_hi8(a, b) + c;
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return futrts_mul_hi16(a, b) + c;
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return futrts_mul_hi32(a, b) + c;
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return futrts_mul_hi64(a, b) + c;
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

static int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

static int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

static int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

static int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

static int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

static int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

static int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

static int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

static int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

static int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

static int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

static int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

static int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

static int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

static inline float fdiv32(float x, float y) {
  return x / y;
}

static inline float fadd32(float x, float y) {
  return x + y;
}

static inline float fsub32(float x, float y) {
  return x - y;
}

static inline float fmul32(float x, float y) {
  return x * y;
}

static inline bool cmplt32(float x, float y) {
  return x < y;
}

static inline bool cmple32(float x, float y) {
  return x <= y;
}

static inline float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

static inline float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

static inline float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

static inline float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

static inline float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

static inline float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

static inline float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

static inline float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
static inline float fabs32(float x) {
  return fabs(x);
}

static inline float fmax32(float x, float y) {
  return fmax(x, y);
}

static inline float fmin32(float x, float y) {
  return fmin(x, y);
}

static inline float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

static inline float fabs32(float x) {
  return abs(x);
}

static inline float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

static inline float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

static inline float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

static inline float fabs32(float x) {
  return fabsf(x);
}

static inline float fmax32(float x, float y) {
  return fmaxf(x, y);
}

static inline float fmin32(float x, float y) {
  return fminf(x, y);
}

static inline float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

static inline bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

static inline bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

static inline bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

static inline int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

static inline int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

static inline int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

static inline int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

static inline uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

static inline uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

static inline uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

static inline uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

static inline bool ftob_f32_bool(float x) {
  return x != 0;
}

static inline float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x) {
  return log(x);
}

static inline float futrts_log2_32(float x) {
  return log2(x);
}

static inline float futrts_log10_32(float x) {
  return log10(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrt(x);
}

static inline float futrts_cbrt32(float x) {
  return cbrt(x);
}

static inline float futrts_exp32(float x) {
  return exp(x);
}

static inline float futrts_cos32(float x) {
  return cos(x);
}

static inline float futrts_sin32(float x) {
  return sin(x);
}

static inline float futrts_tan32(float x) {
  return tan(x);
}

static inline float futrts_acos32(float x) {
  return acos(x);
}

static inline float futrts_asin32(float x) {
  return asin(x);
}

static inline float futrts_atan32(float x) {
  return atan(x);
}

static inline float futrts_cosh32(float x) {
  return cosh(x);
}

static inline float futrts_sinh32(float x) {
  return sinh(x);
}

static inline float futrts_tanh32(float x) {
  return tanh(x);
}

static inline float futrts_acosh32(float x) {
  return acosh(x);
}

static inline float futrts_asinh32(float x) {
  return asinh(x);
}

static inline float futrts_atanh32(float x) {
  return atanh(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgamma(x);
}

static inline float futrts_lgamma32(float x) {
  return lgamma(x);
}

static inline float futrts_erf32(float x) {
  return erf(x);
}

static inline float futrts_erfc32(float x) {
  return erfc(x);
}

static inline float fmod32(float x, float y) {
  return fmod(x, y);
}

static inline float futrts_round32(float x) {
  return rint(x);
}

static inline float futrts_floor32(float x) {
  return floor(x);
}

static inline float futrts_ceil32(float x) {
  return ceil(x);
}

static inline float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

static inline float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

static inline float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

static inline float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

static inline float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

static inline float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

static inline float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
static inline float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline float futrts_exp32(float x) {
  return exp(x);
}

static inline float futrts_cos32(float x) {
  return cos(x);
}

static inline float futrts_sin32(float x) {
  return sin(x);
}

static inline float futrts_tan32(float x) {
  return tan(x);
}

static inline float futrts_acos32(float x) {
  return acos(x);
}

static inline float futrts_asin32(float x) {
  return asin(x);
}

static inline float futrts_atan32(float x) {
  return atan(x);
}

static inline float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

static inline float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

static inline float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

static inline float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

static inline float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

static inline float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

static inline float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
static inline float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
static inline float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
static inline float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
static inline float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

static inline float futrts_round32(float x) {
  return round(x);
}

static inline float futrts_floor32(float x) {
  return floor(x);
}

static inline float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
static inline float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

static inline float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

static inline float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

static inline float futrts_log32(float x) {
  return logf(x);
}

static inline float futrts_log2_32(float x) {
  return log2f(x);
}

static inline float futrts_log10_32(float x) {
  return log10f(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrtf(x);
}

static inline float futrts_cbrt32(float x) {
  return cbrtf(x);
}

static inline float futrts_exp32(float x) {
  return expf(x);
}

static inline float futrts_cos32(float x) {
  return cosf(x);
}

static inline float futrts_sin32(float x) {
  return sinf(x);
}

static inline float futrts_tan32(float x) {
  return tanf(x);
}

static inline float futrts_acos32(float x) {
  return acosf(x);
}

static inline float futrts_asin32(float x) {
  return asinf(x);
}

static inline float futrts_atan32(float x) {
  return atanf(x);
}

static inline float futrts_cosh32(float x) {
  return coshf(x);
}

static inline float futrts_sinh32(float x) {
  return sinhf(x);
}

static inline float futrts_tanh32(float x) {
  return tanhf(x);
}

static inline float futrts_acosh32(float x) {
  return acoshf(x);
}

static inline float futrts_asinh32(float x) {
  return asinhf(x);
}

static inline float futrts_atanh32(float x) {
  return atanhf(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgammaf(x);
}

static inline float futrts_lgamma32(float x) {
  return lgammaf(x);
}

static inline float futrts_erf32(float x) {
  return erff(x);
}

static inline float futrts_erfc32(float x) {
  return erfcf(x);
}

static inline float fmod32(float x, float y) {
  return fmodf(x, y);
}

static inline float futrts_round32(float x) {
  return rintf(x);
}

static inline float futrts_floor32(float x) {
  return floorf(x);
}

static inline float futrts_ceil32(float x) {
  return ceilf(x);
}

static inline float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

static inline float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

static inline float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
static inline int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

static inline float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
static inline int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

static inline float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

#if ISPC
static inline bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

static inline bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

static inline double fdiv64(double x, double y) {
  return x / y;
}

static inline double fadd64(double x, double y) {
  return x + y;
}

static inline double fsub64(double x, double y) {
  return x - y;
}

static inline double fmul64(double x, double y) {
  return x * y;
}

static inline bool cmplt64(double x, double y) {
  return x < y;
}

static inline bool cmple64(double x, double y) {
  return x <= y;
}

static inline double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

static inline double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

static inline double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

static inline double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

static inline double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

static inline double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

static inline double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

static inline double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

static inline double fabs64(double x) {
  return abs(x);
}

static inline double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

static inline double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

static inline double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

static inline double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

static inline double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

static inline double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

static inline double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
static inline double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_exp64(double x) {
  return exp(x);
}

static inline double futrts_cos64(double x) {
  return cos(x);
}

static inline double futrts_sin64(double x) {
  return sin(x);
}

static inline double futrts_tan64(double x) {
  return tan(x);
}

static inline double futrts_acos64(double x) {
  return acos(x);
}

static inline double futrts_asin64(double x) {
  return asin(x);
}

static inline double futrts_atan64(double x) {
  return atan(x);
}

static inline double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

static inline double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

static inline double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

static inline double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

static inline double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

static inline double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

static inline double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
static inline double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
static inline double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
static inline double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
static inline double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
static inline double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

static inline double futrts_round64(double x) {
  return round(x);
}

static inline double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
static inline float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_floor64(double x) {
  return floor(x);
}

static inline bool futrts_isnan64(double x) {
  return isnan(x);
}

static inline int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

static inline int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

static inline int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

static inline int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

static inline uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

static inline uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

static inline uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

static inline uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

static inline bool ftob_f64_bool(double x) {
  return x != 0.0;
}

static inline double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

static inline int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

static inline double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

static inline double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

static inline double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

static inline double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

static inline float fpconv_f32_f32(float x) {
  return (float) x;
}

static inline double fpconv_f32_f64(float x) {
  return (double) x;
}

static inline float fpconv_f64_f32(double x) {
  return (float) x;
}

static inline double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

static inline double fdiv64(double x, double y) {
  return x / y;
}

static inline double fadd64(double x, double y) {
  return x + y;
}

static inline double fsub64(double x, double y) {
  return x - y;
}

static inline double fmul64(double x, double y) {
  return x * y;
}

static inline bool cmplt64(double x, double y) {
  return x < y;
}

static inline bool cmple64(double x, double y) {
  return x <= y;
}

static inline double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

static inline double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

static inline double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

static inline double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

static inline double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

static inline double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

static inline double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

static inline double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

static inline double fabs64(double x) {
  return fabs(x);
}

static inline double fmax64(double x, double y) {
  return fmax(x, y);
}

static inline double fmin64(double x, double y) {
  return fmin(x, y);
}

static inline double fpow64(double x, double y) {
  return pow(x, y);
}

static inline double futrts_log64(double x) {
  return log(x);
}

static inline double futrts_log2_64(double x) {
  return log2(x);
}

static inline double futrts_log10_64(double x) {
  return log10(x);
}

static inline double futrts_sqrt64(double x) {
  return sqrt(x);
}

static inline double futrts_cbrt64(double x) {
  return cbrt(x);
}

static inline double futrts_exp64(double x) {
  return exp(x);
}

static inline double futrts_cos64(double x) {
  return cos(x);
}

static inline double futrts_sin64(double x) {
  return sin(x);
}

static inline double futrts_tan64(double x) {
  return tan(x);
}

static inline double futrts_acos64(double x) {
  return acos(x);
}

static inline double futrts_asin64(double x) {
  return asin(x);
}

static inline double futrts_atan64(double x) {
  return atan(x);
}

static inline double futrts_cosh64(double x) {
  return cosh(x);
}

static inline double futrts_sinh64(double x) {
  return sinh(x);
}

static inline double futrts_tanh64(double x) {
  return tanh(x);
}

static inline double futrts_acosh64(double x) {
  return acosh(x);
}

static inline double futrts_asinh64(double x) {
  return asinh(x);
}

static inline double futrts_atanh64(double x) {
  return atanh(x);
}

static inline double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

static inline double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

static inline double futrts_gamma64(double x) {
  return tgamma(x);
}

static inline double futrts_lgamma64(double x) {
  return lgamma(x);
}

static inline double futrts_erf64(double x) {
  return erf(x);
}

static inline double futrts_erfc64(double x) {
  return erfc(x);
}

static inline double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

static inline double futrts_round64(double x) {
  return rint(x);
}

static inline double futrts_ceil64(double x) {
  return ceil(x);
}

static inline float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

static inline double futrts_floor64(double x) {
  return floor(x);
}

static inline bool futrts_isnan64(double x) {
  return isnan(x);
}

static inline bool futrts_isinf64(double x) {
  return isinf(x);
}

static inline int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

static inline int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

static inline int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

static inline int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

static inline uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

static inline uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

static inline uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

static inline uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

static inline bool ftob_f64_bool(double x) {
  return x != 0;
}

static inline double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

static inline int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

static inline double fmod64(double x, double y) {
  return fmod(x, y);
}

static inline double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

static inline double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

static inline double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

static inline float fpconv_f32_f32(float x) {
  return (float) x;
}

static inline double fpconv_f32_f64(float x) {
  return (double) x;
}

static inline float fpconv_f64_f32(double x) {
  return (float) x;
}

static inline double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

static inline f16 fadd16(f16 x, f16 y) {
  return x + y;
}

static inline f16 fsub16(f16 x, f16 y) {
  return x - y;
}

static inline f16 fmul16(f16 x, f16 y) {
  return x * y;
}

static inline bool cmplt16(f16 x, f16 y) {
  return x < y;
}

static inline bool cmple16(f16 x, f16 y) {
  return x <= y;
}

static inline f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

static inline f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

static inline f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

static inline f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

static inline f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

static inline f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

static inline f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

static inline f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

static inline int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

static inline int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

static inline uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

static inline bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

static inline f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
static inline bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

static inline f16 fabs16(f16 x) {
  return fabs(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
static inline f16 fabs16(f16 x) {
  return abs(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}
#else // Assuming CUDA.

static inline f16 fabs16(f16 x) {
  return fabsf(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
static inline bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
static inline bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

static inline bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
static inline f16 futrts_log16(f16 x) {
  return log(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return log2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return log10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

static inline f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return exp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return cos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return sin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tan(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acos(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asin(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atan(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

static inline f16 futrts_erf16(f16 x) {
  return erf(x);
}

static inline f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rint(x);
}

static inline f16 futrts_floor16(f16 x) {
  return floor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

static inline f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

static inline f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

static inline f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

static inline f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

static inline f16 futrts_exp16(f16 x) {
  return exp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

static inline f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

static inline f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

static inline f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

static inline f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

static inline f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

static inline f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

static inline f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

static inline f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

static inline f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

static inline f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

static inline f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
static inline f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
static inline f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

static inline f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

static inline f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

static inline f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

static inline f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

static inline f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

static inline f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

static inline f16 futrts_log16(f16 x) {
  return hlog(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

static inline f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

static inline f16 futrts_exp16(f16 x) {
  return hexp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return hcos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return hsin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tanf(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acosf(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asinf(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atanf(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

static inline f16 futrts_erf16(f16 x) {
  return erff(x);
}

static inline f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rintf(x);
}

static inline f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
static inline int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
static inline f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

static inline int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

static inline f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
static inline int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

static inline f16 fabs16(f16 x) {
  return fabs32(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

static inline bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

static inline bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

static inline f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

static inline f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

static inline f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

static inline f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

static inline f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

static inline f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

static inline f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

static inline f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

static inline f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

static inline f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

static inline f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

static inline f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

static inline int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

static inline f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

static inline int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

static inline f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

static inline f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

static inline float fpconv_f16_f16(f16 x) {
  return x;
}

static inline float fpconv_f16_f32(f16 x) {
  return x;
}

static inline f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

static inline double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
static inline f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
static inline f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in prototypes.h that need to be
// available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// End of of context_prototypes.h

static int init_constants(struct futhark_context *);
static int free_constants(struct futhark_context *);
struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct futhark_context_config {
    int debugging;
    int in_use;
    const char *cache_fname;
};
struct futhark_context_config *futhark_context_config_new(void)
{
    struct futhark_context_config *cfg = (struct futhark_context_config *) malloc(sizeof(struct futhark_context_config));
    
    if (cfg == NULL)
        return NULL;
    cfg->in_use = 0;
    cfg->debugging = 0;
    cfg->cache_fname = NULL;
    return cfg;
}
void futhark_context_config_free(struct futhark_context_config *cfg)
{
    assert(!cfg->in_use);
    free(cfg);
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int detail)
{
    cfg->debugging = detail;
}
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag)
{
    (void) cfg;
    (void) flag;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int detail)
{
    // Does nothing for this backend.
    (void) cfg;
    (void) detail;
}
struct futhark_context {
    struct futhark_context_config *cfg;
    int detail_memory;
    int debugging;
    int profiling;
    int logging;
    lock_t lock;
    char *error;
    lock_t error_lock;
    FILE *log;
    int profiling_paused;
    int64_t peak_mem_usage_default;
    int64_t cur_mem_usage_default;
    struct {
        int dummy;
    } constants;
};
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg)
{
    assert(!cfg->in_use);
    
    struct futhark_context *ctx = (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    ctx->cfg = cfg;
    ctx->cfg->in_use = 1;
    ctx->detail_memory = cfg->debugging;
    ctx->debugging = cfg->debugging;
    ctx->profiling = cfg->debugging;
    ctx->logging = cfg->debugging;
    ctx->error = NULL;
    create_lock(&ctx->error_lock);
    ctx->log = stderr;
    create_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    init_constants(ctx);
    return ctx;
}
void futhark_context_free(struct futhark_context *ctx)
{
    free_constants(ctx);
    free_lock(&ctx->lock);
    ctx->cfg->in_use = 0;
    free(ctx);
}
int futhark_context_sync(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
static const char *tuning_param_names[0];
static const char *tuning_param_vars[0];
static const char *tuning_param_classes[0];
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t param_value)
{
    (void) cfg;
    (void) param_name;
    (void) param_value;
    return 1;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            free(block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default + size);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    block->mem = (unsigned char *) malloc((size_t) size);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        ctx->cur_mem_usage_default += size;
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f)
{
    cfg->cache_fname = f;
}
int futhark_get_tuning_param_count(void)
{
    return sizeof(tuning_param_names) / sizeof(tuning_param_names[0]);
}
const char *futhark_get_tuning_param_name(int i)
{
    return tuning_param_names[i];
}
const char *futhark_get_tuning_param_class(int i)
{
    return tuning_param_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    { }
    if (ctx->profiling) { }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Eventually it would be nice to move the context definition in here
// instead of generating it in the compiler.  For now it defines
// various helper functions that must be available.

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

// End of context.h

static int futrts_entry_hgoInteraction(struct futhark_context *ctx, struct memblock *mem_out_p_273197, int64_t *out_prim_out_273198, struct memblock locations_mem_271592, struct memblock orientations_mem_271593, int64_t nz2085U_229401, float epsilon_229402, float sigma_par_229403, float sigma_ort_229404);
static int futrts_entry_hgoPotential(struct futhark_context *ctx, float *out_prim_out_273271, struct memblock location_mem_271592, struct memblock orientation_mem_271593, float epsilon_164329, float sigma_par_164330, float sigma_ort_164331);
static int futrts_entry_hgoPotentialAbs(struct futhark_context *ctx, float *out_prim_out_273272, struct memblock location0_mem_271592, struct memblock orientation0_mem_271593, struct memblock location1_mem_271594, struct memblock orientation1_mem_271595, float epsilon_183444, float sigma_par_183445, float sigma_ort_183446);
static int futrts_entry_networkInteraction(struct futhark_context *ctx, struct memblock *mem_out_p_273273, int64_t *out_prim_out_273274, struct memblock z31U_mem_271592, struct memblock z31U_mem_271593, struct memblock z31U_mem_271594, struct memblock z31U_mem_271595, struct memblock z31U_mem_271596, struct memblock z31U_mem_271597, struct memblock z31U_mem_271598, struct memblock z31U_mem_271599, struct memblock z31U_mem_271600, struct memblock z31U_mem_271601, struct memblock z31U_mem_271602, struct memblock z31U_mem_271603, struct memblock z31U_mem_271604, struct memblock locations_mem_271605, struct memblock orientations_mem_271606, int64_t dz2080U_226337, int64_t dz2081U_226338, int64_t nz2084U_226339, int8_t z30U_226340, float z30U_226341, float z30U_226342, float z30U_226343, float z30U_226344, float z30U_226345, float z30U_226346, float z30U_226347, float z30U_226348, float z30U_226349, float z30U_226350, float z30U_226351, float z30U_226352, float z30U_226353, int32_t z30U_226354);
static int futrts_entry_networkPotential(struct futhark_context *ctx, float *out_prim_out_273358, struct memblock z31U_mem_271592, struct memblock z31U_mem_271593, struct memblock z31U_mem_271594, struct memblock z31U_mem_271595, struct memblock z31U_mem_271596, struct memblock z31U_mem_271597, struct memblock z31U_mem_271598, struct memblock z31U_mem_271599, struct memblock z31U_mem_271600, struct memblock z31U_mem_271601, struct memblock z31U_mem_271602, struct memblock z31U_mem_271603, struct memblock z31U_mem_271604, struct memblock location_mem_271605, struct memblock orientation_mem_271606, int64_t dz2080U_164198, int64_t dz2081U_164199, int8_t z30U_164200, float z30U_164201, float z30U_164202, float z30U_164203, float z30U_164204, float z30U_164205, float z30U_164206, float z30U_164207, float z30U_164208, float z30U_164209, float z30U_164210, float z30U_164211, float z30U_164212, float z30U_164213, int32_t z30U_164214);
static int futrts_entry_networkPotentialAbs(struct futhark_context *ctx, float *out_prim_out_273362, struct memblock z31U_mem_271592, struct memblock z31U_mem_271593, struct memblock z31U_mem_271594, struct memblock z31U_mem_271595, struct memblock z31U_mem_271596, struct memblock z31U_mem_271597, struct memblock z31U_mem_271598, struct memblock z31U_mem_271599, struct memblock z31U_mem_271600, struct memblock z31U_mem_271601, struct memblock z31U_mem_271602, struct memblock z31U_mem_271603, struct memblock z31U_mem_271604, struct memblock location0_mem_271605, struct memblock orientation0_mem_271606, struct memblock location1_mem_271607, struct memblock orientation1_mem_271608, int64_t dz2080U_183380, int64_t dz2081U_183381, int8_t z30U_183382, float z30U_183383, float z30U_183384, float z30U_183385, float z30U_183386, float z30U_183387, float z30U_183388, float z30U_183389, float z30U_183390, float z30U_183391, float z30U_183392, float z30U_183393, float z30U_183394, float z30U_183395, int32_t z30U_183396);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_f32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0)
{
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, const unsigned char *data, int64_t offset, int64_t dim0)
{
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, data + offset, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data)
{
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove(data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return 0;
}
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f32_2d {
    struct memblock mem;
    int64_t shape[2];
};
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const float *data, int64_t dim0, int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr = (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0)
        memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const unsigned char *data, int64_t offset, int64_t dim0, int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr = (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0)
        memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr, float *data)
{
    lock_lock(&ctx->lock);
    if ((size_t) (arr->shape[0] * arr->shape[1]) * 4 > 0)
        memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] * arr->shape[1]) * 4);
    lock_unlock(&ctx->lock);
    return 0;
}
unsigned char *futhark_values_raw_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_opaque_particleType {
    int8_t v0;
    float v1;
    float v2;
    float v3;
    float v4;
    float v5;
    float v6;
    float v7;
    float v8;
    float v9;
    float v10;
    float v11;
    float v12;
};
int futhark_free_opaque_particleType(struct futhark_context *ctx, struct futhark_opaque_particleType *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    free(obj);
    return ret;
}
int futhark_store_opaque_particleType(struct futhark_context *ctx, const struct futhark_opaque_particleType *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 0 * sizeof(int64_t) + 1 * 1;
    int64_t size_1 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_2 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_3 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_4 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_5 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_6 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_7 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_8 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_9 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_10 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_11 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_12 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    
    *n = size_0 + size_1 + size_2 + size_3 + size_4 + size_5 + size_6 + size_7 + size_8 + size_9 + size_10 + size_11 + size_12;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, &obj->v0, sizeof(obj->v0));
        out += sizeof(obj->v0);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v1, sizeof(obj->v1));
        out += sizeof(obj->v1);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v2, sizeof(obj->v2));
        out += sizeof(obj->v2);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v3, sizeof(obj->v3));
        out += sizeof(obj->v3);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v4, sizeof(obj->v4));
        out += sizeof(obj->v4);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v5, sizeof(obj->v5));
        out += sizeof(obj->v5);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v6, sizeof(obj->v6));
        out += sizeof(obj->v6);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v7, sizeof(obj->v7));
        out += sizeof(obj->v7);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v8, sizeof(obj->v8));
        out += sizeof(obj->v8);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v9, sizeof(obj->v9));
        out += sizeof(obj->v9);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v10, sizeof(obj->v10));
        out += sizeof(obj->v10);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v11, sizeof(obj->v11));
        out += sizeof(obj->v11);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v12, sizeof(obj->v12));
        out += sizeof(obj->v12);
    }
    return ret;
}
struct futhark_opaque_particleType *futhark_restore_opaque_particleType(struct futhark_context *ctx, const void *p)
{
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_particleType *obj = malloc(sizeof(struct futhark_opaque_particleType));
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    src += sizeof(obj->v0);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    src += sizeof(obj->v1);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    src += sizeof(obj->v2);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    src += sizeof(obj->v3);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_4 = src;
    
    src += sizeof(obj->v4);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_5 = src;
    
    src += sizeof(obj->v5);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_6 = src;
    
    src += sizeof(obj->v6);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_7 = src;
    
    src += sizeof(obj->v7);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_8 = src;
    
    src += sizeof(obj->v8);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_9 = src;
    
    src += sizeof(obj->v9);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_10 = src;
    
    src += sizeof(obj->v10);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_11 = src;
    
    src += sizeof(obj->v11);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_12 = src;
    
    src += sizeof(obj->v12);
    if (err == 0) {
        memcpy(&obj->v0, data_0, sizeof(obj->v0));
        memcpy(&obj->v1, data_1, sizeof(obj->v1));
        memcpy(&obj->v2, data_2, sizeof(obj->v2));
        memcpy(&obj->v3, data_3, sizeof(obj->v3));
        memcpy(&obj->v4, data_4, sizeof(obj->v4));
        memcpy(&obj->v5, data_5, sizeof(obj->v5));
        memcpy(&obj->v6, data_6, sizeof(obj->v6));
        memcpy(&obj->v7, data_7, sizeof(obj->v7));
        memcpy(&obj->v8, data_8, sizeof(obj->v8));
        memcpy(&obj->v9, data_9, sizeof(obj->v9));
        memcpy(&obj->v10, data_10, sizeof(obj->v10));
        memcpy(&obj->v11, data_11, sizeof(obj->v11));
        memcpy(&obj->v12, data_12, sizeof(obj->v12));
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_e9a0e68b {
    int8_t v0;
    float v1;
    float v2;
    float v3;
    float v4;
    float v5;
    float v6;
    float v7;
    float v8;
    float v9;
    float v10;
    float v11;
    float v12;
    float v13;
    int32_t v14;
};
int futhark_project_opaque_e9a0e68b_0(struct futhark_context *ctx, struct futhark_opaque_particleType **out, const struct futhark_opaque_e9a0e68b *obj)
{
    (void) ctx;
    
    struct futhark_opaque_particleType *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_opaque_particleType));
    v->v0 = obj->v0;
    v->v1 = obj->v1;
    v->v2 = obj->v2;
    v->v3 = obj->v3;
    v->v4 = obj->v4;
    v->v5 = obj->v5;
    v->v6 = obj->v6;
    v->v7 = obj->v7;
    v->v8 = obj->v8;
    v->v9 = obj->v9;
    v->v10 = obj->v10;
    v->v11 = obj->v11;
    v->v12 = obj->v12;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_e9a0e68b_1(struct futhark_context *ctx, float *out, const struct futhark_opaque_e9a0e68b *obj)
{
    (void) ctx;
    
    float v;
    
    v = obj->v13;
    *out = v;
    return 0;
}
int futhark_project_opaque_e9a0e68b_2(struct futhark_context *ctx, int32_t *out, const struct futhark_opaque_e9a0e68b *obj)
{
    (void) ctx;
    
    int32_t v;
    
    v = obj->v14;
    *out = v;
    return 0;
}
int futhark_new_opaque_e9a0e68b(struct futhark_context *ctx, struct futhark_opaque_e9a0e68b **out, const struct futhark_opaque_particleType *v0, const float v1, const int32_t v2)
{
    struct futhark_opaque_e9a0e68b *v = malloc(sizeof(struct futhark_opaque_e9a0e68b));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = v0->v0;
        v->v1 = v0->v1;
        v->v2 = v0->v2;
        v->v3 = v0->v3;
        v->v4 = v0->v4;
        v->v5 = v0->v5;
        v->v6 = v0->v6;
        v->v7 = v0->v7;
        v->v8 = v0->v8;
        v->v9 = v0->v9;
        v->v10 = v0->v10;
        v->v11 = v0->v11;
        v->v12 = v0->v12;
    }
    v->v13 = v1;
    v->v14 = v2;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_free_opaque_e9a0e68b(struct futhark_context *ctx, struct futhark_opaque_e9a0e68b *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    free(obj);
    return ret;
}
int futhark_store_opaque_e9a0e68b(struct futhark_context *ctx, const struct futhark_opaque_e9a0e68b *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 0 * sizeof(int64_t) + 1 * 1;
    int64_t size_1 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_2 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_3 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_4 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_5 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_6 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_7 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_8 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_9 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_10 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_11 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_12 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_13 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_14 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    
    *n = size_0 + size_1 + size_2 + size_3 + size_4 + size_5 + size_6 + size_7 + size_8 + size_9 + size_10 + size_11 + size_12 + size_13 + size_14;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, &obj->v0, sizeof(obj->v0));
        out += sizeof(obj->v0);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v1, sizeof(obj->v1));
        out += sizeof(obj->v1);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v2, sizeof(obj->v2));
        out += sizeof(obj->v2);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v3, sizeof(obj->v3));
        out += sizeof(obj->v3);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v4, sizeof(obj->v4));
        out += sizeof(obj->v4);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v5, sizeof(obj->v5));
        out += sizeof(obj->v5);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v6, sizeof(obj->v6));
        out += sizeof(obj->v6);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v7, sizeof(obj->v7));
        out += sizeof(obj->v7);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v8, sizeof(obj->v8));
        out += sizeof(obj->v8);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v9, sizeof(obj->v9));
        out += sizeof(obj->v9);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v10, sizeof(obj->v10));
        out += sizeof(obj->v10);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v11, sizeof(obj->v11));
        out += sizeof(obj->v11);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v12, sizeof(obj->v12));
        out += sizeof(obj->v12);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v13, sizeof(obj->v13));
        out += sizeof(obj->v13);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, &obj->v14, sizeof(obj->v14));
        out += sizeof(obj->v14);
    }
    return ret;
}
struct futhark_opaque_e9a0e68b *futhark_restore_opaque_e9a0e68b(struct futhark_context *ctx, const void *p)
{
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_e9a0e68b *obj = malloc(sizeof(struct futhark_opaque_e9a0e68b));
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    src += sizeof(obj->v0);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    src += sizeof(obj->v1);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    src += sizeof(obj->v2);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    src += sizeof(obj->v3);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_4 = src;
    
    src += sizeof(obj->v4);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_5 = src;
    
    src += sizeof(obj->v5);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_6 = src;
    
    src += sizeof(obj->v6);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_7 = src;
    
    src += sizeof(obj->v7);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_8 = src;
    
    src += sizeof(obj->v8);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_9 = src;
    
    src += sizeof(obj->v9);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_10 = src;
    
    src += sizeof(obj->v10);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_11 = src;
    
    src += sizeof(obj->v11);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_12 = src;
    
    src += sizeof(obj->v12);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_13 = src;
    
    src += sizeof(obj->v13);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_14 = src;
    
    src += sizeof(obj->v14);
    if (err == 0) {
        memcpy(&obj->v0, data_0, sizeof(obj->v0));
        memcpy(&obj->v1, data_1, sizeof(obj->v1));
        memcpy(&obj->v2, data_2, sizeof(obj->v2));
        memcpy(&obj->v3, data_3, sizeof(obj->v3));
        memcpy(&obj->v4, data_4, sizeof(obj->v4));
        memcpy(&obj->v5, data_5, sizeof(obj->v5));
        memcpy(&obj->v6, data_6, sizeof(obj->v6));
        memcpy(&obj->v7, data_7, sizeof(obj->v7));
        memcpy(&obj->v8, data_8, sizeof(obj->v8));
        memcpy(&obj->v9, data_9, sizeof(obj->v9));
        memcpy(&obj->v10, data_10, sizeof(obj->v10));
        memcpy(&obj->v11, data_11, sizeof(obj->v11));
        memcpy(&obj->v12, data_12, sizeof(obj->v12));
        memcpy(&obj->v13, data_13, sizeof(obj->v13));
        memcpy(&obj->v14, data_14, sizeof(obj->v14));
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_c5da5e9b {
    struct futhark_f32_1d *v0;
    struct futhark_f32_1d *v1;
    struct futhark_f32_1d *v2;
    struct futhark_f32_1d *v3;
    struct futhark_f32_1d *v4;
    struct futhark_f32_1d *v5;
};
int futhark_free_opaque_c5da5e9b(struct futhark_context *ctx, struct futhark_opaque_c5da5e9b *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    if (obj->v3 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v3)) != 0)
        ret = tmp;
    if (obj->v4 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v4)) != 0)
        ret = tmp;
    if (obj->v5 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v5)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_c5da5e9b(struct futhark_context *ctx, const struct futhark_opaque_c5da5e9b *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v0)[0] * 4;
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v2)[0] * 4;
    int64_t size_3 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v3)[0] * 4;
    int64_t size_4 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v4)[0] * 4;
    int64_t size_5 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v5)[0] * 4;
    
    *n = size_0 + size_1 + size_2 + size_3 + size_4 + size_5;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v0)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v2)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v3), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v3, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v3)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v4), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v4, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v4)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v5), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v5, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v5)[0] * 4;
    }
    return ret;
}
struct futhark_opaque_c5da5e9b *futhark_restore_opaque_c5da5e9b(struct futhark_context *ctx, const void *p)
{
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_c5da5e9b *obj = malloc(sizeof(struct futhark_opaque_c5da5e9b));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * 4;
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * 4;
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * 4;
    
    int64_t shape_3[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_3, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    obj->v3 = NULL;
    src += shape_3[0] * 4;
    
    int64_t shape_4[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_4, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_4 = src;
    
    obj->v4 = NULL;
    src += shape_4[0] * 4;
    
    int64_t shape_5[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_5, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_5 = src;
    
    obj->v5 = NULL;
    src += shape_5[0] * 4;
    if (err == 0) {
        obj->v0 = futhark_new_f32_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
        obj->v3 = futhark_new_f32_1d(ctx, data_3, shape_3[0]);
        if (obj->v3 == NULL)
            err = 1;
        obj->v4 = futhark_new_f32_1d(ctx, data_4, shape_4[0]);
        if (obj->v4 == NULL)
            err = 1;
        obj->v5 = futhark_new_f32_1d(ctx, data_5, shape_5[0]);
        if (obj->v5 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        if (obj->v3 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v3)) != 0)
            ret = tmp;
        if (obj->v4 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v4)) != 0)
            ret = tmp;
        if (obj->v5 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v5)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_f270e689 {
    struct futhark_f32_2d *v0;
    struct futhark_f32_1d *v1;
};
int futhark_project_opaque_f270e689_0(struct futhark_context *ctx, struct futhark_f32_2d **out, const struct futhark_opaque_f270e689 *obj)
{
    (void) ctx;
    
    struct futhark_f32_2d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_2d));
    memcpy(v, obj->v0, sizeof(struct futhark_f32_2d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_f270e689_1(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_f270e689 *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_f270e689(struct futhark_context *ctx, struct futhark_opaque_f270e689 **out, const struct futhark_f32_2d *v0, const struct futhark_f32_1d *v1)
{
    struct futhark_opaque_f270e689 *v = malloc(sizeof(struct futhark_opaque_f270e689));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_f32_2d));
        *v->v0 = *v0;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f32_1d));
        *v->v1 = *v1;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_free_opaque_f270e689(struct futhark_context *ctx, struct futhark_opaque_f270e689 *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_f270e689(struct futhark_context *ctx, const struct futhark_opaque_f270e689 *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v0)[0] * futhark_shape_f32_2d(ctx, obj->v0)[1] * 4;
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v0), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v0)[0] * futhark_shape_f32_2d(ctx, obj->v0)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
    }
    return ret;
}
struct futhark_opaque_f270e689 *futhark_restore_opaque_f270e689(struct futhark_context *ctx, const void *p)
{
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_f270e689 *obj = malloc(sizeof(struct futhark_opaque_f270e689));
    int64_t shape_0[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * shape_0[1] * 4;
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * 4;
    if (err == 0) {
        obj->v0 = futhark_new_f32_2d(ctx, data_0, shape_0[0], shape_0[1]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_32531da2 {
    struct futhark_f32_2d *v0;
    struct futhark_f32_1d *v1;
};
int futhark_project_opaque_32531da2_0(struct futhark_context *ctx, struct futhark_f32_2d **out, const struct futhark_opaque_32531da2 *obj)
{
    (void) ctx;
    
    struct futhark_f32_2d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_2d));
    memcpy(v, obj->v0, sizeof(struct futhark_f32_2d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_32531da2_1(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_32531da2 *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_32531da2(struct futhark_context *ctx, struct futhark_opaque_32531da2 **out, const struct futhark_f32_2d *v0, const struct futhark_f32_1d *v1)
{
    struct futhark_opaque_32531da2 *v = malloc(sizeof(struct futhark_opaque_32531da2));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_f32_2d));
        *v->v0 = *v0;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f32_1d));
        *v->v1 = *v1;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_free_opaque_32531da2(struct futhark_context *ctx, struct futhark_opaque_32531da2 *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_32531da2(struct futhark_context *ctx, const struct futhark_opaque_32531da2 *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v0)[0] * futhark_shape_f32_2d(ctx, obj->v0)[1] * 4;
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v0), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v0)[0] * futhark_shape_f32_2d(ctx, obj->v0)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
    }
    return ret;
}
struct futhark_opaque_32531da2 *futhark_restore_opaque_32531da2(struct futhark_context *ctx, const void *p)
{
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_32531da2 *obj = malloc(sizeof(struct futhark_opaque_32531da2));
    int64_t shape_0[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * shape_0[1] * 4;
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * 4;
    if (err == 0) {
        obj->v0 = futhark_new_f32_2d(ctx, data_0, shape_0[0], shape_0[1]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_8ce68ead {
    struct futhark_f32_2d *v0;
    struct futhark_f32_1d *v1;
    struct futhark_f32_2d *v2;
    struct futhark_f32_1d *v3;
};
int futhark_project_opaque_8ce68ead_0(struct futhark_context *ctx, struct futhark_opaque_f270e689 **out, const struct futhark_opaque_8ce68ead *obj)
{
    (void) ctx;
    
    struct futhark_opaque_f270e689 *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_opaque_f270e689));
    v->v0 = malloc(sizeof(*v->v0));
    *v->v0 = *obj->v0;
    (void) (*v->v0->mem.references)++;
    v->v1 = malloc(sizeof(*v->v1));
    *v->v1 = *obj->v1;
    (void) (*v->v1->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_8ce68ead_1(struct futhark_context *ctx, struct futhark_opaque_32531da2 **out, const struct futhark_opaque_8ce68ead *obj)
{
    (void) ctx;
    
    struct futhark_opaque_32531da2 *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_opaque_32531da2));
    v->v0 = malloc(sizeof(*v->v0));
    *v->v0 = *obj->v2;
    (void) (*v->v0->mem.references)++;
    v->v1 = malloc(sizeof(*v->v1));
    *v->v1 = *obj->v3;
    (void) (*v->v1->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_8ce68ead(struct futhark_context *ctx, struct futhark_opaque_8ce68ead **out, const struct futhark_opaque_f270e689 *v0, const struct futhark_opaque_32531da2 *v1)
{
    struct futhark_opaque_8ce68ead *v = malloc(sizeof(struct futhark_opaque_8ce68ead));
    
    lock_lock(&ctx->lock);
    {
        {
            v->v0 = malloc(sizeof(*v0->v0));
            *v->v0 = *v0->v0;
            (void) (*v->v0->mem.references)++;
        }
        {
            v->v1 = malloc(sizeof(*v0->v1));
            *v->v1 = *v0->v1;
            (void) (*v->v1->mem.references)++;
        }
    }
    {
        {
            v->v2 = malloc(sizeof(*v1->v0));
            *v->v2 = *v1->v0;
            (void) (*v->v2->mem.references)++;
        }
        {
            v->v3 = malloc(sizeof(*v1->v1));
            *v->v3 = *v1->v1;
            (void) (*v->v3->mem.references)++;
        }
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_free_opaque_8ce68ead(struct futhark_context *ctx, struct futhark_opaque_8ce68ead *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v2)) != 0)
        ret = tmp;
    if (obj->v3 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v3)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_8ce68ead(struct futhark_context *ctx, const struct futhark_opaque_8ce68ead *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v0)[0] * futhark_shape_f32_2d(ctx, obj->v0)[1] * 4;
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
    int64_t size_2 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v2)[0] * futhark_shape_f32_2d(ctx, obj->v2)[1] * 4;
    int64_t size_3 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v3)[0] * 4;
    
    *n = size_0 + size_1 + size_2 + size_3;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v0), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v0)[0] * futhark_shape_f32_2d(ctx, obj->v0)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v2), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v2)[0] * futhark_shape_f32_2d(ctx, obj->v2)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v3), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v3, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v3)[0] * 4;
    }
    return ret;
}
struct futhark_opaque_8ce68ead *futhark_restore_opaque_8ce68ead(struct futhark_context *ctx, const void *p)
{
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_8ce68ead *obj = malloc(sizeof(struct futhark_opaque_8ce68ead));
    int64_t shape_0[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * shape_0[1] * 4;
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * 4;
    
    int64_t shape_2[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * shape_2[1] * 4;
    
    int64_t shape_3[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_3, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    obj->v3 = NULL;
    src += shape_3[0] * 4;
    if (err == 0) {
        obj->v0 = futhark_new_f32_2d(ctx, data_0, shape_0[0], shape_0[1]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_2d(ctx, data_2, shape_2[0], shape_2[1]);
        if (obj->v2 == NULL)
            err = 1;
        obj->v3 = futhark_new_f32_1d(ctx, data_3, shape_3[0]);
        if (obj->v3 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v2)) != 0)
            ret = tmp;
        if (obj->v3 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v3)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_8f5f2e9d {
    struct futhark_f32_2d *v0;
    struct futhark_f32_1d *v1;
    struct futhark_f32_2d *v2;
    struct futhark_f32_1d *v3;
    struct futhark_f32_2d *v4;
    struct futhark_f32_1d *v5;
};
int futhark_project_opaque_8f5f2e9d_0(struct futhark_context *ctx, struct futhark_opaque_8ce68ead **out, const struct futhark_opaque_8f5f2e9d *obj)
{
    (void) ctx;
    
    struct futhark_opaque_8ce68ead *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_opaque_8ce68ead));
    v->v0 = malloc(sizeof(*v->v0));
    *v->v0 = *obj->v0;
    (void) (*v->v0->mem.references)++;
    v->v1 = malloc(sizeof(*v->v1));
    *v->v1 = *obj->v1;
    (void) (*v->v1->mem.references)++;
    v->v2 = malloc(sizeof(*v->v2));
    *v->v2 = *obj->v2;
    (void) (*v->v2->mem.references)++;
    v->v3 = malloc(sizeof(*v->v3));
    *v->v3 = *obj->v3;
    (void) (*v->v3->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_8f5f2e9d_1(struct futhark_context *ctx, struct futhark_opaque_32531da2 **out, const struct futhark_opaque_8f5f2e9d *obj)
{
    (void) ctx;
    
    struct futhark_opaque_32531da2 *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_opaque_32531da2));
    v->v0 = malloc(sizeof(*v->v0));
    *v->v0 = *obj->v4;
    (void) (*v->v0->mem.references)++;
    v->v1 = malloc(sizeof(*v->v1));
    *v->v1 = *obj->v5;
    (void) (*v->v1->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_8f5f2e9d(struct futhark_context *ctx, struct futhark_opaque_8f5f2e9d **out, const struct futhark_opaque_8ce68ead *v0, const struct futhark_opaque_32531da2 *v1)
{
    struct futhark_opaque_8f5f2e9d *v = malloc(sizeof(struct futhark_opaque_8f5f2e9d));
    
    lock_lock(&ctx->lock);
    {
        {
            v->v0 = malloc(sizeof(*v0->v0));
            *v->v0 = *v0->v0;
            (void) (*v->v0->mem.references)++;
        }
        {
            v->v1 = malloc(sizeof(*v0->v1));
            *v->v1 = *v0->v1;
            (void) (*v->v1->mem.references)++;
        }
        {
            v->v2 = malloc(sizeof(*v0->v2));
            *v->v2 = *v0->v2;
            (void) (*v->v2->mem.references)++;
        }
        {
            v->v3 = malloc(sizeof(*v0->v3));
            *v->v3 = *v0->v3;
            (void) (*v->v3->mem.references)++;
        }
    }
    {
        {
            v->v4 = malloc(sizeof(*v1->v0));
            *v->v4 = *v1->v0;
            (void) (*v->v4->mem.references)++;
        }
        {
            v->v5 = malloc(sizeof(*v1->v1));
            *v->v5 = *v1->v1;
            (void) (*v->v5->mem.references)++;
        }
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_free_opaque_8f5f2e9d(struct futhark_context *ctx, struct futhark_opaque_8f5f2e9d *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v2)) != 0)
        ret = tmp;
    if (obj->v3 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v3)) != 0)
        ret = tmp;
    if (obj->v4 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v4)) != 0)
        ret = tmp;
    if (obj->v5 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v5)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_8f5f2e9d(struct futhark_context *ctx, const struct futhark_opaque_8f5f2e9d *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v0)[0] * futhark_shape_f32_2d(ctx, obj->v0)[1] * 4;
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
    int64_t size_2 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v2)[0] * futhark_shape_f32_2d(ctx, obj->v2)[1] * 4;
    int64_t size_3 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v3)[0] * 4;
    int64_t size_4 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v4)[0] * futhark_shape_f32_2d(ctx, obj->v4)[1] * 4;
    int64_t size_5 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v5)[0] * 4;
    
    *n = size_0 + size_1 + size_2 + size_3 + size_4 + size_5;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v0), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v0)[0] * futhark_shape_f32_2d(ctx, obj->v0)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v2), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v2)[0] * futhark_shape_f32_2d(ctx, obj->v2)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v3), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v3, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v3)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v4), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v4, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v4)[0] * futhark_shape_f32_2d(ctx, obj->v4)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v5), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v5, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v5)[0] * 4;
    }
    return ret;
}
struct futhark_opaque_8f5f2e9d *futhark_restore_opaque_8f5f2e9d(struct futhark_context *ctx, const void *p)
{
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_8f5f2e9d *obj = malloc(sizeof(struct futhark_opaque_8f5f2e9d));
    int64_t shape_0[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * shape_0[1] * 4;
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * 4;
    
    int64_t shape_2[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * shape_2[1] * 4;
    
    int64_t shape_3[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_3, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    obj->v3 = NULL;
    src += shape_3[0] * 4;
    
    int64_t shape_4[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_4, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_4 = src;
    
    obj->v4 = NULL;
    src += shape_4[0] * shape_4[1] * 4;
    
    int64_t shape_5[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_5, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_5 = src;
    
    obj->v5 = NULL;
    src += shape_5[0] * 4;
    if (err == 0) {
        obj->v0 = futhark_new_f32_2d(ctx, data_0, shape_0[0], shape_0[1]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_2d(ctx, data_2, shape_2[0], shape_2[1]);
        if (obj->v2 == NULL)
            err = 1;
        obj->v3 = futhark_new_f32_1d(ctx, data_3, shape_3[0]);
        if (obj->v3 == NULL)
            err = 1;
        obj->v4 = futhark_new_f32_2d(ctx, data_4, shape_4[0], shape_4[1]);
        if (obj->v4 == NULL)
            err = 1;
        obj->v5 = futhark_new_f32_1d(ctx, data_5, shape_5[0]);
        if (obj->v5 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v2)) != 0)
            ret = tmp;
        if (obj->v3 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v3)) != 0)
            ret = tmp;
        if (obj->v4 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v4)) != 0)
            ret = tmp;
        if (obj->v5 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v5)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_b0aee03a {
    struct futhark_f32_2d *v0;
    struct futhark_f32_1d *v1;
    struct futhark_f32_2d *v2;
    struct futhark_f32_1d *v3;
    struct futhark_f32_2d *v4;
    struct futhark_f32_1d *v5;
    struct futhark_f32_1d *v6;
};
int futhark_project_opaque_b0aee03a_0(struct futhark_context *ctx, struct futhark_opaque_8f5f2e9d **out, const struct futhark_opaque_b0aee03a *obj)
{
    (void) ctx;
    
    struct futhark_opaque_8f5f2e9d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_opaque_8f5f2e9d));
    v->v0 = malloc(sizeof(*v->v0));
    *v->v0 = *obj->v0;
    (void) (*v->v0->mem.references)++;
    v->v1 = malloc(sizeof(*v->v1));
    *v->v1 = *obj->v1;
    (void) (*v->v1->mem.references)++;
    v->v2 = malloc(sizeof(*v->v2));
    *v->v2 = *obj->v2;
    (void) (*v->v2->mem.references)++;
    v->v3 = malloc(sizeof(*v->v3));
    *v->v3 = *obj->v3;
    (void) (*v->v3->mem.references)++;
    v->v4 = malloc(sizeof(*v->v4));
    *v->v4 = *obj->v4;
    (void) (*v->v4->mem.references)++;
    v->v5 = malloc(sizeof(*v->v5));
    *v->v5 = *obj->v5;
    (void) (*v->v5->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_b0aee03a_1(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_b0aee03a *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v6, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_b0aee03a(struct futhark_context *ctx, struct futhark_opaque_b0aee03a **out, const struct futhark_opaque_8f5f2e9d *v0, const struct futhark_f32_1d *v1)
{
    struct futhark_opaque_b0aee03a *v = malloc(sizeof(struct futhark_opaque_b0aee03a));
    
    lock_lock(&ctx->lock);
    {
        {
            v->v0 = malloc(sizeof(*v0->v0));
            *v->v0 = *v0->v0;
            (void) (*v->v0->mem.references)++;
        }
        {
            v->v1 = malloc(sizeof(*v0->v1));
            *v->v1 = *v0->v1;
            (void) (*v->v1->mem.references)++;
        }
        {
            v->v2 = malloc(sizeof(*v0->v2));
            *v->v2 = *v0->v2;
            (void) (*v->v2->mem.references)++;
        }
        {
            v->v3 = malloc(sizeof(*v0->v3));
            *v->v3 = *v0->v3;
            (void) (*v->v3->mem.references)++;
        }
        {
            v->v4 = malloc(sizeof(*v0->v4));
            *v->v4 = *v0->v4;
            (void) (*v->v4->mem.references)++;
        }
        {
            v->v5 = malloc(sizeof(*v0->v5));
            *v->v5 = *v0->v5;
            (void) (*v->v5->mem.references)++;
        }
    }
    {
        v->v6 = malloc(sizeof(struct futhark_f32_1d));
        *v->v6 = *v1;
        (void) (*v->v6->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_free_opaque_b0aee03a(struct futhark_context *ctx, struct futhark_opaque_b0aee03a *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v2)) != 0)
        ret = tmp;
    if (obj->v3 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v3)) != 0)
        ret = tmp;
    if (obj->v4 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v4)) != 0)
        ret = tmp;
    if (obj->v5 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v5)) != 0)
        ret = tmp;
    if (obj->v6 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v6)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_b0aee03a(struct futhark_context *ctx, const struct futhark_opaque_b0aee03a *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v0)[0] * futhark_shape_f32_2d(ctx, obj->v0)[1] * 4;
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
    int64_t size_2 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v2)[0] * futhark_shape_f32_2d(ctx, obj->v2)[1] * 4;
    int64_t size_3 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v3)[0] * 4;
    int64_t size_4 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v4)[0] * futhark_shape_f32_2d(ctx, obj->v4)[1] * 4;
    int64_t size_5 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v5)[0] * 4;
    int64_t size_6 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v6)[0] * 4;
    
    *n = size_0 + size_1 + size_2 + size_3 + size_4 + size_5 + size_6;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v0), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v0)[0] * futhark_shape_f32_2d(ctx, obj->v0)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v2), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v2)[0] * futhark_shape_f32_2d(ctx, obj->v2)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v3), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v3, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v3)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v4), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v4, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v4)[0] * futhark_shape_f32_2d(ctx, obj->v4)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v5), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v5, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v5)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v6), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v6, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v6)[0] * 4;
    }
    return ret;
}
struct futhark_opaque_b0aee03a *futhark_restore_opaque_b0aee03a(struct futhark_context *ctx, const void *p)
{
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_b0aee03a *obj = malloc(sizeof(struct futhark_opaque_b0aee03a));
    int64_t shape_0[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * shape_0[1] * 4;
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * 4;
    
    int64_t shape_2[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * shape_2[1] * 4;
    
    int64_t shape_3[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_3, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    obj->v3 = NULL;
    src += shape_3[0] * 4;
    
    int64_t shape_4[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_4, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_4 = src;
    
    obj->v4 = NULL;
    src += shape_4[0] * shape_4[1] * 4;
    
    int64_t shape_5[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_5, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_5 = src;
    
    obj->v5 = NULL;
    src += shape_5[0] * 4;
    
    int64_t shape_6[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_6, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_6 = src;
    
    obj->v6 = NULL;
    src += shape_6[0] * 4;
    if (err == 0) {
        obj->v0 = futhark_new_f32_2d(ctx, data_0, shape_0[0], shape_0[1]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_2d(ctx, data_2, shape_2[0], shape_2[1]);
        if (obj->v2 == NULL)
            err = 1;
        obj->v3 = futhark_new_f32_1d(ctx, data_3, shape_3[0]);
        if (obj->v3 == NULL)
            err = 1;
        obj->v4 = futhark_new_f32_2d(ctx, data_4, shape_4[0], shape_4[1]);
        if (obj->v4 == NULL)
            err = 1;
        obj->v5 = futhark_new_f32_1d(ctx, data_5, shape_5[0]);
        if (obj->v5 == NULL)
            err = 1;
        obj->v6 = futhark_new_f32_1d(ctx, data_6, shape_6[0]);
        if (obj->v6 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v2)) != 0)
            ret = tmp;
        if (obj->v3 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v3)) != 0)
            ret = tmp;
        if (obj->v4 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v4)) != 0)
            ret = tmp;
        if (obj->v5 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v5)) != 0)
            ret = tmp;
        if (obj->v6 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v6)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_67daac7 {
    struct futhark_f32_1d *v0;
    struct futhark_f32_1d *v1;
    struct futhark_f32_1d *v2;
    struct futhark_f32_1d *v3;
    struct futhark_f32_1d *v4;
    struct futhark_f32_1d *v5;
    struct futhark_f32_2d *v6;
    struct futhark_f32_1d *v7;
    struct futhark_f32_2d *v8;
    struct futhark_f32_1d *v9;
    struct futhark_f32_2d *v10;
    struct futhark_f32_1d *v11;
    struct futhark_f32_1d *v12;
};
int futhark_project_opaque_67daac7_0(struct futhark_context *ctx, struct futhark_opaque_c5da5e9b **out, const struct futhark_opaque_67daac7 *obj)
{
    (void) ctx;
    
    struct futhark_opaque_c5da5e9b *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_opaque_c5da5e9b));
    v->v0 = malloc(sizeof(*v->v0));
    *v->v0 = *obj->v0;
    (void) (*v->v0->mem.references)++;
    v->v1 = malloc(sizeof(*v->v1));
    *v->v1 = *obj->v1;
    (void) (*v->v1->mem.references)++;
    v->v2 = malloc(sizeof(*v->v2));
    *v->v2 = *obj->v2;
    (void) (*v->v2->mem.references)++;
    v->v3 = malloc(sizeof(*v->v3));
    *v->v3 = *obj->v3;
    (void) (*v->v3->mem.references)++;
    v->v4 = malloc(sizeof(*v->v4));
    *v->v4 = *obj->v4;
    (void) (*v->v4->mem.references)++;
    v->v5 = malloc(sizeof(*v->v5));
    *v->v5 = *obj->v5;
    (void) (*v->v5->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_67daac7_1(struct futhark_context *ctx, struct futhark_opaque_b0aee03a **out, const struct futhark_opaque_67daac7 *obj)
{
    (void) ctx;
    
    struct futhark_opaque_b0aee03a *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_opaque_b0aee03a));
    v->v0 = malloc(sizeof(*v->v0));
    *v->v0 = *obj->v6;
    (void) (*v->v0->mem.references)++;
    v->v1 = malloc(sizeof(*v->v1));
    *v->v1 = *obj->v7;
    (void) (*v->v1->mem.references)++;
    v->v2 = malloc(sizeof(*v->v2));
    *v->v2 = *obj->v8;
    (void) (*v->v2->mem.references)++;
    v->v3 = malloc(sizeof(*v->v3));
    *v->v3 = *obj->v9;
    (void) (*v->v3->mem.references)++;
    v->v4 = malloc(sizeof(*v->v4));
    *v->v4 = *obj->v10;
    (void) (*v->v4->mem.references)++;
    v->v5 = malloc(sizeof(*v->v5));
    *v->v5 = *obj->v11;
    (void) (*v->v5->mem.references)++;
    v->v6 = malloc(sizeof(*v->v6));
    *v->v6 = *obj->v12;
    (void) (*v->v6->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_67daac7(struct futhark_context *ctx, struct futhark_opaque_67daac7 **out, const struct futhark_opaque_c5da5e9b *v0, const struct futhark_opaque_b0aee03a *v1)
{
    struct futhark_opaque_67daac7 *v = malloc(sizeof(struct futhark_opaque_67daac7));
    
    lock_lock(&ctx->lock);
    {
        {
            v->v0 = malloc(sizeof(*v0->v0));
            *v->v0 = *v0->v0;
            (void) (*v->v0->mem.references)++;
        }
        {
            v->v1 = malloc(sizeof(*v0->v1));
            *v->v1 = *v0->v1;
            (void) (*v->v1->mem.references)++;
        }
        {
            v->v2 = malloc(sizeof(*v0->v2));
            *v->v2 = *v0->v2;
            (void) (*v->v2->mem.references)++;
        }
        {
            v->v3 = malloc(sizeof(*v0->v3));
            *v->v3 = *v0->v3;
            (void) (*v->v3->mem.references)++;
        }
        {
            v->v4 = malloc(sizeof(*v0->v4));
            *v->v4 = *v0->v4;
            (void) (*v->v4->mem.references)++;
        }
        {
            v->v5 = malloc(sizeof(*v0->v5));
            *v->v5 = *v0->v5;
            (void) (*v->v5->mem.references)++;
        }
    }
    {
        {
            v->v6 = malloc(sizeof(*v1->v0));
            *v->v6 = *v1->v0;
            (void) (*v->v6->mem.references)++;
        }
        {
            v->v7 = malloc(sizeof(*v1->v1));
            *v->v7 = *v1->v1;
            (void) (*v->v7->mem.references)++;
        }
        {
            v->v8 = malloc(sizeof(*v1->v2));
            *v->v8 = *v1->v2;
            (void) (*v->v8->mem.references)++;
        }
        {
            v->v9 = malloc(sizeof(*v1->v3));
            *v->v9 = *v1->v3;
            (void) (*v->v9->mem.references)++;
        }
        {
            v->v10 = malloc(sizeof(*v1->v4));
            *v->v10 = *v1->v4;
            (void) (*v->v10->mem.references)++;
        }
        {
            v->v11 = malloc(sizeof(*v1->v5));
            *v->v11 = *v1->v5;
            (void) (*v->v11->mem.references)++;
        }
        {
            v->v12 = malloc(sizeof(*v1->v6));
            *v->v12 = *v1->v6;
            (void) (*v->v12->mem.references)++;
        }
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_free_opaque_67daac7(struct futhark_context *ctx, struct futhark_opaque_67daac7 *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    if (obj->v3 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v3)) != 0)
        ret = tmp;
    if (obj->v4 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v4)) != 0)
        ret = tmp;
    if (obj->v5 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v5)) != 0)
        ret = tmp;
    if (obj->v6 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v6)) != 0)
        ret = tmp;
    if (obj->v7 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v7)) != 0)
        ret = tmp;
    if (obj->v8 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v8)) != 0)
        ret = tmp;
    if (obj->v9 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v9)) != 0)
        ret = tmp;
    if (obj->v10 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v10)) != 0)
        ret = tmp;
    if (obj->v11 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v11)) != 0)
        ret = tmp;
    if (obj->v12 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v12)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_67daac7(struct futhark_context *ctx, const struct futhark_opaque_67daac7 *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v0)[0] * 4;
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v2)[0] * 4;
    int64_t size_3 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v3)[0] * 4;
    int64_t size_4 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v4)[0] * 4;
    int64_t size_5 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v5)[0] * 4;
    int64_t size_6 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v6)[0] * futhark_shape_f32_2d(ctx, obj->v6)[1] * 4;
    int64_t size_7 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v7)[0] * 4;
    int64_t size_8 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v8)[0] * futhark_shape_f32_2d(ctx, obj->v8)[1] * 4;
    int64_t size_9 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v9)[0] * 4;
    int64_t size_10 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v10)[0] * futhark_shape_f32_2d(ctx, obj->v10)[1] * 4;
    int64_t size_11 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v11)[0] * 4;
    int64_t size_12 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v12)[0] * 4;
    
    *n = size_0 + size_1 + size_2 + size_3 + size_4 + size_5 + size_6 + size_7 + size_8 + size_9 + size_10 + size_11 + size_12;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v0)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v2)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v3), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v3, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v3)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v4), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v4, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v4)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v5), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v5, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v5)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v6), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v6, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v6)[0] * futhark_shape_f32_2d(ctx, obj->v6)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v7), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v7, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v7)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v8), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v8, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v8)[0] * futhark_shape_f32_2d(ctx, obj->v8)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v9), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v9, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v9)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v10), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v10, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v10)[0] * futhark_shape_f32_2d(ctx, obj->v10)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v11), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v11, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v11)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v12), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v12, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v12)[0] * 4;
    }
    return ret;
}
struct futhark_opaque_67daac7 *futhark_restore_opaque_67daac7(struct futhark_context *ctx, const void *p)
{
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_67daac7 *obj = malloc(sizeof(struct futhark_opaque_67daac7));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * 4;
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * 4;
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * 4;
    
    int64_t shape_3[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_3, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    obj->v3 = NULL;
    src += shape_3[0] * 4;
    
    int64_t shape_4[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_4, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_4 = src;
    
    obj->v4 = NULL;
    src += shape_4[0] * 4;
    
    int64_t shape_5[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_5, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_5 = src;
    
    obj->v5 = NULL;
    src += shape_5[0] * 4;
    
    int64_t shape_6[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_6, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_6 = src;
    
    obj->v6 = NULL;
    src += shape_6[0] * shape_6[1] * 4;
    
    int64_t shape_7[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_7, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_7 = src;
    
    obj->v7 = NULL;
    src += shape_7[0] * 4;
    
    int64_t shape_8[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_8, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_8 = src;
    
    obj->v8 = NULL;
    src += shape_8[0] * shape_8[1] * 4;
    
    int64_t shape_9[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_9, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_9 = src;
    
    obj->v9 = NULL;
    src += shape_9[0] * 4;
    
    int64_t shape_10[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_10, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_10 = src;
    
    obj->v10 = NULL;
    src += shape_10[0] * shape_10[1] * 4;
    
    int64_t shape_11[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_11, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_11 = src;
    
    obj->v11 = NULL;
    src += shape_11[0] * 4;
    
    int64_t shape_12[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_12, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_12 = src;
    
    obj->v12 = NULL;
    src += shape_12[0] * 4;
    if (err == 0) {
        obj->v0 = futhark_new_f32_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
        obj->v3 = futhark_new_f32_1d(ctx, data_3, shape_3[0]);
        if (obj->v3 == NULL)
            err = 1;
        obj->v4 = futhark_new_f32_1d(ctx, data_4, shape_4[0]);
        if (obj->v4 == NULL)
            err = 1;
        obj->v5 = futhark_new_f32_1d(ctx, data_5, shape_5[0]);
        if (obj->v5 == NULL)
            err = 1;
        obj->v6 = futhark_new_f32_2d(ctx, data_6, shape_6[0], shape_6[1]);
        if (obj->v6 == NULL)
            err = 1;
        obj->v7 = futhark_new_f32_1d(ctx, data_7, shape_7[0]);
        if (obj->v7 == NULL)
            err = 1;
        obj->v8 = futhark_new_f32_2d(ctx, data_8, shape_8[0], shape_8[1]);
        if (obj->v8 == NULL)
            err = 1;
        obj->v9 = futhark_new_f32_1d(ctx, data_9, shape_9[0]);
        if (obj->v9 == NULL)
            err = 1;
        obj->v10 = futhark_new_f32_2d(ctx, data_10, shape_10[0], shape_10[1]);
        if (obj->v10 == NULL)
            err = 1;
        obj->v11 = futhark_new_f32_1d(ctx, data_11, shape_11[0]);
        if (obj->v11 == NULL)
            err = 1;
        obj->v12 = futhark_new_f32_1d(ctx, data_12, shape_12[0]);
        if (obj->v12 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        if (obj->v3 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v3)) != 0)
            ret = tmp;
        if (obj->v4 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v4)) != 0)
            ret = tmp;
        if (obj->v5 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v5)) != 0)
            ret = tmp;
        if (obj->v6 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v6)) != 0)
            ret = tmp;
        if (obj->v7 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v7)) != 0)
            ret = tmp;
        if (obj->v8 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v8)) != 0)
            ret = tmp;
        if (obj->v9 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v9)) != 0)
            ret = tmp;
        if (obj->v10 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v10)) != 0)
            ret = tmp;
        if (obj->v11 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v11)) != 0)
            ret = tmp;
        if (obj->v12 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v12)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_networkParameter {
    int8_t v0;
    float v1;
    float v2;
    float v3;
    float v4;
    float v5;
    float v6;
    float v7;
    float v8;
    float v9;
    float v10;
    float v11;
    float v12;
    float v13;
    int32_t v14;
    struct futhark_f32_1d *v15;
    struct futhark_f32_1d *v16;
    struct futhark_f32_1d *v17;
    struct futhark_f32_1d *v18;
    struct futhark_f32_1d *v19;
    struct futhark_f32_1d *v20;
    struct futhark_f32_2d *v21;
    struct futhark_f32_1d *v22;
    struct futhark_f32_2d *v23;
    struct futhark_f32_1d *v24;
    struct futhark_f32_2d *v25;
    struct futhark_f32_1d *v26;
    struct futhark_f32_1d *v27;
};
int futhark_project_opaque_networkParameter_0(struct futhark_context *ctx, struct futhark_opaque_e9a0e68b **out, const struct futhark_opaque_networkParameter *obj)
{
    (void) ctx;
    
    struct futhark_opaque_e9a0e68b *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_opaque_e9a0e68b));
    v->v0 = obj->v0;
    v->v1 = obj->v1;
    v->v2 = obj->v2;
    v->v3 = obj->v3;
    v->v4 = obj->v4;
    v->v5 = obj->v5;
    v->v6 = obj->v6;
    v->v7 = obj->v7;
    v->v8 = obj->v8;
    v->v9 = obj->v9;
    v->v10 = obj->v10;
    v->v11 = obj->v11;
    v->v12 = obj->v12;
    v->v13 = obj->v13;
    v->v14 = obj->v14;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_networkParameter_1(struct futhark_context *ctx, struct futhark_opaque_67daac7 **out, const struct futhark_opaque_networkParameter *obj)
{
    (void) ctx;
    
    struct futhark_opaque_67daac7 *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_opaque_67daac7));
    v->v0 = malloc(sizeof(*v->v0));
    *v->v0 = *obj->v15;
    (void) (*v->v0->mem.references)++;
    v->v1 = malloc(sizeof(*v->v1));
    *v->v1 = *obj->v16;
    (void) (*v->v1->mem.references)++;
    v->v2 = malloc(sizeof(*v->v2));
    *v->v2 = *obj->v17;
    (void) (*v->v2->mem.references)++;
    v->v3 = malloc(sizeof(*v->v3));
    *v->v3 = *obj->v18;
    (void) (*v->v3->mem.references)++;
    v->v4 = malloc(sizeof(*v->v4));
    *v->v4 = *obj->v19;
    (void) (*v->v4->mem.references)++;
    v->v5 = malloc(sizeof(*v->v5));
    *v->v5 = *obj->v20;
    (void) (*v->v5->mem.references)++;
    v->v6 = malloc(sizeof(*v->v6));
    *v->v6 = *obj->v21;
    (void) (*v->v6->mem.references)++;
    v->v7 = malloc(sizeof(*v->v7));
    *v->v7 = *obj->v22;
    (void) (*v->v7->mem.references)++;
    v->v8 = malloc(sizeof(*v->v8));
    *v->v8 = *obj->v23;
    (void) (*v->v8->mem.references)++;
    v->v9 = malloc(sizeof(*v->v9));
    *v->v9 = *obj->v24;
    (void) (*v->v9->mem.references)++;
    v->v10 = malloc(sizeof(*v->v10));
    *v->v10 = *obj->v25;
    (void) (*v->v10->mem.references)++;
    v->v11 = malloc(sizeof(*v->v11));
    *v->v11 = *obj->v26;
    (void) (*v->v11->mem.references)++;
    v->v12 = malloc(sizeof(*v->v12));
    *v->v12 = *obj->v27;
    (void) (*v->v12->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_networkParameter(struct futhark_context *ctx, struct futhark_opaque_networkParameter **out, const struct futhark_opaque_e9a0e68b *v0, const struct futhark_opaque_67daac7 *v1)
{
    struct futhark_opaque_networkParameter *v = malloc(sizeof(struct futhark_opaque_networkParameter));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = v0->v0;
        v->v1 = v0->v1;
        v->v2 = v0->v2;
        v->v3 = v0->v3;
        v->v4 = v0->v4;
        v->v5 = v0->v5;
        v->v6 = v0->v6;
        v->v7 = v0->v7;
        v->v8 = v0->v8;
        v->v9 = v0->v9;
        v->v10 = v0->v10;
        v->v11 = v0->v11;
        v->v12 = v0->v12;
        v->v13 = v0->v13;
        v->v14 = v0->v14;
    }
    {
        {
            v->v15 = malloc(sizeof(*v1->v0));
            *v->v15 = *v1->v0;
            (void) (*v->v15->mem.references)++;
        }
        {
            v->v16 = malloc(sizeof(*v1->v1));
            *v->v16 = *v1->v1;
            (void) (*v->v16->mem.references)++;
        }
        {
            v->v17 = malloc(sizeof(*v1->v2));
            *v->v17 = *v1->v2;
            (void) (*v->v17->mem.references)++;
        }
        {
            v->v18 = malloc(sizeof(*v1->v3));
            *v->v18 = *v1->v3;
            (void) (*v->v18->mem.references)++;
        }
        {
            v->v19 = malloc(sizeof(*v1->v4));
            *v->v19 = *v1->v4;
            (void) (*v->v19->mem.references)++;
        }
        {
            v->v20 = malloc(sizeof(*v1->v5));
            *v->v20 = *v1->v5;
            (void) (*v->v20->mem.references)++;
        }
        {
            v->v21 = malloc(sizeof(*v1->v6));
            *v->v21 = *v1->v6;
            (void) (*v->v21->mem.references)++;
        }
        {
            v->v22 = malloc(sizeof(*v1->v7));
            *v->v22 = *v1->v7;
            (void) (*v->v22->mem.references)++;
        }
        {
            v->v23 = malloc(sizeof(*v1->v8));
            *v->v23 = *v1->v8;
            (void) (*v->v23->mem.references)++;
        }
        {
            v->v24 = malloc(sizeof(*v1->v9));
            *v->v24 = *v1->v9;
            (void) (*v->v24->mem.references)++;
        }
        {
            v->v25 = malloc(sizeof(*v1->v10));
            *v->v25 = *v1->v10;
            (void) (*v->v25->mem.references)++;
        }
        {
            v->v26 = malloc(sizeof(*v1->v11));
            *v->v26 = *v1->v11;
            (void) (*v->v26->mem.references)++;
        }
        {
            v->v27 = malloc(sizeof(*v1->v12));
            *v->v27 = *v1->v12;
            (void) (*v->v27->mem.references)++;
        }
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_free_opaque_networkParameter(struct futhark_context *ctx, struct futhark_opaque_networkParameter *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v15 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v15)) != 0)
        ret = tmp;
    if (obj->v16 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v16)) != 0)
        ret = tmp;
    if (obj->v17 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v17)) != 0)
        ret = tmp;
    if (obj->v18 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v18)) != 0)
        ret = tmp;
    if (obj->v19 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v19)) != 0)
        ret = tmp;
    if (obj->v20 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v20)) != 0)
        ret = tmp;
    if (obj->v21 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v21)) != 0)
        ret = tmp;
    if (obj->v22 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v22)) != 0)
        ret = tmp;
    if (obj->v23 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v23)) != 0)
        ret = tmp;
    if (obj->v24 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v24)) != 0)
        ret = tmp;
    if (obj->v25 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v25)) != 0)
        ret = tmp;
    if (obj->v26 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v26)) != 0)
        ret = tmp;
    if (obj->v27 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v27)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_networkParameter(struct futhark_context *ctx, const struct futhark_opaque_networkParameter *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 0 * sizeof(int64_t) + 1 * 1;
    int64_t size_1 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_2 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_3 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_4 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_5 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_6 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_7 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_8 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_9 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_10 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_11 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_12 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_13 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_14 = 7 + 0 * sizeof(int64_t) + 1 * 4;
    int64_t size_15 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v15)[0] * 4;
    int64_t size_16 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v16)[0] * 4;
    int64_t size_17 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v17)[0] * 4;
    int64_t size_18 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v18)[0] * 4;
    int64_t size_19 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v19)[0] * 4;
    int64_t size_20 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v20)[0] * 4;
    int64_t size_21 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v21)[0] * futhark_shape_f32_2d(ctx, obj->v21)[1] * 4;
    int64_t size_22 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v22)[0] * 4;
    int64_t size_23 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v23)[0] * futhark_shape_f32_2d(ctx, obj->v23)[1] * 4;
    int64_t size_24 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v24)[0] * 4;
    int64_t size_25 = 7 + 2 * sizeof(int64_t) + futhark_shape_f32_2d(ctx, obj->v25)[0] * futhark_shape_f32_2d(ctx, obj->v25)[1] * 4;
    int64_t size_26 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v26)[0] * 4;
    int64_t size_27 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v27)[0] * 4;
    
    *n = size_0 + size_1 + size_2 + size_3 + size_4 + size_5 + size_6 + size_7 + size_8 + size_9 + size_10 + size_11 + size_12 + size_13 + size_14 + size_15 + size_16 + size_17 + size_18 + size_19 + size_20 + size_21 + size_22 + size_23 + size_24 + size_25 + size_26 + size_27;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, &obj->v0, sizeof(obj->v0));
        out += sizeof(obj->v0);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v1, sizeof(obj->v1));
        out += sizeof(obj->v1);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v2, sizeof(obj->v2));
        out += sizeof(obj->v2);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v3, sizeof(obj->v3));
        out += sizeof(obj->v3);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v4, sizeof(obj->v4));
        out += sizeof(obj->v4);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v5, sizeof(obj->v5));
        out += sizeof(obj->v5);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v6, sizeof(obj->v6));
        out += sizeof(obj->v6);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v7, sizeof(obj->v7));
        out += sizeof(obj->v7);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v8, sizeof(obj->v8));
        out += sizeof(obj->v8);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v9, sizeof(obj->v9));
        out += sizeof(obj->v9);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v10, sizeof(obj->v10));
        out += sizeof(obj->v10);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v11, sizeof(obj->v11));
        out += sizeof(obj->v11);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v12, sizeof(obj->v12));
        out += sizeof(obj->v12);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, &obj->v13, sizeof(obj->v13));
        out += sizeof(obj->v13);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, &obj->v14, sizeof(obj->v14));
        out += sizeof(obj->v14);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v15), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v15, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v15)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v16), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v16, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v16)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v17), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v17, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v17)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v18), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v18, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v18)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v19), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v19, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v19)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v20), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v20, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v20)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v21), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v21, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v21)[0] * futhark_shape_f32_2d(ctx, obj->v21)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v22), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v22, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v22)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v23), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v23, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v23)[0] * futhark_shape_f32_2d(ctx, obj->v23)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v24), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v24, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v24)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_2d(ctx, obj->v25), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f32_2d(ctx, obj->v25, (void *) out);
        out += futhark_shape_f32_2d(ctx, obj->v25)[0] * futhark_shape_f32_2d(ctx, obj->v25)[1] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v26), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v26, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v26)[0] * 4;
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v27), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v27, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v27)[0] * 4;
    }
    return ret;
}
struct futhark_opaque_networkParameter *futhark_restore_opaque_networkParameter(struct futhark_context *ctx, const void *p)
{
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_networkParameter *obj = malloc(sizeof(struct futhark_opaque_networkParameter));
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    src += sizeof(obj->v0);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    src += sizeof(obj->v1);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    src += sizeof(obj->v2);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    src += sizeof(obj->v3);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_4 = src;
    
    src += sizeof(obj->v4);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_5 = src;
    
    src += sizeof(obj->v5);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_6 = src;
    
    src += sizeof(obj->v6);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_7 = src;
    
    src += sizeof(obj->v7);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_8 = src;
    
    src += sizeof(obj->v8);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_9 = src;
    
    src += sizeof(obj->v9);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_10 = src;
    
    src += sizeof(obj->v10);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_11 = src;
    
    src += sizeof(obj->v11);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_12 = src;
    
    src += sizeof(obj->v12);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_13 = src;
    
    src += sizeof(obj->v13);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_14 = src;
    
    src += sizeof(obj->v14);
    
    int64_t shape_15[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_15, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_15 = src;
    
    obj->v15 = NULL;
    src += shape_15[0] * 4;
    
    int64_t shape_16[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_16, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_16 = src;
    
    obj->v16 = NULL;
    src += shape_16[0] * 4;
    
    int64_t shape_17[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_17, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_17 = src;
    
    obj->v17 = NULL;
    src += shape_17[0] * 4;
    
    int64_t shape_18[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_18, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_18 = src;
    
    obj->v18 = NULL;
    src += shape_18[0] * 4;
    
    int64_t shape_19[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_19, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_19 = src;
    
    obj->v19 = NULL;
    src += shape_19[0] * 4;
    
    int64_t shape_20[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_20, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_20 = src;
    
    obj->v20 = NULL;
    src += shape_20[0] * 4;
    
    int64_t shape_21[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_21, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_21 = src;
    
    obj->v21 = NULL;
    src += shape_21[0] * shape_21[1] * 4;
    
    int64_t shape_22[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_22, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_22 = src;
    
    obj->v22 = NULL;
    src += shape_22[0] * 4;
    
    int64_t shape_23[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_23, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_23 = src;
    
    obj->v23 = NULL;
    src += shape_23[0] * shape_23[1] * 4;
    
    int64_t shape_24[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_24, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_24 = src;
    
    obj->v24 = NULL;
    src += shape_24[0] * 4;
    
    int64_t shape_25[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_25, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_25 = src;
    
    obj->v25 = NULL;
    src += shape_25[0] * shape_25[1] * 4;
    
    int64_t shape_26[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_26, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_26 = src;
    
    obj->v26 = NULL;
    src += shape_26[0] * 4;
    
    int64_t shape_27[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_27, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_27 = src;
    
    obj->v27 = NULL;
    src += shape_27[0] * 4;
    if (err == 0) {
        memcpy(&obj->v0, data_0, sizeof(obj->v0));
        memcpy(&obj->v1, data_1, sizeof(obj->v1));
        memcpy(&obj->v2, data_2, sizeof(obj->v2));
        memcpy(&obj->v3, data_3, sizeof(obj->v3));
        memcpy(&obj->v4, data_4, sizeof(obj->v4));
        memcpy(&obj->v5, data_5, sizeof(obj->v5));
        memcpy(&obj->v6, data_6, sizeof(obj->v6));
        memcpy(&obj->v7, data_7, sizeof(obj->v7));
        memcpy(&obj->v8, data_8, sizeof(obj->v8));
        memcpy(&obj->v9, data_9, sizeof(obj->v9));
        memcpy(&obj->v10, data_10, sizeof(obj->v10));
        memcpy(&obj->v11, data_11, sizeof(obj->v11));
        memcpy(&obj->v12, data_12, sizeof(obj->v12));
        memcpy(&obj->v13, data_13, sizeof(obj->v13));
        memcpy(&obj->v14, data_14, sizeof(obj->v14));
        obj->v15 = futhark_new_f32_1d(ctx, data_15, shape_15[0]);
        if (obj->v15 == NULL)
            err = 1;
        obj->v16 = futhark_new_f32_1d(ctx, data_16, shape_16[0]);
        if (obj->v16 == NULL)
            err = 1;
        obj->v17 = futhark_new_f32_1d(ctx, data_17, shape_17[0]);
        if (obj->v17 == NULL)
            err = 1;
        obj->v18 = futhark_new_f32_1d(ctx, data_18, shape_18[0]);
        if (obj->v18 == NULL)
            err = 1;
        obj->v19 = futhark_new_f32_1d(ctx, data_19, shape_19[0]);
        if (obj->v19 == NULL)
            err = 1;
        obj->v20 = futhark_new_f32_1d(ctx, data_20, shape_20[0]);
        if (obj->v20 == NULL)
            err = 1;
        obj->v21 = futhark_new_f32_2d(ctx, data_21, shape_21[0], shape_21[1]);
        if (obj->v21 == NULL)
            err = 1;
        obj->v22 = futhark_new_f32_1d(ctx, data_22, shape_22[0]);
        if (obj->v22 == NULL)
            err = 1;
        obj->v23 = futhark_new_f32_2d(ctx, data_23, shape_23[0], shape_23[1]);
        if (obj->v23 == NULL)
            err = 1;
        obj->v24 = futhark_new_f32_1d(ctx, data_24, shape_24[0]);
        if (obj->v24 == NULL)
            err = 1;
        obj->v25 = futhark_new_f32_2d(ctx, data_25, shape_25[0], shape_25[1]);
        if (obj->v25 == NULL)
            err = 1;
        obj->v26 = futhark_new_f32_1d(ctx, data_26, shape_26[0]);
        if (obj->v26 == NULL)
            err = 1;
        obj->v27 = futhark_new_f32_1d(ctx, data_27, shape_27[0]);
        if (obj->v27 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v15 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v15)) != 0)
            ret = tmp;
        if (obj->v16 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v16)) != 0)
            ret = tmp;
        if (obj->v17 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v17)) != 0)
            ret = tmp;
        if (obj->v18 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v18)) != 0)
            ret = tmp;
        if (obj->v19 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v19)) != 0)
            ret = tmp;
        if (obj->v20 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v20)) != 0)
            ret = tmp;
        if (obj->v21 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v21)) != 0)
            ret = tmp;
        if (obj->v22 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v22)) != 0)
            ret = tmp;
        if (obj->v23 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v23)) != 0)
            ret = tmp;
        if (obj->v24 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v24)) != 0)
            ret = tmp;
        if (obj->v25 != NULL && (tmp = futhark_free_f32_2d(ctx, obj->v25)) != 0)
            ret = tmp;
        if (obj->v26 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v26)) != 0)
            ret = tmp;
        if (obj->v27 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v27)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}

static int futrts_entry_hgoInteraction(struct futhark_context *ctx, struct memblock *mem_out_p_273197, int64_t *out_prim_out_273198, struct memblock locations_mem_271592, struct memblock orientations_mem_271593, int64_t nz2085U_229401, float epsilon_229402, float sigma_par_229403, float sigma_ort_229404)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_271596_cached_sizze_273199 = 0;
    unsigned char *mem_271596 = NULL;
    int64_t mem_271599_cached_sizze_273200 = 0;
    unsigned char *mem_271599 = NULL;
    int64_t mem_271602_cached_sizze_273201 = 0;
    unsigned char *mem_271602 = NULL;
    int64_t mem_271605_cached_sizze_273202 = 0;
    unsigned char *mem_271605 = NULL;
    int64_t mem_271608_cached_sizze_273203 = 0;
    unsigned char *mem_271608 = NULL;
    int64_t mem_271611_cached_sizze_273204 = 0;
    unsigned char *mem_271611 = NULL;
    int64_t mem_271614_cached_sizze_273205 = 0;
    unsigned char *mem_271614 = NULL;
    int64_t mem_271690_cached_sizze_273206 = 0;
    unsigned char *mem_271690 = NULL;
    int64_t mem_271693_cached_sizze_273207 = 0;
    unsigned char *mem_271693 = NULL;
    int64_t mem_271696_cached_sizze_273208 = 0;
    unsigned char *mem_271696 = NULL;
    int64_t mem_271740_cached_sizze_273209 = 0;
    unsigned char *mem_271740 = NULL;
    int64_t mem_271763_cached_sizze_273210 = 0;
    unsigned char *mem_271763 = NULL;
    int64_t mem_271768_cached_sizze_273211 = 0;
    unsigned char *mem_271768 = NULL;
    int64_t mem_271817_cached_sizze_273212 = 0;
    unsigned char *mem_271817 = NULL;
    int64_t mem_271820_cached_sizze_273213 = 0;
    unsigned char *mem_271820 = NULL;
    int64_t mem_271843_cached_sizze_273214 = 0;
    unsigned char *mem_271843 = NULL;
    int64_t mem_271846_cached_sizze_273215 = 0;
    unsigned char *mem_271846 = NULL;
    int64_t mem_271849_cached_sizze_273216 = 0;
    unsigned char *mem_271849 = NULL;
    int64_t mem_271882_cached_sizze_273217 = 0;
    unsigned char *mem_271882 = NULL;
    int64_t mem_271885_cached_sizze_273218 = 0;
    unsigned char *mem_271885 = NULL;
    int64_t mem_271888_cached_sizze_273219 = 0;
    unsigned char *mem_271888 = NULL;
    int64_t mem_271934_cached_sizze_273220 = 0;
    unsigned char *mem_271934 = NULL;
    int64_t mem_271937_cached_sizze_273221 = 0;
    unsigned char *mem_271937 = NULL;
    int64_t mem_271960_cached_sizze_273222 = 0;
    unsigned char *mem_271960 = NULL;
    int64_t mem_272009_cached_sizze_273223 = 0;
    unsigned char *mem_272009 = NULL;
    int64_t mem_272022_cached_sizze_273224 = 0;
    unsigned char *mem_272022 = NULL;
    int64_t mem_272035_cached_sizze_273225 = 0;
    unsigned char *mem_272035 = NULL;
    int64_t mem_272038_cached_sizze_273226 = 0;
    unsigned char *mem_272038 = NULL;
    int64_t mem_272041_cached_sizze_273227 = 0;
    unsigned char *mem_272041 = NULL;
    int64_t mem_272076_cached_sizze_273228 = 0;
    unsigned char *mem_272076 = NULL;
    int64_t mem_272089_cached_sizze_273229 = 0;
    unsigned char *mem_272089 = NULL;
    int64_t mem_272120_cached_sizze_273230 = 0;
    unsigned char *mem_272120 = NULL;
    int64_t mem_272123_cached_sizze_273231 = 0;
    unsigned char *mem_272123 = NULL;
    int64_t mem_272146_cached_sizze_273232 = 0;
    unsigned char *mem_272146 = NULL;
    int64_t mem_272195_cached_sizze_273233 = 0;
    unsigned char *mem_272195 = NULL;
    int64_t mem_272198_cached_sizze_273234 = 0;
    unsigned char *mem_272198 = NULL;
    int64_t mem_272221_cached_sizze_273235 = 0;
    unsigned char *mem_272221 = NULL;
    int64_t mem_272270_cached_sizze_273236 = 0;
    unsigned char *mem_272270 = NULL;
    int64_t mem_272273_cached_sizze_273237 = 0;
    unsigned char *mem_272273 = NULL;
    int64_t mem_272296_cached_sizze_273238 = 0;
    unsigned char *mem_272296 = NULL;
    int64_t mem_272310_cached_sizze_273239 = 0;
    unsigned char *mem_272310 = NULL;
    int64_t mem_272334_cached_sizze_273240 = 0;
    unsigned char *mem_272334 = NULL;
    int64_t mem_272365_cached_sizze_273241 = 0;
    unsigned char *mem_272365 = NULL;
    int64_t mem_272369_cached_sizze_273242 = 0;
    unsigned char *mem_272369 = NULL;
    int64_t mem_272373_cached_sizze_273243 = 0;
    unsigned char *mem_272373 = NULL;
    int64_t mem_272377_cached_sizze_273244 = 0;
    unsigned char *mem_272377 = NULL;
    int64_t mem_272381_cached_sizze_273245 = 0;
    unsigned char *mem_272381 = NULL;
    int64_t mem_272567_cached_sizze_273246 = 0;
    unsigned char *mem_272567 = NULL;
    int64_t mem_272570_cached_sizze_273247 = 0;
    unsigned char *mem_272570 = NULL;
    int64_t mem_272593_cached_sizze_273248 = 0;
    unsigned char *mem_272593 = NULL;
    int64_t mem_272642_cached_sizze_273249 = 0;
    unsigned char *mem_272642 = NULL;
    int64_t mem_272645_cached_sizze_273250 = 0;
    unsigned char *mem_272645 = NULL;
    int64_t mem_272648_cached_sizze_273251 = 0;
    unsigned char *mem_272648 = NULL;
    int64_t mem_272651_cached_sizze_273252 = 0;
    unsigned char *mem_272651 = NULL;
    int64_t mem_272654_cached_sizze_273253 = 0;
    unsigned char *mem_272654 = NULL;
    int64_t mem_272707_cached_sizze_273254 = 0;
    unsigned char *mem_272707 = NULL;
    int64_t mem_272710_cached_sizze_273255 = 0;
    unsigned char *mem_272710 = NULL;
    int64_t mem_272733_cached_sizze_273256 = 0;
    unsigned char *mem_272733 = NULL;
    int64_t mem_272736_cached_sizze_273257 = 0;
    unsigned char *mem_272736 = NULL;
    int64_t mem_272739_cached_sizze_273258 = 0;
    unsigned char *mem_272739 = NULL;
    int64_t mem_272742_cached_sizze_273259 = 0;
    unsigned char *mem_272742 = NULL;
    int64_t mem_272745_cached_sizze_273260 = 0;
    unsigned char *mem_272745 = NULL;
    int64_t mem_272798_cached_sizze_273261 = 0;
    unsigned char *mem_272798 = NULL;
    int64_t mem_272801_cached_sizze_273262 = 0;
    unsigned char *mem_272801 = NULL;
    int64_t mem_272804_cached_sizze_273263 = 0;
    unsigned char *mem_272804 = NULL;
    int64_t mem_272807_cached_sizze_273264 = 0;
    unsigned char *mem_272807 = NULL;
    int64_t mem_272810_cached_sizze_273265 = 0;
    unsigned char *mem_272810 = NULL;
    int64_t mem_272813_cached_sizze_273266 = 0;
    unsigned char *mem_272813 = NULL;
    int64_t mem_272816_cached_sizze_273267 = 0;
    unsigned char *mem_272816 = NULL;
    int64_t mem_272821_cached_sizze_273268 = 0;
    unsigned char *mem_272821 = NULL;
    int64_t mem_272834_cached_sizze_273269 = 0;
    unsigned char *mem_272834 = NULL;
    int64_t mem_272836_cached_sizze_273270 = 0;
    unsigned char *mem_272836 = NULL;
    struct memblock mem_272853;
    
    mem_272853.references = NULL;
    
    struct memblock mem_272247;
    
    mem_272247.references = NULL;
    
    struct memblock mem_272234;
    
    mem_272234.references = NULL;
    
    struct memblock ext_mem_272262;
    
    ext_mem_272262.references = NULL;
    
    struct memblock ext_mem_272267;
    
    ext_mem_272267.references = NULL;
    
    struct memblock mem_272172;
    
    mem_272172.references = NULL;
    
    struct memblock mem_272159;
    
    mem_272159.references = NULL;
    
    struct memblock ext_mem_272187;
    
    ext_mem_272187.references = NULL;
    
    struct memblock ext_mem_272192;
    
    ext_mem_272192.references = NULL;
    
    struct memblock mem_272102;
    
    mem_272102.references = NULL;
    
    struct memblock ext_mem_272117;
    
    ext_mem_272117.references = NULL;
    
    struct memblock mem_param_tmp_273109;
    
    mem_param_tmp_273109.references = NULL;
    
    struct memblock mem_param_tmp_273108;
    
    mem_param_tmp_273108.references = NULL;
    
    struct memblock mem_271976;
    
    mem_271976.references = NULL;
    
    struct memblock mem_271973;
    
    mem_271973.references = NULL;
    
    struct memblock mem_param_271931;
    
    mem_param_271931.references = NULL;
    
    struct memblock mem_param_271926;
    
    mem_param_271926.references = NULL;
    
    struct memblock ext_mem_272005;
    
    ext_mem_272005.references = NULL;
    
    struct memblock ext_mem_272006;
    
    ext_mem_272006.references = NULL;
    
    struct memblock mem_271921;
    
    mem_271921.references = NULL;
    
    struct memblock mem_272619;
    
    mem_272619.references = NULL;
    
    struct memblock mem_272606;
    
    mem_272606.references = NULL;
    
    struct memblock ext_mem_272634;
    
    ext_mem_272634.references = NULL;
    
    struct memblock ext_mem_272639;
    
    ext_mem_272639.references = NULL;
    
    struct memblock mem_272073;
    
    mem_272073.references = NULL;
    
    struct memblock mem_271687;
    
    mem_271687.references = NULL;
    
    struct memblock mem_out_273038;
    
    mem_out_273038.references = NULL;
    
    int64_t prim_out_273039;
    int64_t binop_y_271594 = (int64_t) 4 * nz2085U_229401;
    int64_t bytes_271595 = smax64((int64_t) 0, binop_y_271594);
    
    if (mem_271596_cached_sizze_273199 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271596, &mem_271596_cached_sizze_273199, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271599_cached_sizze_273200 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271599, &mem_271599_cached_sizze_273200, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271602_cached_sizze_273201 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271602, &mem_271602_cached_sizze_273201, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271605_cached_sizze_273202 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271605, &mem_271605_cached_sizze_273202, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271608_cached_sizze_273203 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271608, &mem_271608_cached_sizze_273203, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271611_cached_sizze_273204 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271611, &mem_271611_cached_sizze_273204, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271614_cached_sizze_273205 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271614, &mem_271614_cached_sizze_273205, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    float defunc_0_f_res_262437;
    float defunc_0_f_res_262438;
    float defunc_0_f_res_262439;
    float defunc_0_f_res_262440;
    float defunc_0_f_res_262441;
    float defunc_0_f_res_262442;
    float redout_270657;
    float redout_270658;
    float redout_270659;
    float redout_270660;
    float redout_270661;
    float redout_270662;
    
    redout_270657 = 0.0F;
    redout_270658 = 0.0F;
    redout_270659 = 0.0F;
    redout_270660 = 0.0F;
    redout_270661 = 0.0F;
    redout_270662 = 0.0F;
    for (int64_t i_270670 = 0; i_270670 < nz2085U_229401; i_270670++) {
        float defunc_1_f_res_253378 = ((float *) locations_mem_271592.mem)[i_270670 * (int64_t) 3];
        float defunc_1_f_res_253379 = ((float *) locations_mem_271592.mem)[i_270670 * (int64_t) 3 + (int64_t) 1];
        float defunc_1_f_res_253380 = ((float *) locations_mem_271592.mem)[i_270670 * (int64_t) 3 + (int64_t) 2];
        float quaternion_arg_253381 = ((float *) orientations_mem_271593.mem)[i_270670 * (int64_t) 4 + (int64_t) 1];
        float quaternion_arg_253382 = ((float *) orientations_mem_271593.mem)[i_270670 * (int64_t) 4 + (int64_t) 2];
        float quaternion_arg_253383 = ((float *) orientations_mem_271593.mem)[i_270670 * (int64_t) 4 + (int64_t) 3];
        float quaternion_arg_253384 = ((float *) orientations_mem_271593.mem)[i_270670 * (int64_t) 4];
        float defunc_1_f_res_248847 = fmin32(defunc_1_f_res_253378, redout_270657);
        float defunc_1_f_res_248848 = fmin32(defunc_1_f_res_253379, redout_270658);
        float defunc_1_f_res_248849 = fmin32(defunc_1_f_res_253380, redout_270659);
        float defunc_1_f_res_248832 = fmax32(defunc_1_f_res_253378, redout_270660);
        float defunc_1_f_res_248833 = fmax32(defunc_1_f_res_253379, redout_270661);
        float defunc_1_f_res_248834 = fmax32(defunc_1_f_res_253380, redout_270662);
        
        ((float *) mem_271596)[i_270670] = defunc_1_f_res_253378;
        ((float *) mem_271599)[i_270670] = defunc_1_f_res_253379;
        ((float *) mem_271602)[i_270670] = defunc_1_f_res_253380;
        ((float *) mem_271605)[i_270670] = quaternion_arg_253384;
        ((float *) mem_271608)[i_270670] = quaternion_arg_253381;
        ((float *) mem_271611)[i_270670] = quaternion_arg_253382;
        ((float *) mem_271614)[i_270670] = quaternion_arg_253383;
        
        float redout_tmp_273040 = defunc_1_f_res_248847;
        float redout_tmp_273041 = defunc_1_f_res_248848;
        float redout_tmp_273042 = defunc_1_f_res_248849;
        float redout_tmp_273043 = defunc_1_f_res_248832;
        float redout_tmp_273044 = defunc_1_f_res_248833;
        float redout_tmp_273045 = defunc_1_f_res_248834;
        
        redout_270657 = redout_tmp_273040;
        redout_270658 = redout_tmp_273041;
        redout_270659 = redout_tmp_273042;
        redout_270660 = redout_tmp_273043;
        redout_270661 = redout_tmp_273044;
        redout_270662 = redout_tmp_273045;
    }
    defunc_0_f_res_262437 = redout_270657;
    defunc_0_f_res_262438 = redout_270658;
    defunc_0_f_res_262439 = redout_270659;
    defunc_0_f_res_262440 = redout_270660;
    defunc_0_f_res_262441 = redout_270661;
    defunc_0_f_res_262442 = redout_270662;
    
    float arg_234837 = sigma_par_229403 + sigma_ort_229404;
    float cutoffL_234838 = 3.0F * arg_234837;
    float defunc_1_f_res_248853 = defunc_0_f_res_262440 - defunc_0_f_res_262437;
    float defunc_1_f_res_248854 = defunc_0_f_res_262441 - defunc_0_f_res_262438;
    float defunc_1_f_res_248855 = defunc_0_f_res_262442 - defunc_0_f_res_262439;
    float defunc_1_f_res_248856 = cutoffL_234838 + defunc_1_f_res_248853;
    float defunc_1_f_res_248857 = cutoffL_234838 + defunc_1_f_res_248854;
    float defunc_1_f_res_248858 = cutoffL_234838 + defunc_1_f_res_248855;
    float defunc_1_f_res_250576 = defunc_1_f_res_248858 * defunc_1_f_res_248858;
    float sqrt_res_250579 = futrts_sqrt32(defunc_1_f_res_250576);
    float ceil_arg_250580 = sqrt_res_250579 / cutoffL_234838;
    float ceil_res_250581 = futrts_ceil32(ceil_arg_250580);
    int32_t defunc_0_f_res_250582 = fptosi_f32_i32(ceil_res_250581);
    float i64_res_250587 = sitofp_i32_f32(defunc_0_f_res_250582);
    float zs_res_250588 = 1.0F / i64_res_250587;
    float defunc_1_f_res_250597 = defunc_1_f_res_248858 * zs_res_250588;
    float defunc_1_f_res_250566 = defunc_1_f_res_248857 * defunc_1_f_res_248857;
    float sqrt_res_250570 = futrts_sqrt32(defunc_1_f_res_250566);
    float ceil_arg_250571 = sqrt_res_250570 / cutoffL_234838;
    float ceil_res_250572 = futrts_ceil32(ceil_arg_250571);
    int32_t defunc_0_f_res_250573 = fptosi_f32_i32(ceil_res_250572);
    float i64_res_250585 = sitofp_i32_f32(defunc_0_f_res_250573);
    float zs_res_250586 = 1.0F / i64_res_250585;
    float defunc_1_f_res_250593 = defunc_1_f_res_248857 * zs_res_250586;
    float arg_250789 = defunc_1_f_res_250593 * defunc_1_f_res_250597;
    float defunc_1_f_res_250556 = defunc_1_f_res_248856 * defunc_1_f_res_248856;
    float sqrt_res_250561 = futrts_sqrt32(defunc_1_f_res_250556);
    float ceil_arg_250562 = sqrt_res_250561 / cutoffL_234838;
    float ceil_res_250563 = futrts_ceil32(ceil_arg_250562);
    int32_t defunc_0_f_res_250564 = fptosi_f32_i32(ceil_res_250563);
    float i64_res_250583 = sitofp_i32_f32(defunc_0_f_res_250564);
    float zs_res_250584 = 1.0F / i64_res_250583;
    float defunc_1_f_res_250589 = defunc_1_f_res_248856 * zs_res_250584;
    float defunc_1_f_res_251483 = defunc_1_f_res_250589 * arg_250789;
    float arg_250754 = defunc_1_f_res_250589 * defunc_1_f_res_250593;
    float defunc_0_f_res_251496 = arg_250754 / defunc_1_f_res_251483;
    float arg_250710 = defunc_1_f_res_250589 * defunc_1_f_res_250597;
    float defunc_0_f_res_251492 = arg_250710 / defunc_1_f_res_251483;
    float defunc_0_f_res_251488 = arg_250789 / defunc_1_f_res_251483;
    
    if (memblock_alloc(ctx, &mem_271687, bytes_271595, "mem_271687")) {
        err = 1;
        goto cleanup;
    }
    if (mem_271690_cached_sizze_273206 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271690, &mem_271690_cached_sizze_273206, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271693_cached_sizze_273207 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271693, &mem_271693_cached_sizze_273207, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271696_cached_sizze_273208 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271696, &mem_271696_cached_sizze_273208, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int32_t defunc_2_reduce_res_262450;
    int32_t redout_270682 = 0;
    
    for (int64_t i_270687 = 0; i_270687 < nz2085U_229401; i_270687++) {
        float x_253319 = ((float *) mem_271596)[i_270687];
        float x_253320 = ((float *) mem_271599)[i_270687];
        float x_253321 = ((float *) mem_271602)[i_270687];
        float defunc_1_f_res_253322 = x_253319 - defunc_0_f_res_262437;
        float defunc_1_f_res_253323 = x_253320 - defunc_0_f_res_262438;
        float defunc_1_f_res_253324 = x_253321 - defunc_0_f_res_262439;
        float defunc_1_f_res_253328 = defunc_0_f_res_251488 * defunc_1_f_res_253322;
        float defunc_1_f_res_253329 = defunc_0_f_res_251492 * defunc_1_f_res_253323;
        float defunc_1_f_res_253330 = defunc_0_f_res_251496 * defunc_1_f_res_253324;
        float defunc_0_f_res_253331 = futrts_floor32(defunc_1_f_res_253328);
        int32_t defunc_0_g_res_253332 = fptosi_f32_i32(defunc_0_f_res_253331);
        float defunc_0_f_res_253333 = futrts_floor32(defunc_1_f_res_253329);
        int32_t defunc_0_g_res_253334 = fptosi_f32_i32(defunc_0_f_res_253333);
        float defunc_0_f_res_253335 = futrts_floor32(defunc_1_f_res_253330);
        int32_t defunc_0_g_res_253336 = fptosi_f32_i32(defunc_0_f_res_253335);
        int32_t arg_253337 = mul32(defunc_0_f_res_250573, defunc_0_g_res_253332);
        int32_t arg_253338 = mul32(defunc_0_f_res_250582, arg_253337);
        int32_t arg_253339 = mul32(defunc_0_f_res_250582, defunc_0_g_res_253334);
        int32_t arg_253340 = add32(arg_253338, arg_253339);
        int32_t defunc_0_g_res_253341 = add32(defunc_0_g_res_253336, arg_253340);
        int32_t unsign_arg_251531 = umax32(defunc_0_g_res_253341, redout_270682);
        
        ((int32_t *) mem_271687.mem)[i_270687] = defunc_0_g_res_253341;
        ((float *) mem_271690)[i_270687] = defunc_1_f_res_253322;
        ((float *) mem_271693)[i_270687] = defunc_1_f_res_253323;
        ((float *) mem_271696)[i_270687] = defunc_1_f_res_253324;
        
        int32_t redout_tmp_273053 = unsign_arg_251531;
        
        redout_270682 = redout_tmp_273053;
    }
    defunc_2_reduce_res_262450 = redout_270682;
    
    float defunc_1_f_res_250598 = defunc_1_f_res_250589 * defunc_1_f_res_250589;
    float sqrt_res_250603 = futrts_sqrt32(defunc_1_f_res_250598);
    float defunc_1_f_res_250605 = defunc_1_f_res_250593 * defunc_1_f_res_250593;
    float sqrt_res_250609 = futrts_sqrt32(defunc_1_f_res_250605);
    float defunc_1_f_res_250612 = defunc_1_f_res_250597 * defunc_1_f_res_250597;
    float sqrt_res_250615 = futrts_sqrt32(defunc_1_f_res_250612);
    float defunc_0_f_res_250616 = cutoffL_234838 / sqrt_res_250603;
    float defunc_0_f_res_250617 = cutoffL_234838 / sqrt_res_250609;
    float defunc_0_f_res_250618 = cutoffL_234838 / sqrt_res_250615;
    float defunc_0_f_res_250619 = futrts_ceil32(defunc_0_f_res_250616);
    float defunc_0_f_res_250620 = futrts_ceil32(defunc_0_f_res_250617);
    float defunc_0_f_res_250621 = futrts_ceil32(defunc_0_f_res_250618);
    int64_t defunc_0_f_res_250622 = fptosi_f32_i64(defunc_0_f_res_250619);
    int64_t defunc_0_f_res_250623 = fptosi_f32_i64(defunc_0_f_res_250620);
    int64_t defunc_0_f_res_250624 = fptosi_f32_i64(defunc_0_f_res_250621);
    int64_t defunc_0_f_res_250625 = add64((int64_t) 1, defunc_0_f_res_250622);
    int64_t defunc_0_f_res_250626 = add64((int64_t) 1, defunc_0_f_res_250623);
    int64_t defunc_0_f_res_250627 = add64((int64_t) 1, defunc_0_f_res_250624);
    int64_t defunc_0_f_res_250628 = add64((int64_t) 2, defunc_0_f_res_250622);
    int64_t defunc_0_f_res_250629 = add64((int64_t) 2, defunc_0_f_res_250623);
    int64_t defunc_0_f_res_250630 = add64((int64_t) 2, defunc_0_f_res_250624);
    int64_t nnzq_250631 = add64(defunc_0_f_res_250626, defunc_0_f_res_250629);
    int64_t range_start_250632 = sub64((int64_t) 0, defunc_0_f_res_250625);
    bool bounds_invalid_upwards_250633 = slt64(defunc_0_f_res_250628, range_start_250632);
    int64_t distance_250634 = sub64(defunc_0_f_res_250628, range_start_250632);
    bool valid_250635 = !bounds_invalid_upwards_250633;
    bool range_valid_c_250636;
    
    if (!valid_250635) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) range_start_250632, "..<", (long long) defunc_0_f_res_250628, " is invalid.", "-> #0  associations.fut:81:22-28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t range_start_250638 = sub64((int64_t) 0, defunc_0_f_res_250626);
    bool bounds_invalid_upwards_250639 = slt64(defunc_0_f_res_250629, range_start_250638);
    int64_t distance_250640 = sub64(defunc_0_f_res_250629, range_start_250638);
    bool valid_250641 = !bounds_invalid_upwards_250639;
    bool range_valid_c_250642;
    
    if (!valid_250641) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) range_start_250638, "..<", (long long) defunc_0_f_res_250629, " is invalid.", "-> #0  associations.fut:80:22-28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_250644 = slt64(defunc_0_f_res_250630, (int64_t) 1);
    int64_t distance_250645 = sub64(defunc_0_f_res_250630, (int64_t) 1);
    bool valid_250646 = !bounds_invalid_upwards_250644;
    bool range_valid_c_250647;
    
    if (!valid_250646) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) defunc_0_f_res_250630, " is invalid.", "-> #0  associations.fut:79:22-27\n   #1  associations.fut:78:43-80:29\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_250648 = defunc_0_f_res_250627 == distance_250645;
    bool empty_or_match_cert_250649;
    
    if (!dim_match_250648) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (core language) shape (", (long long) distance_250645, ") cannot match shape of type `[", (long long) defunc_0_f_res_250627, "](i64, i64, i64)`.", "-> #0  associations.fut:78:54-79:49\n   #1  associations.fut:78:43-80:29\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_x_271737 = defunc_0_f_res_250627 * distance_250640;
    int64_t binop_y_271738 = (int64_t) 8 * binop_x_271737;
    int64_t bytes_271739 = smax64((int64_t) 0, binop_y_271738);
    
    if (mem_271740_cached_sizze_273209 < bytes_271739) {
        err = lexical_realloc(ctx, &mem_271740, &mem_271740_cached_sizze_273209, bytes_271739);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270694 = 0; i_270694 < distance_250640; i_270694++) {
        int64_t index_primexp_271439 = add64(range_start_250638, i_270694);
        
        for (int64_t i_273059 = 0; i_273059 < defunc_0_f_res_250627; i_273059++) {
            ((int64_t *) mem_271740)[i_270694 * defunc_0_f_res_250627 + i_273059] = index_primexp_271439;
        }
    }
    
    bool dim_match_250654 = nnzq_250631 == distance_250640;
    bool empty_or_match_cert_250655;
    
    if (!dim_match_250654) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (core language) shape (", (long long) distance_250640, ", ", (long long) defunc_0_f_res_250627, ") cannot match shape of type `[", (long long) nnzq_250631, "][", (long long) defunc_0_f_res_250627, "](i64, i64, i64)`.", "-> #0  associations.fut:78:43-80:56\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_250669 = slt64(defunc_0_f_res_250629, (int64_t) 1);
    bool valid_250671 = !bounds_invalid_upwards_250669;
    bool range_valid_c_250672;
    
    if (!valid_250671) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) defunc_0_f_res_250629, " is invalid.", "-> #0  associations.fut:76:22-27\n   #1  associations.fut:75:29-77:29\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t distance_250670 = sub64(defunc_0_f_res_250629, (int64_t) 1);
    bool dim_match_250673 = defunc_0_f_res_250626 == distance_250670;
    bool empty_or_match_cert_250674;
    
    if (!dim_match_250673) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (core language) shape (", (long long) distance_250670, ") cannot match shape of type `[", (long long) defunc_0_f_res_250626, "](i64, i64, i64)`.", "-> #0  associations.fut:75:40-76:49\n   #1  associations.fut:75:29-77:29\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_x_271760 = defunc_0_f_res_250626 * distance_250634;
    int64_t binop_y_271761 = (int64_t) 8 * binop_x_271760;
    int64_t bytes_271762 = smax64((int64_t) 0, binop_y_271761);
    
    if (mem_271763_cached_sizze_273210 < bytes_271762) {
        err = lexical_realloc(ctx, &mem_271763, &mem_271763_cached_sizze_273210, bytes_271762);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t binop_x_271764 = nnzq_250631 * distance_250634;
    int64_t binop_x_271765 = defunc_0_f_res_250627 * binop_x_271764;
    int64_t binop_y_271766 = (int64_t) 8 * binop_x_271765;
    int64_t bytes_271767 = smax64((int64_t) 0, binop_y_271766);
    
    if (mem_271768_cached_sizze_273211 < bytes_271767) {
        err = lexical_realloc(ctx, &mem_271768, &mem_271768_cached_sizze_273211, bytes_271767);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t ixfun_arg_271788 = defunc_0_f_res_250627 * nnzq_250631;
    
    for (int64_t i_270700 = 0; i_270700 < distance_250634; i_270700++) {
        int64_t index_primexp_271437 = add64(range_start_250632, i_270700);
        
        for (int64_t i_273062 = 0; i_273062 < nnzq_250631; i_273062++) {
            for (int64_t i_273063 = 0; i_273063 < defunc_0_f_res_250627; i_273063++) {
                ((int64_t *) mem_271768)[i_270700 * ixfun_arg_271788 + (i_273062 * defunc_0_f_res_250627 + i_273063)] = index_primexp_271437;
            }
        }
        for (int64_t i_273064 = 0; i_273064 < defunc_0_f_res_250626; i_273064++) {
            ((int64_t *) mem_271763)[i_270700 * defunc_0_f_res_250626 + i_273064] = index_primexp_271437;
        }
    }
    
    bool bounds_invalid_upwards_250685 = slt64(defunc_0_f_res_250628, (int64_t) 1);
    int64_t distance_250686 = sub64(defunc_0_f_res_250628, (int64_t) 1);
    bool valid_250687 = !bounds_invalid_upwards_250685;
    bool range_valid_c_250688;
    
    if (!valid_250687) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) defunc_0_f_res_250628, " is invalid.", "-> #0  associations.fut:74:40-45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t conc_tmp_250691 = distance_250686 + binop_x_271760;
    int64_t conc_tmp_250692 = conc_tmp_250691 + binop_x_271765;
    float defunc_0_f_res_250697 = 0.0F - defunc_1_f_res_250589;
    float defunc_0_f_res_250701 = 0.0F - defunc_1_f_res_250593;
    float defunc_0_f_res_250705 = 0.0F - defunc_1_f_res_250597;
    float arg_250706 = cutoffL_234838 * cutoffL_234838;
    float arg_250719 = defunc_1_f_res_250597 * arg_250710;
    float arg_250728 = defunc_1_f_res_250589 * arg_250710;
    float defunc_1_f_res_250735 = defunc_1_f_res_250589 * arg_250719;
    float defunc_0_f_res_250740 = arg_250719 / defunc_1_f_res_250735;
    float defunc_0_f_res_250744 = arg_250710 / defunc_1_f_res_250735;
    float defunc_0_f_res_250745 = arg_250728 / defunc_1_f_res_250735;
    float arg_250757 = defunc_1_f_res_250593 * arg_250754;
    float arg_250766 = defunc_1_f_res_250589 * arg_250754;
    float defunc_1_f_res_250775 = defunc_1_f_res_250589 * arg_250757;
    float defunc_0_f_res_250780 = arg_250757 / defunc_1_f_res_250775;
    float defunc_0_f_res_250784 = arg_250766 / defunc_1_f_res_250775;
    float defunc_0_f_res_250788 = arg_250754 / defunc_1_f_res_250775;
    float arg_250804 = defunc_1_f_res_250597 * arg_250789;
    float arg_250813 = defunc_1_f_res_250593 * arg_250789;
    float defunc_1_f_res_250818 = arg_250789 * arg_250789;
    float defunc_0_f_res_250823 = arg_250789 / defunc_1_f_res_250818;
    float defunc_0_f_res_250824 = arg_250804 / defunc_1_f_res_250818;
    float defunc_0_f_res_250828 = arg_250813 / defunc_1_f_res_250818;
    int64_t binop_y_271815 = (int64_t) 8 * conc_tmp_250692;
    int64_t bytes_271816 = smax64((int64_t) 0, binop_y_271815);
    
    if (mem_271817_cached_sizze_273212 < bytes_271816) {
        err = lexical_realloc(ctx, &mem_271817, &mem_271817_cached_sizze_273212, bytes_271816);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271820_cached_sizze_273213 < bytes_271816) {
        err = lexical_realloc(ctx, &mem_271820, &mem_271820_cached_sizze_273213, bytes_271816);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t discard_270711;
    int64_t scanacc_270705 = (int64_t) 0;
    
    for (int64_t i_270708 = 0; i_270708 < conc_tmp_250692; i_270708++) {
        bool index_concat_cmp_271427 = sle64(conc_tmp_250691, i_270708);
        int64_t index_concat_branch_271435;
        
        if (index_concat_cmp_271427 == 1) {
            int64_t index_concat_i_271428 = sub64(i_270708, conc_tmp_250691);
            int64_t new_index_271542 = squot64(index_concat_i_271428, ixfun_arg_271788);
            int64_t binop_y_271546 = new_index_271542 * ixfun_arg_271788;
            int64_t binop_x_271547 = index_concat_i_271428 - binop_y_271546;
            int64_t new_index_271548 = squot64(binop_x_271547, defunc_0_f_res_250627);
            int64_t binop_y_271560 = defunc_0_f_res_250627 * new_index_271548;
            int64_t new_index_271561 = binop_x_271547 - binop_y_271560;
            int64_t index_concat_271429 = ((int64_t *) mem_271768)[new_index_271542 * ixfun_arg_271788 + new_index_271548 * defunc_0_f_res_250627 + new_index_271561];
            
            index_concat_branch_271435 = index_concat_271429;
        } else {
            bool index_concat_cmp_271430 = sle64(distance_250686, i_270708);
            int64_t index_concat_branch_271434;
            
            if (index_concat_cmp_271430 == 1) {
                int64_t index_concat_i_271431 = sub64(i_270708, distance_250686);
                int64_t new_index_271562 = squot64(index_concat_i_271431, defunc_0_f_res_250626);
                int64_t binop_y_271564 = defunc_0_f_res_250626 * new_index_271562;
                int64_t new_index_271565 = index_concat_i_271431 - binop_y_271564;
                int64_t index_concat_271432 = ((int64_t *) mem_271763)[new_index_271562 * defunc_0_f_res_250626 + new_index_271565];
                
                index_concat_branch_271434 = index_concat_271432;
            } else {
                int64_t index_primexp_271567 = add64((int64_t) 1, i_270708);
                
                index_concat_branch_271434 = index_primexp_271567;
            }
            index_concat_branch_271435 = index_concat_branch_271434;
        }
        
        int64_t index_concat_branch_271424;
        
        if (index_concat_cmp_271427 == 1) {
            int64_t index_concat_i_271417 = sub64(i_270708, conc_tmp_250691);
            int64_t binop_x_271517 = squot64(index_concat_i_271417, ixfun_arg_271788);
            int64_t binop_y_271519 = binop_x_271517 * ixfun_arg_271788;
            int64_t binop_x_271520 = index_concat_i_271417 - binop_y_271519;
            int64_t new_index_271521 = squot64(binop_x_271520, defunc_0_f_res_250627);
            int64_t binop_y_271533 = defunc_0_f_res_250627 * new_index_271521;
            int64_t new_index_271534 = binop_x_271520 - binop_y_271533;
            int64_t index_concat_271418 = ((int64_t *) mem_271740)[new_index_271521 * defunc_0_f_res_250627 + new_index_271534];
            
            index_concat_branch_271424 = index_concat_271418;
        } else {
            bool index_concat_cmp_271419 = sle64(distance_250686, i_270708);
            int64_t index_concat_branch_271423;
            
            if (index_concat_cmp_271419 == 1) {
                int64_t index_concat_i_271420 = sub64(i_270708, distance_250686);
                int64_t binop_x_271536 = squot64(index_concat_i_271420, defunc_0_f_res_250626);
                int64_t binop_y_271537 = defunc_0_f_res_250626 * binop_x_271536;
                int64_t new_index_271538 = index_concat_i_271420 - binop_y_271537;
                int64_t index_primexp_271540 = add64((int64_t) 1, new_index_271538);
                
                index_concat_branch_271423 = index_primexp_271540;
            } else {
                index_concat_branch_271423 = (int64_t) 0;
            }
            index_concat_branch_271424 = index_concat_branch_271423;
        }
        
        int64_t index_concat_branch_271413;
        
        if (index_concat_cmp_271427 == 1) {
            int64_t index_concat_i_271410 = sub64(i_270708, conc_tmp_250691);
            int64_t binop_x_271509 = squot64(index_concat_i_271410, defunc_0_f_res_250627);
            int64_t binop_y_271510 = defunc_0_f_res_250627 * binop_x_271509;
            int64_t new_index_271511 = index_concat_i_271410 - binop_y_271510;
            int64_t index_primexp_271513 = add64((int64_t) 1, new_index_271511);
            
            index_concat_branch_271413 = index_primexp_271513;
        } else {
            index_concat_branch_271413 = (int64_t) 0;
        }
        
        float defunc_0_f_res_253084 = sitofp_i64_f32(index_concat_branch_271435);
        float defunc_0_f_res_253085 = sitofp_i64_f32(index_concat_branch_271424);
        float defunc_0_f_res_253086 = sitofp_i64_f32(index_concat_branch_271413);
        float defunc_1_f_res_253087 = defunc_1_f_res_250589 * defunc_0_f_res_253084;
        float defunc_1_f_res_253088 = defunc_1_f_res_250593 * defunc_0_f_res_253085;
        float defunc_1_f_res_253089 = defunc_1_f_res_250597 * defunc_0_f_res_253086;
        float defunc_1_f_res_253090 = defunc_1_f_res_253088 - defunc_0_f_res_250701;
        float defunc_1_f_res_253091 = defunc_0_f_res_250745 * defunc_1_f_res_253089;
        float defunc_1_f_res_253092 = defunc_0_f_res_250740 * defunc_1_f_res_253087;
        float defunc_1_f_res_253093 = defunc_0_f_res_250744 * defunc_1_f_res_253090;
        bool cond_253094 = -1.0F < defunc_1_f_res_253091;
        bool cond_t_res_253095 = defunc_1_f_res_253091 < 1.0F;
        bool x_253096 = cond_253094 && cond_t_res_253095;
        bool cond_t_res_253097 = -1.0F < defunc_1_f_res_253092;
        bool x_253098 = x_253096 && cond_t_res_253097;
        bool cond_t_res_253099 = defunc_1_f_res_253092 < 1.0F;
        bool x_253100 = x_253098 && cond_t_res_253099;
        float planeDD_res_253101;
        
        if (x_253100 == 1) {
            float arg_262221 = defunc_1_f_res_253093 * defunc_1_f_res_253093;
            float defunc_1_f_res_262222 = arg_250710 * arg_250710;
            float planeDD_res_t_res_262223 = arg_262221 * defunc_1_f_res_262222;
            
            planeDD_res_253101 = planeDD_res_t_res_262223;
        } else {
            planeDD_res_253101 = INFINITY;
        }
        
        float defunc_1_f_res_253105 = defunc_1_f_res_253088 - defunc_1_f_res_250593;
        float defunc_1_f_res_253106 = defunc_0_f_res_250744 * defunc_1_f_res_253105;
        float planeDD_res_253107;
        
        if (x_253100 == 1) {
            float arg_262224 = defunc_1_f_res_253106 * defunc_1_f_res_253106;
            float defunc_1_f_res_262225 = arg_250710 * arg_250710;
            float planeDD_res_t_res_262226 = arg_262224 * defunc_1_f_res_262225;
            
            planeDD_res_253107 = planeDD_res_t_res_262226;
        } else {
            planeDD_res_253107 = INFINITY;
        }
        
        float defunc_1_f_res_253111 = defunc_1_f_res_253089 - defunc_0_f_res_250705;
        float defunc_1_f_res_253112 = defunc_0_f_res_250780 * defunc_1_f_res_253087;
        float defunc_1_f_res_253113 = defunc_0_f_res_250784 * defunc_1_f_res_253088;
        float defunc_1_f_res_253114 = defunc_0_f_res_250788 * defunc_1_f_res_253111;
        bool cond_253115 = -1.0F < defunc_1_f_res_253112;
        bool cond_t_res_253116 = defunc_1_f_res_253112 < 1.0F;
        bool x_253117 = cond_253115 && cond_t_res_253116;
        bool cond_t_res_253118 = -1.0F < defunc_1_f_res_253113;
        bool x_253119 = x_253117 && cond_t_res_253118;
        bool cond_t_res_253120 = defunc_1_f_res_253113 < 1.0F;
        bool x_253121 = x_253119 && cond_t_res_253120;
        float planeDD_res_253122;
        
        if (x_253121 == 1) {
            float arg_262227 = defunc_1_f_res_253114 * defunc_1_f_res_253114;
            float defunc_1_f_res_262228 = arg_250754 * arg_250754;
            float planeDD_res_t_res_262229 = arg_262227 * defunc_1_f_res_262228;
            
            planeDD_res_253122 = planeDD_res_t_res_262229;
        } else {
            planeDD_res_253122 = INFINITY;
        }
        
        float defunc_1_f_res_253126 = defunc_1_f_res_253089 - defunc_1_f_res_250597;
        float defunc_1_f_res_253127 = defunc_0_f_res_250788 * defunc_1_f_res_253126;
        float planeDD_res_253128;
        
        if (x_253121 == 1) {
            float arg_262230 = defunc_1_f_res_253127 * defunc_1_f_res_253127;
            float defunc_1_f_res_262231 = arg_250754 * arg_250754;
            float planeDD_res_t_res_262232 = arg_262230 * defunc_1_f_res_262231;
            
            planeDD_res_253128 = planeDD_res_t_res_262232;
        } else {
            planeDD_res_253128 = INFINITY;
        }
        
        float defunc_1_f_res_253132 = defunc_1_f_res_253087 - defunc_0_f_res_250697;
        float defunc_1_f_res_253133 = defunc_0_f_res_250824 * defunc_1_f_res_253088;
        float defunc_1_f_res_253134 = defunc_0_f_res_250828 * defunc_1_f_res_253089;
        float defunc_1_f_res_253135 = defunc_0_f_res_250823 * defunc_1_f_res_253132;
        bool cond_253136 = -1.0F < defunc_1_f_res_253133;
        bool cond_t_res_253137 = defunc_1_f_res_253133 < 1.0F;
        bool x_253138 = cond_253136 && cond_t_res_253137;
        bool cond_t_res_253139 = -1.0F < defunc_1_f_res_253134;
        bool x_253140 = x_253138 && cond_t_res_253139;
        bool cond_t_res_253141 = defunc_1_f_res_253134 < 1.0F;
        bool x_253142 = x_253140 && cond_t_res_253141;
        float planeDD_res_253143;
        
        if (x_253142 == 1) {
            float arg_262233 = defunc_1_f_res_253135 * defunc_1_f_res_253135;
            float planeDD_res_t_res_262235 = defunc_1_f_res_250818 * arg_262233;
            
            planeDD_res_253143 = planeDD_res_t_res_262235;
        } else {
            planeDD_res_253143 = INFINITY;
        }
        
        float defunc_1_f_res_253147 = defunc_1_f_res_253087 - defunc_1_f_res_250589;
        float defunc_1_f_res_253148 = defunc_0_f_res_250823 * defunc_1_f_res_253147;
        float planeDD_res_253149;
        
        if (x_253142 == 1) {
            float arg_262236 = defunc_1_f_res_253148 * defunc_1_f_res_253148;
            float planeDD_res_t_res_262238 = defunc_1_f_res_250818 * arg_262236;
            
            planeDD_res_253149 = planeDD_res_t_res_262238;
        } else {
            planeDD_res_253149 = INFINITY;
        }
        
        float defunc_1_f_res_253153 = defunc_1_f_res_250589 * defunc_1_f_res_253087;
        float a_253154 = defunc_1_f_res_253153 / defunc_1_f_res_250598;
        bool cond_253155 = -1.0F < a_253154;
        bool cond_t_res_253156 = a_253154 < 1.0F;
        bool x_253157 = cond_253155 && cond_t_res_253156;
        float edgeDD_res_253158;
        
        if (x_253157 == 1) {
            float defunc_0_f_res_262239 = defunc_1_f_res_250589 * a_253154;
            float defunc_1_f_res_262240 = defunc_1_f_res_253087 - defunc_0_f_res_262239;
            float defunc_1_f_res_262241 = defunc_1_f_res_262240 * defunc_1_f_res_262240;
            float defunc_1_f_res_262242 = defunc_1_f_res_253090 * defunc_1_f_res_253090;
            float defunc_1_f_res_262243 = defunc_1_f_res_253111 * defunc_1_f_res_253111;
            float defunc_1_f_res_262244 = defunc_1_f_res_262242 + defunc_1_f_res_262243;
            float defunc_0_f_res_262245 = defunc_1_f_res_262241 + defunc_1_f_res_262244;
            
            edgeDD_res_253158 = defunc_0_f_res_262245;
        } else {
            edgeDD_res_253158 = INFINITY;
        }
        
        float edgeDD_res_253166;
        
        if (x_253157 == 1) {
            float defunc_0_f_res_262246 = defunc_1_f_res_250589 * a_253154;
            float defunc_1_f_res_262247 = defunc_1_f_res_253087 - defunc_0_f_res_262246;
            float defunc_1_f_res_262248 = defunc_1_f_res_262247 * defunc_1_f_res_262247;
            float defunc_1_f_res_262249 = defunc_1_f_res_253105 * defunc_1_f_res_253105;
            float defunc_1_f_res_262250 = defunc_1_f_res_253111 * defunc_1_f_res_253111;
            float defunc_1_f_res_262251 = defunc_1_f_res_262249 + defunc_1_f_res_262250;
            float defunc_0_f_res_262252 = defunc_1_f_res_262248 + defunc_1_f_res_262251;
            
            edgeDD_res_253166 = defunc_0_f_res_262252;
        } else {
            edgeDD_res_253166 = INFINITY;
        }
        
        float edgeDD_res_253174;
        
        if (x_253157 == 1) {
            float defunc_0_f_res_262253 = defunc_1_f_res_250589 * a_253154;
            float defunc_1_f_res_262254 = defunc_1_f_res_253087 - defunc_0_f_res_262253;
            float defunc_1_f_res_262255 = defunc_1_f_res_262254 * defunc_1_f_res_262254;
            float defunc_1_f_res_262256 = defunc_1_f_res_253090 * defunc_1_f_res_253090;
            float defunc_1_f_res_262257 = defunc_1_f_res_253126 * defunc_1_f_res_253126;
            float defunc_1_f_res_262258 = defunc_1_f_res_262256 + defunc_1_f_res_262257;
            float defunc_0_f_res_262259 = defunc_1_f_res_262255 + defunc_1_f_res_262258;
            
            edgeDD_res_253174 = defunc_0_f_res_262259;
        } else {
            edgeDD_res_253174 = INFINITY;
        }
        
        float edgeDD_res_253182;
        
        if (x_253157 == 1) {
            float defunc_0_f_res_262260 = defunc_1_f_res_250589 * a_253154;
            float defunc_1_f_res_262261 = defunc_1_f_res_253087 - defunc_0_f_res_262260;
            float defunc_1_f_res_262262 = defunc_1_f_res_262261 * defunc_1_f_res_262261;
            float defunc_1_f_res_262263 = defunc_1_f_res_253105 * defunc_1_f_res_253105;
            float defunc_1_f_res_262264 = defunc_1_f_res_253126 * defunc_1_f_res_253126;
            float defunc_1_f_res_262265 = defunc_1_f_res_262263 + defunc_1_f_res_262264;
            float defunc_0_f_res_262266 = defunc_1_f_res_262262 + defunc_1_f_res_262265;
            
            edgeDD_res_253182 = defunc_0_f_res_262266;
        } else {
            edgeDD_res_253182 = INFINITY;
        }
        
        float defunc_1_f_res_253190 = defunc_1_f_res_250593 * defunc_1_f_res_253088;
        float a_253191 = defunc_1_f_res_253190 / defunc_1_f_res_250605;
        bool cond_253192 = -1.0F < a_253191;
        bool cond_t_res_253193 = a_253191 < 1.0F;
        bool x_253194 = cond_253192 && cond_t_res_253193;
        float edgeDD_res_253195;
        
        if (x_253194 == 1) {
            float defunc_0_f_res_262267 = defunc_1_f_res_250593 * a_253191;
            float defunc_1_f_res_262268 = defunc_1_f_res_253088 - defunc_0_f_res_262267;
            float defunc_1_f_res_262269 = defunc_1_f_res_253132 * defunc_1_f_res_253132;
            float defunc_1_f_res_262270 = defunc_1_f_res_262268 * defunc_1_f_res_262268;
            float defunc_1_f_res_262271 = defunc_1_f_res_253111 * defunc_1_f_res_253111;
            float defunc_1_f_res_262272 = defunc_1_f_res_262270 + defunc_1_f_res_262271;
            float defunc_0_f_res_262273 = defunc_1_f_res_262269 + defunc_1_f_res_262272;
            
            edgeDD_res_253195 = defunc_0_f_res_262273;
        } else {
            edgeDD_res_253195 = INFINITY;
        }
        
        float edgeDD_res_253203;
        
        if (x_253194 == 1) {
            float defunc_0_f_res_262274 = defunc_1_f_res_250593 * a_253191;
            float defunc_1_f_res_262275 = defunc_1_f_res_253088 - defunc_0_f_res_262274;
            float defunc_1_f_res_262276 = defunc_1_f_res_253132 * defunc_1_f_res_253132;
            float defunc_1_f_res_262277 = defunc_1_f_res_262275 * defunc_1_f_res_262275;
            float defunc_1_f_res_262278 = defunc_1_f_res_253126 * defunc_1_f_res_253126;
            float defunc_1_f_res_262279 = defunc_1_f_res_262277 + defunc_1_f_res_262278;
            float defunc_0_f_res_262280 = defunc_1_f_res_262276 + defunc_1_f_res_262279;
            
            edgeDD_res_253203 = defunc_0_f_res_262280;
        } else {
            edgeDD_res_253203 = INFINITY;
        }
        
        float edgeDD_res_253211;
        
        if (x_253194 == 1) {
            float defunc_0_f_res_262281 = defunc_1_f_res_250593 * a_253191;
            float defunc_1_f_res_262282 = defunc_1_f_res_253088 - defunc_0_f_res_262281;
            float defunc_1_f_res_262283 = defunc_1_f_res_253147 * defunc_1_f_res_253147;
            float defunc_1_f_res_262284 = defunc_1_f_res_262282 * defunc_1_f_res_262282;
            float defunc_1_f_res_262285 = defunc_1_f_res_253111 * defunc_1_f_res_253111;
            float defunc_1_f_res_262286 = defunc_1_f_res_262284 + defunc_1_f_res_262285;
            float defunc_0_f_res_262287 = defunc_1_f_res_262283 + defunc_1_f_res_262286;
            
            edgeDD_res_253211 = defunc_0_f_res_262287;
        } else {
            edgeDD_res_253211 = INFINITY;
        }
        
        float edgeDD_res_253219;
        
        if (x_253194 == 1) {
            float defunc_0_f_res_262288 = defunc_1_f_res_250593 * a_253191;
            float defunc_1_f_res_262289 = defunc_1_f_res_253088 - defunc_0_f_res_262288;
            float defunc_1_f_res_262290 = defunc_1_f_res_253147 * defunc_1_f_res_253147;
            float defunc_1_f_res_262291 = defunc_1_f_res_262289 * defunc_1_f_res_262289;
            float defunc_1_f_res_262292 = defunc_1_f_res_253126 * defunc_1_f_res_253126;
            float defunc_1_f_res_262293 = defunc_1_f_res_262291 + defunc_1_f_res_262292;
            float defunc_0_f_res_262294 = defunc_1_f_res_262290 + defunc_1_f_res_262293;
            
            edgeDD_res_253219 = defunc_0_f_res_262294;
        } else {
            edgeDD_res_253219 = INFINITY;
        }
        
        float defunc_1_f_res_253227 = defunc_1_f_res_250597 * defunc_1_f_res_253089;
        float a_253228 = defunc_1_f_res_253227 / defunc_1_f_res_250612;
        bool cond_253229 = -1.0F < a_253228;
        bool cond_t_res_253230 = a_253228 < 1.0F;
        bool x_253231 = cond_253229 && cond_t_res_253230;
        float edgeDD_res_253232;
        
        if (x_253231 == 1) {
            float defunc_0_f_res_262295 = defunc_1_f_res_250597 * a_253228;
            float defunc_1_f_res_262296 = defunc_1_f_res_253089 - defunc_0_f_res_262295;
            float defunc_1_f_res_262297 = defunc_1_f_res_253132 * defunc_1_f_res_253132;
            float defunc_1_f_res_262298 = defunc_1_f_res_253090 * defunc_1_f_res_253090;
            float defunc_1_f_res_262299 = defunc_1_f_res_262296 * defunc_1_f_res_262296;
            float defunc_1_f_res_262300 = defunc_1_f_res_262298 + defunc_1_f_res_262299;
            float defunc_0_f_res_262301 = defunc_1_f_res_262297 + defunc_1_f_res_262300;
            
            edgeDD_res_253232 = defunc_0_f_res_262301;
        } else {
            edgeDD_res_253232 = INFINITY;
        }
        
        float edgeDD_res_253240;
        
        if (x_253231 == 1) {
            float defunc_0_f_res_262302 = defunc_1_f_res_250597 * a_253228;
            float defunc_1_f_res_262303 = defunc_1_f_res_253089 - defunc_0_f_res_262302;
            float defunc_1_f_res_262304 = defunc_1_f_res_253147 * defunc_1_f_res_253147;
            float defunc_1_f_res_262305 = defunc_1_f_res_253090 * defunc_1_f_res_253090;
            float defunc_1_f_res_262306 = defunc_1_f_res_262303 * defunc_1_f_res_262303;
            float defunc_1_f_res_262307 = defunc_1_f_res_262305 + defunc_1_f_res_262306;
            float defunc_0_f_res_262308 = defunc_1_f_res_262304 + defunc_1_f_res_262307;
            
            edgeDD_res_253240 = defunc_0_f_res_262308;
        } else {
            edgeDD_res_253240 = INFINITY;
        }
        
        float edgeDD_res_253248;
        
        if (x_253231 == 1) {
            float defunc_0_f_res_262309 = defunc_1_f_res_250597 * a_253228;
            float defunc_1_f_res_262310 = defunc_1_f_res_253089 - defunc_0_f_res_262309;
            float defunc_1_f_res_262311 = defunc_1_f_res_253132 * defunc_1_f_res_253132;
            float defunc_1_f_res_262312 = defunc_1_f_res_253105 * defunc_1_f_res_253105;
            float defunc_1_f_res_262313 = defunc_1_f_res_262310 * defunc_1_f_res_262310;
            float defunc_1_f_res_262314 = defunc_1_f_res_262312 + defunc_1_f_res_262313;
            float defunc_0_f_res_262315 = defunc_1_f_res_262311 + defunc_1_f_res_262314;
            
            edgeDD_res_253248 = defunc_0_f_res_262315;
        } else {
            edgeDD_res_253248 = INFINITY;
        }
        
        float edgeDD_res_253256;
        
        if (x_253231 == 1) {
            float defunc_0_f_res_262316 = defunc_1_f_res_250597 * a_253228;
            float defunc_1_f_res_262317 = defunc_1_f_res_253089 - defunc_0_f_res_262316;
            float defunc_1_f_res_262318 = defunc_1_f_res_253147 * defunc_1_f_res_253147;
            float defunc_1_f_res_262319 = defunc_1_f_res_253105 * defunc_1_f_res_253105;
            float defunc_1_f_res_262320 = defunc_1_f_res_262317 * defunc_1_f_res_262317;
            float defunc_1_f_res_262321 = defunc_1_f_res_262319 + defunc_1_f_res_262320;
            float defunc_0_f_res_262322 = defunc_1_f_res_262318 + defunc_1_f_res_262321;
            
            edgeDD_res_253256 = defunc_0_f_res_262322;
        } else {
            edgeDD_res_253256 = INFINITY;
        }
        
        float defunc_1_f_res_253264 = defunc_1_f_res_253132 * defunc_1_f_res_253132;
        float defunc_1_f_res_253265 = defunc_1_f_res_253090 * defunc_1_f_res_253090;
        float defunc_1_f_res_253266 = defunc_1_f_res_253111 * defunc_1_f_res_253111;
        float defunc_1_f_res_253267 = defunc_1_f_res_253265 + defunc_1_f_res_253266;
        float defunc_0_f_res_253268 = defunc_1_f_res_253264 + defunc_1_f_res_253267;
        float defunc_1_f_res_253269 = defunc_1_f_res_253147 * defunc_1_f_res_253147;
        float defunc_0_f_res_253270 = defunc_1_f_res_253267 + defunc_1_f_res_253269;
        float defunc_1_f_res_253271 = defunc_1_f_res_253105 * defunc_1_f_res_253105;
        float defunc_1_f_res_253272 = defunc_1_f_res_253266 + defunc_1_f_res_253271;
        float defunc_0_f_res_253273 = defunc_1_f_res_253264 + defunc_1_f_res_253272;
        float defunc_0_f_res_253274 = defunc_1_f_res_253269 + defunc_1_f_res_253272;
        float defunc_1_f_res_253275 = defunc_1_f_res_253126 * defunc_1_f_res_253126;
        float defunc_1_f_res_253276 = defunc_1_f_res_253265 + defunc_1_f_res_253275;
        float defunc_0_f_res_253277 = defunc_1_f_res_253264 + defunc_1_f_res_253276;
        float defunc_0_f_res_253278 = defunc_1_f_res_253269 + defunc_1_f_res_253276;
        float defunc_1_f_res_253279 = defunc_1_f_res_253271 + defunc_1_f_res_253275;
        float defunc_0_f_res_253280 = defunc_1_f_res_253264 + defunc_1_f_res_253279;
        float defunc_0_f_res_253281 = defunc_1_f_res_253269 + defunc_1_f_res_253279;
        float min_res_253282 = fmin32(INFINITY, defunc_0_f_res_253281);
        float min_res_253283 = fmin32(defunc_0_f_res_253280, min_res_253282);
        float min_res_253284 = fmin32(defunc_0_f_res_253278, min_res_253283);
        float min_res_253285 = fmin32(defunc_0_f_res_253277, min_res_253284);
        float min_res_253286 = fmin32(defunc_0_f_res_253274, min_res_253285);
        float min_res_253287 = fmin32(defunc_0_f_res_253273, min_res_253286);
        float min_res_253288 = fmin32(defunc_0_f_res_253270, min_res_253287);
        float min_res_253289 = fmin32(defunc_0_f_res_253268, min_res_253288);
        float min_res_253290 = fmin32(edgeDD_res_253256, min_res_253289);
        float min_res_253291 = fmin32(edgeDD_res_253248, min_res_253290);
        float min_res_253292 = fmin32(edgeDD_res_253240, min_res_253291);
        float min_res_253293 = fmin32(edgeDD_res_253232, min_res_253292);
        float min_res_253294 = fmin32(edgeDD_res_253219, min_res_253293);
        float min_res_253295 = fmin32(edgeDD_res_253211, min_res_253294);
        float min_res_253296 = fmin32(edgeDD_res_253203, min_res_253295);
        float min_res_253297 = fmin32(edgeDD_res_253195, min_res_253296);
        float min_res_253298 = fmin32(edgeDD_res_253182, min_res_253297);
        float min_res_253299 = fmin32(edgeDD_res_253174, min_res_253298);
        float min_res_253300 = fmin32(edgeDD_res_253166, min_res_253299);
        float min_res_253301 = fmin32(edgeDD_res_253158, min_res_253300);
        float min_res_253302 = fmin32(planeDD_res_253149, min_res_253301);
        float min_res_253303 = fmin32(planeDD_res_253143, min_res_253302);
        float min_res_253304 = fmin32(planeDD_res_253128, min_res_253303);
        float min_res_253305 = fmin32(planeDD_res_253122, min_res_253304);
        float min_res_253306 = fmin32(planeDD_res_253107, min_res_253305);
        float min_res_253307 = fmin32(planeDD_res_253101, min_res_253306);
        bool not_arg_253308 = arg_250706 < min_res_253307;
        int64_t defunc_1_lifted_lambda_res_253309 = btoi_bool_i64(not_arg_253308);
        bool is_i_253310 = defunc_1_lifted_lambda_res_253309 == (int64_t) 0;
        bool cond_neg_253311 = !is_i_253310;
        int64_t part_res_253312 = btoi_bool_i64(cond_neg_253311);
        int64_t part_res_253313 = btoi_bool_i64(is_i_253310);
        int64_t zz_251438 = part_res_253313 + scanacc_270705;
        
        ((int64_t *) mem_271817)[i_270708] = zz_251438;
        ((int64_t *) mem_271820)[i_270708] = part_res_253312;
        
        int64_t scanacc_tmp_273065 = zz_251438;
        
        scanacc_270705 = scanacc_tmp_273065;
    }
    discard_270711 = scanacc_270705;
    
    int64_t last_index_251440 = conc_tmp_250692 - (int64_t) 1;
    bool is_empty_251441 = conc_tmp_250692 == (int64_t) 0;
    bool x_251442 = !is_empty_251441;
    int64_t last_offset_251443;
    
    if (x_251442 == 1) {
        int64_t x_262323 = ((int64_t *) mem_271817)[last_index_251440];
        
        last_offset_251443 = x_262323;
    } else {
        last_offset_251443 = (int64_t) 0;
    }
    
    int64_t partition_sizze_251445;
    
    if (is_empty_251441 == 1) {
        partition_sizze_251445 = (int64_t) 0;
    } else {
        partition_sizze_251445 = last_offset_251443;
    }
    if (mem_271843_cached_sizze_273214 < bytes_271816) {
        err = lexical_realloc(ctx, &mem_271843, &mem_271843_cached_sizze_273214, bytes_271816);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271846_cached_sizze_273215 < bytes_271816) {
        err = lexical_realloc(ctx, &mem_271846, &mem_271846_cached_sizze_273215, bytes_271816);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271849_cached_sizze_273216 < bytes_271816) {
        err = lexical_realloc(ctx, &mem_271849, &mem_271849_cached_sizze_273216, bytes_271816);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t write_iter_270712 = 0; write_iter_270712 < conc_tmp_250692; write_iter_270712++) {
        int64_t write_iv_270716 = ((int64_t *) mem_271820)[write_iter_270712];
        int64_t write_iv_270717 = ((int64_t *) mem_271817)[write_iter_270712];
        bool index_concat_cmp_271399 = sle64(conc_tmp_250691, write_iter_270712);
        int64_t index_concat_branch_271407;
        
        if (index_concat_cmp_271399 == 1) {
            int64_t index_concat_i_271400 = sub64(write_iter_270712, conc_tmp_250691);
            int64_t new_index_271482 = squot64(index_concat_i_271400, ixfun_arg_271788);
            int64_t binop_y_271486 = new_index_271482 * ixfun_arg_271788;
            int64_t binop_x_271487 = index_concat_i_271400 - binop_y_271486;
            int64_t new_index_271488 = squot64(binop_x_271487, defunc_0_f_res_250627);
            int64_t binop_y_271500 = defunc_0_f_res_250627 * new_index_271488;
            int64_t new_index_271501 = binop_x_271487 - binop_y_271500;
            int64_t index_concat_271401 = ((int64_t *) mem_271768)[new_index_271482 * ixfun_arg_271788 + new_index_271488 * defunc_0_f_res_250627 + new_index_271501];
            
            index_concat_branch_271407 = index_concat_271401;
        } else {
            bool index_concat_cmp_271402 = sle64(distance_250686, write_iter_270712);
            int64_t index_concat_branch_271406;
            
            if (index_concat_cmp_271402 == 1) {
                int64_t index_concat_i_271403 = sub64(write_iter_270712, distance_250686);
                int64_t new_index_271502 = squot64(index_concat_i_271403, defunc_0_f_res_250626);
                int64_t binop_y_271504 = defunc_0_f_res_250626 * new_index_271502;
                int64_t new_index_271505 = index_concat_i_271403 - binop_y_271504;
                int64_t index_concat_271404 = ((int64_t *) mem_271763)[new_index_271502 * defunc_0_f_res_250626 + new_index_271505];
                
                index_concat_branch_271406 = index_concat_271404;
            } else {
                int64_t index_primexp_271507 = add64((int64_t) 1, write_iter_270712);
                
                index_concat_branch_271406 = index_primexp_271507;
            }
            index_concat_branch_271407 = index_concat_branch_271406;
        }
        
        int64_t index_concat_branch_271396;
        
        if (index_concat_cmp_271399 == 1) {
            int64_t index_concat_i_271389 = sub64(write_iter_270712, conc_tmp_250691);
            int64_t binop_x_271457 = squot64(index_concat_i_271389, ixfun_arg_271788);
            int64_t binop_y_271459 = binop_x_271457 * ixfun_arg_271788;
            int64_t binop_x_271460 = index_concat_i_271389 - binop_y_271459;
            int64_t new_index_271461 = squot64(binop_x_271460, defunc_0_f_res_250627);
            int64_t binop_y_271473 = defunc_0_f_res_250627 * new_index_271461;
            int64_t new_index_271474 = binop_x_271460 - binop_y_271473;
            int64_t index_concat_271390 = ((int64_t *) mem_271740)[new_index_271461 * defunc_0_f_res_250627 + new_index_271474];
            
            index_concat_branch_271396 = index_concat_271390;
        } else {
            bool index_concat_cmp_271391 = sle64(distance_250686, write_iter_270712);
            int64_t index_concat_branch_271395;
            
            if (index_concat_cmp_271391 == 1) {
                int64_t index_concat_i_271392 = sub64(write_iter_270712, distance_250686);
                int64_t binop_x_271476 = squot64(index_concat_i_271392, defunc_0_f_res_250626);
                int64_t binop_y_271477 = defunc_0_f_res_250626 * binop_x_271476;
                int64_t new_index_271478 = index_concat_i_271392 - binop_y_271477;
                int64_t index_primexp_271480 = add64((int64_t) 1, new_index_271478);
                
                index_concat_branch_271395 = index_primexp_271480;
            } else {
                index_concat_branch_271395 = (int64_t) 0;
            }
            index_concat_branch_271396 = index_concat_branch_271395;
        }
        
        int64_t index_concat_branch_271385;
        
        if (index_concat_cmp_271399 == 1) {
            int64_t index_concat_i_271382 = sub64(write_iter_270712, conc_tmp_250691);
            int64_t binop_x_271449 = squot64(index_concat_i_271382, defunc_0_f_res_250627);
            int64_t binop_y_271450 = defunc_0_f_res_250627 * binop_x_271449;
            int64_t new_index_271451 = index_concat_i_271382 - binop_y_271450;
            int64_t index_primexp_271453 = add64((int64_t) 1, new_index_271451);
            
            index_concat_branch_271385 = index_primexp_271453;
        } else {
            index_concat_branch_271385 = (int64_t) 0;
        }
        
        bool is_this_one_251457 = write_iv_270716 == (int64_t) 0;
        int64_t this_offset_251458 = (int64_t) -1 + write_iv_270717;
        int64_t total_res_251459;
        
        if (is_this_one_251457 == 1) {
            total_res_251459 = this_offset_251458;
        } else {
            total_res_251459 = (int64_t) -1;
        }
        if (sle64((int64_t) 0, total_res_251459) && slt64(total_res_251459, conc_tmp_250692)) {
            ((int64_t *) mem_271843)[total_res_251459] = index_concat_branch_271407;
        }
        if (sle64((int64_t) 0, total_res_251459) && slt64(total_res_251459, conc_tmp_250692)) {
            ((int64_t *) mem_271846)[total_res_251459] = index_concat_branch_271396;
        }
        if (sle64((int64_t) 0, total_res_251459) && slt64(total_res_251459, conc_tmp_250692)) {
            ((int64_t *) mem_271849)[total_res_251459] = index_concat_branch_271385;
        }
    }
    
    bool eq_x_zz_251460 = (int64_t) 0 == last_offset_251443;
    bool p_and_eq_x_y_251461 = x_251442 && eq_x_zz_251460;
    bool empty_slice_251462 = is_empty_251441 || p_and_eq_x_y_251461;
    int64_t m_251463 = sub64(partition_sizze_251445, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_251464 = sle64((int64_t) 0, m_251463);
    bool i_p_m_t_s_leq_w_251465 = slt64(m_251463, conc_tmp_250692);
    bool i_lte_j_251466 = sle64((int64_t) 0, partition_sizze_251445);
    bool y_251467 = zzero_leq_i_p_m_t_s_251464 && i_p_m_t_s_leq_w_251465;
    bool y_251468 = i_lte_j_251466 && y_251467;
    bool ok_or_empty_251469 = empty_slice_251462 || y_251468;
    bool index_certs_251470;
    
    if (!ok_or_empty_251469) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) partition_sizze_251445, "] out of bounds for array of shape [", (long long) conc_tmp_250692, "].", "-> #0  /prelude/soacs.fut:173:6-16\n   #1  /prelude/functional.fut:9:42-44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_271880 = (int64_t) 4 * partition_sizze_251445;
    int64_t bytes_271881 = smax64((int64_t) 0, binop_y_271880);
    
    if (mem_271882_cached_sizze_273217 < bytes_271881) {
        err = lexical_realloc(ctx, &mem_271882, &mem_271882_cached_sizze_273217, bytes_271881);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271885_cached_sizze_273218 < bytes_271881) {
        err = lexical_realloc(ctx, &mem_271885, &mem_271885_cached_sizze_273218, bytes_271881);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271888_cached_sizze_273219 < bytes_271881) {
        err = lexical_realloc(ctx, &mem_271888, &mem_271888_cached_sizze_273219, bytes_271881);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270730 = 0; i_270730 < partition_sizze_251445; i_270730++) {
        int64_t x_251477 = ((int64_t *) mem_271843)[i_270730];
        int64_t x_251478 = ((int64_t *) mem_271846)[i_270730];
        int64_t x_251479 = ((int64_t *) mem_271849)[i_270730];
        int32_t defunc_0_f_res_251480 = sext_i64_i32(x_251477);
        int32_t defunc_0_f_res_251481 = sext_i64_i32(x_251478);
        int32_t defunc_0_f_res_251482 = sext_i64_i32(x_251479);
        
        ((int32_t *) mem_271882)[i_270730] = defunc_0_f_res_251480;
        ((int32_t *) mem_271885)[i_270730] = defunc_0_f_res_251481;
        ((int32_t *) mem_271888)[i_270730] = defunc_0_f_res_251482;
    }
    
    int64_t binop_y_271919 = (int64_t) 8 * nz2085U_229401;
    int64_t bytes_271920 = smax64((int64_t) 0, binop_y_271919);
    int32_t defunc_1_f_res_251602 = mul32(defunc_0_f_res_250573, defunc_0_f_res_250582);
    int32_t defunc_0_f_res_251603 = mul32(defunc_0_f_res_250564, defunc_1_f_res_251602);
    int64_t defunc_0_f_res_251604 = sext_i32_i64(defunc_0_f_res_251603);
    int64_t binop_y_272020 = (int64_t) 4 * defunc_0_f_res_251604;
    int64_t bytes_272021 = smax64((int64_t) 0, binop_y_272020);
    
    if (mem_272022_cached_sizze_273224 < bytes_272021) {
        err = lexical_realloc(ctx, &mem_272022, &mem_272022_cached_sizze_273224, bytes_272021);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273074 = 0; i_273074 < defunc_0_f_res_251604; i_273074++) {
        ((int32_t *) mem_272022)[i_273074] = 0;
    }
    for (int64_t iter_270775 = 0; iter_270775 < nz2085U_229401; iter_270775++) {
        int32_t pixel_270777 = ((int32_t *) mem_271687.mem)[iter_270775];
        int64_t defunc_0_f_res_253058 = sext_i32_i64(pixel_270777);
        bool less_than_zzero_270779 = slt64(defunc_0_f_res_253058, (int64_t) 0);
        bool greater_than_sizze_270780 = sle64(defunc_0_f_res_251604, defunc_0_f_res_253058);
        bool outside_bounds_dim_270781 = less_than_zzero_270779 || greater_than_sizze_270780;
        
        if (!(outside_bounds_dim_270781 == 1)) {
            int32_t read_hist_270783 = ((int32_t *) mem_272022)[defunc_0_f_res_253058];
            int32_t defunc_1_f_res_251609 = add32(1, read_hist_270783);
            
            ((int32_t *) mem_272022)[defunc_0_f_res_253058] = defunc_1_f_res_251609;
        }
    }
    if (mem_272035_cached_sizze_273225 < bytes_272021) {
        err = lexical_realloc(ctx, &mem_272035, &mem_272035_cached_sizze_273225, bytes_272021);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272038_cached_sizze_273226 < bytes_272021) {
        err = lexical_realloc(ctx, &mem_272038, &mem_272038_cached_sizze_273226, bytes_272021);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272041_cached_sizze_273227 < bytes_272021) {
        err = lexical_realloc(ctx, &mem_272041, &mem_272041_cached_sizze_273227, bytes_272021);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int32_t inpacc_262468;
    int32_t defunc_2_reduce_res_262469;
    int32_t inpacc_262470;
    int32_t inpacc_253468;
    int32_t inpacc_253469;
    int32_t inpacc_253470;
    
    inpacc_253468 = 0;
    inpacc_253469 = 0;
    inpacc_253470 = 0;
    for (int64_t i_270814 = 0; i_270814 < defunc_0_f_res_251604; i_270814++) {
        int32_t x_271319 = ((int32_t *) mem_272022)[i_270814];
        int32_t defunc_1_op_res_271336 = add32(inpacc_253468, x_271319);
        int32_t defunc_1_op_res_271338 = add32(inpacc_253470, x_271319);
        int32_t arg_271340 = sub32(x_271319, 1);
        int32_t arg_271341 = mul32(x_271319, arg_271340);
        int32_t defunc_0_f_res_271342 = sdiv32(arg_271341, 2);
        int32_t defunc_1_op_res_253509 = add32(inpacc_253469, defunc_0_f_res_271342);
        
        ((int32_t *) mem_272035)[i_270814] = inpacc_253470;
        ((int32_t *) mem_272038)[i_270814] = defunc_0_f_res_271342;
        ((int32_t *) mem_272041)[i_270814] = inpacc_253468;
        
        int32_t inpacc_tmp_273076 = defunc_1_op_res_271336;
        int32_t inpacc_tmp_273077 = defunc_1_op_res_253509;
        int32_t inpacc_tmp_273078 = defunc_1_op_res_271338;
        
        inpacc_253468 = inpacc_tmp_273076;
        inpacc_253469 = inpacc_tmp_273077;
        inpacc_253470 = inpacc_tmp_273078;
    }
    inpacc_262468 = inpacc_253468;
    defunc_2_reduce_res_262469 = inpacc_253469;
    inpacc_262470 = inpacc_253470;
    
    int64_t i32_res_251631 = sext_i32_i64(defunc_2_reduce_res_262469);
    
    if (memblock_alloc(ctx, &mem_272073, (int64_t) 0, "mem_272073")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t binop_y_272268 = (int64_t) 4 * i32_res_251631;
    int64_t bytes_272269 = smax64((int64_t) 0, binop_y_272268);
    int64_t i32_res_251823 = sext_i32_i64(defunc_0_f_res_250582);
    int64_t i32_res_251824 = sext_i32_i64(defunc_0_f_res_250573);
    int64_t i32_res_251825 = sext_i32_i64(defunc_0_f_res_250564);
    bool bounds_invalid_upwards_251826 = slt64(i32_res_251825, (int64_t) 0);
    bool valid_251827 = !bounds_invalid_upwards_251826;
    bool range_valid_c_251828;
    
    if (!valid_251827) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) i32_res_251825, " is invalid.", "-> #0  /prelude/array.fut:95:3-10\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_251830 = slt64(i32_res_251824, (int64_t) 0);
    bool valid_251831 = !bounds_invalid_upwards_251830;
    bool range_valid_c_251832;
    
    if (!valid_251831) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) i32_res_251824, " is invalid.", "-> #0  /prelude/array.fut:95:3-10\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_251834 = slt64(i32_res_251823, (int64_t) 0);
    bool valid_251835 = !bounds_invalid_upwards_251834;
    bool range_valid_c_251836;
    
    if (!valid_251835) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) i32_res_251823, " is invalid.", "-> #0  /prelude/array.fut:95:3-10\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_272294 = (int64_t) 4 * i32_res_251823;
    int64_t bytes_272295 = smax64((int64_t) 0, binop_y_272294);
    
    if (mem_272296_cached_sizze_273238 < bytes_272295) {
        err = lexical_realloc(ctx, &mem_272296, &mem_272296_cached_sizze_273238, bytes_272295);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270932 = 0; i_270932 < i32_res_251823; i_270932++) {
        int32_t defunc_0_f_res_251840 = sext_i64_i32(i_270932);
        
        ((int32_t *) mem_272296)[i_270932] = defunc_0_f_res_251840;
    }
    
    int64_t binop_x_272307 = i32_res_251823 * i32_res_251824;
    int64_t binop_y_272308 = (int64_t) 4 * binop_x_272307;
    int64_t bytes_272309 = smax64((int64_t) 0, binop_y_272308);
    
    if (mem_272310_cached_sizze_273239 < bytes_272309) {
        err = lexical_realloc(ctx, &mem_272310, &mem_272310_cached_sizze_273239, bytes_272309);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270936 = 0; i_270936 < i32_res_251824; i_270936++) {
        int32_t defunc_0_f_res_251843 = sext_i64_i32(i_270936);
        
        for (int64_t i_273084 = 0; i_273084 < i32_res_251823; i_273084++) {
            ((int32_t *) mem_272310)[i_270936 * i32_res_251823 + i_273084] = defunc_0_f_res_251843;
        }
    }
    
    bool zzero_251862 = defunc_0_f_res_250582 == 0;
    bool nonzzero_251863 = !zzero_251862;
    bool nonzzero_cert_251864;
    
    if (!nonzzero_251863) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  associations.fut:98:22-27\n   #1  algebra.fut:37:94-102\n   #2  /prelude/functional.fut:46:62-64\n   #3  associations.fut:107:12-30\n   #4  associations.fut:112:8-35\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool zzero_251859 = defunc_0_f_res_250573 == 0;
    bool nonzzero_251860 = !zzero_251859;
    bool nonzzero_cert_251861;
    
    if (!nonzzero_251860) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  associations.fut:98:22-27\n   #1  algebra.fut:37:83-91\n   #2  /prelude/functional.fut:46:62-64\n   #3  associations.fut:107:12-30\n   #4  associations.fut:112:8-35\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool zzero_251856 = defunc_0_f_res_250564 == 0;
    bool nonzzero_251857 = !zzero_251856;
    bool nonzzero_cert_251858;
    
    if (!nonzzero_251857) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  associations.fut:98:22-27\n   #1  algebra.fut:37:72-80\n   #2  /prelude/functional.fut:46:62-64\n   #3  associations.fut:107:12-30\n   #4  associations.fut:112:8-35\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t flat_dim_251850 = i32_res_251824 * i32_res_251825;
    int64_t flat_dim_251852 = i32_res_251823 * flat_dim_251850;
    int64_t binop_y_272332 = (int64_t) 4 * flat_dim_251852;
    int64_t bytes_272333 = smax64((int64_t) 0, binop_y_272332);
    
    if (mem_272334_cached_sizze_273240 < bytes_272333) {
        err = lexical_realloc(ctx, &mem_272334, &mem_272334_cached_sizze_273240, bytes_272333);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270940 = 0; i_270940 < i32_res_251825; i_270940++) {
        int32_t defunc_0_f_res_251848 = sext_i64_i32(i_270940);
        
        for (int64_t i_273086 = 0; i_273086 < i32_res_251824; i_273086++) {
            for (int64_t i_273087 = 0; i_273087 < i32_res_251823; i_273087++) {
                ((int32_t *) mem_272334)[i_270940 * binop_x_272307 + (i_273086 * i32_res_251823 + i_273087)] = defunc_0_f_res_251848;
            }
        }
    }
    
    int64_t binop_x_272362 = partition_sizze_251445 * flat_dim_251852;
    int64_t binop_y_272363 = (int64_t) 4 * binop_x_272362;
    int64_t bytes_272364 = smax64((int64_t) 0, binop_y_272363);
    
    if (mem_272365_cached_sizze_273241 < bytes_272364) {
        err = lexical_realloc(ctx, &mem_272365, &mem_272365_cached_sizze_273241, bytes_272364);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272369_cached_sizze_273242 < bytes_272364) {
        err = lexical_realloc(ctx, &mem_272369, &mem_272369_cached_sizze_273242, bytes_272364);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272373_cached_sizze_273243 < bytes_272364) {
        err = lexical_realloc(ctx, &mem_272373, &mem_272373_cached_sizze_273243, bytes_272364);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272377_cached_sizze_273244 < bytes_272364) {
        err = lexical_realloc(ctx, &mem_272377, &mem_272377_cached_sizze_273244, bytes_272364);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272381_cached_sizze_273245 < bytes_272364) {
        err = lexical_realloc(ctx, &mem_272381, &mem_272381_cached_sizze_273245, bytes_272364);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270965 = 0; i_270965 < flat_dim_251852; i_270965++) {
        int64_t new_index_271225 = squot64(i_270965, binop_x_272307);
        int64_t binop_y_271229 = new_index_271225 * binop_x_272307;
        int64_t binop_x_271230 = i_270965 - binop_y_271229;
        int64_t new_index_271231 = squot64(binop_x_271230, i32_res_251823);
        int64_t binop_y_271243 = i32_res_251823 * new_index_271231;
        int64_t new_index_271244 = binop_x_271230 - binop_y_271243;
        int32_t x_251870 = ((int32_t *) mem_272334)[new_index_271225 * binop_x_272307 + new_index_271231 * i32_res_251823 + new_index_271244];
        int32_t x_251871 = ((int32_t *) mem_272310)[new_index_271231 * i32_res_251823 + new_index_271244];
        int64_t binop_x_271267 = squot64(i_270965, i32_res_251823);
        int64_t binop_y_271268 = i32_res_251823 * binop_x_271267;
        int64_t new_index_271269 = i_270965 - binop_y_271268;
        int32_t x_251872 = ((int32_t *) mem_272296)[new_index_271269];
        
        for (int64_t i_270950 = 0; i_270950 < partition_sizze_251445; i_270950++) {
            int32_t x_254210 = ((int32_t *) mem_271882)[i_270950];
            int32_t x_254211 = ((int32_t *) mem_271885)[i_270950];
            int32_t x_254212 = ((int32_t *) mem_271888)[i_270950];
            int32_t defunc_1_f_res_254213 = add32(x_251870, x_254210);
            int32_t defunc_1_f_res_254214 = add32(x_251871, x_254211);
            int32_t defunc_1_f_res_254215 = add32(x_251872, x_254212);
            int32_t azq_254219 = srem32(defunc_1_f_res_254213, defunc_0_f_res_250564);
            bool cond_254220 = slt32(azq_254219, 0);
            int32_t azqzq_254221;
            
            if (cond_254220 == 1) {
                int32_t azqzq_t_res_262364 = add32(defunc_0_f_res_250564, azq_254219);
                
                azqzq_254221 = azqzq_t_res_262364;
            } else {
                azqzq_254221 = azq_254219;
            }
            
            int32_t arg_254223 = sub32(defunc_1_f_res_254213, azqzq_254221);
            int32_t j_254224 = squot32(arg_254223, defunc_0_f_res_250564);
            int32_t azq_254225 = srem32(defunc_1_f_res_254214, defunc_0_f_res_250573);
            bool cond_254226 = slt32(azq_254225, 0);
            int32_t azqzq_254227;
            
            if (cond_254226 == 1) {
                int32_t azqzq_t_res_262365 = add32(defunc_0_f_res_250573, azq_254225);
                
                azqzq_254227 = azqzq_t_res_262365;
            } else {
                azqzq_254227 = azq_254225;
            }
            
            int32_t arg_254229 = sub32(defunc_1_f_res_254214, azqzq_254227);
            int32_t j_254230 = squot32(arg_254229, defunc_0_f_res_250573);
            int32_t azq_254231 = srem32(defunc_1_f_res_254215, defunc_0_f_res_250582);
            bool cond_254232 = slt32(azq_254231, 0);
            int32_t azqzq_254233;
            
            if (cond_254232 == 1) {
                int32_t azqzq_t_res_262366 = add32(defunc_0_f_res_250582, azq_254231);
                
                azqzq_254233 = azqzq_t_res_262366;
            } else {
                azqzq_254233 = azq_254231;
            }
            
            int32_t arg_254235 = sub32(defunc_1_f_res_254215, azqzq_254233);
            int32_t j_254236 = squot32(arg_254235, defunc_0_f_res_250582);
            int32_t arg_254237 = mul32(defunc_0_f_res_250573, azqzq_254221);
            int32_t arg_254238 = mul32(defunc_0_f_res_250582, arg_254237);
            int32_t arg_254239 = mul32(defunc_0_f_res_250582, azqzq_254227);
            int32_t arg_254240 = add32(arg_254238, arg_254239);
            int32_t defunc_0_f_res_254241 = add32(azqzq_254233, arg_254240);
            
            ((int32_t *) mem_272369)[i_270965 * partition_sizze_251445 + i_270950] = defunc_0_f_res_254241;
            ((int32_t *) mem_272373)[i_270965 * partition_sizze_251445 + i_270950] = j_254224;
            ((int32_t *) mem_272377)[i_270965 * partition_sizze_251445 + i_270950] = j_254230;
            ((int32_t *) mem_272381)[i_270965 * partition_sizze_251445 + i_270950] = j_254236;
        }
        
        int32_t arg_251882 = mul32(defunc_0_f_res_250573, x_251870);
        int32_t arg_251883 = mul32(defunc_0_f_res_250582, arg_251882);
        int32_t arg_251884 = mul32(defunc_0_f_res_250582, x_251871);
        int32_t arg_251885 = add32(arg_251883, arg_251884);
        int32_t toLinear_res_251886 = add32(x_251872, arg_251885);
        
        for (int64_t i_273097 = 0; i_273097 < partition_sizze_251445; i_273097++) {
            ((int32_t *) mem_272365)[i_270965 * partition_sizze_251445 + i_273097] = toLinear_res_251886;
        }
    }
    
    int64_t i_251938 = sub64(binop_x_272362, (int64_t) 1);
    bool y_251940 = slt64(i_251938, binop_x_272362);
    bool x_251939 = sle64((int64_t) 0, i_251938);
    bool bounds_check_251941 = x_251939 && y_251940;
    bool cond_251937 = binop_x_272362 == (int64_t) 0;
    bool protect_assert_disj_251942 = cond_251937 || bounds_check_251941;
    bool index_certs_251943;
    
    if (!protect_assert_disj_251942) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251938, "] out of bounds for array of shape [", (long long) binop_x_272362, "].", "-> #0  /prelude/array.fut:26:29-34\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t ext_272636;
    int64_t ext_272635;
    int64_t ext_272631;
    int64_t ext_272630;
    int64_t replSegmIota_res_251944;
    int64_t replSegmIota_res_251945;
    
    if (cond_251937 == 1) {
        if (memblock_set(ctx, &ext_mem_272639, &mem_272073, "mem_272073") != 0)
            return 1;
        ext_272636 = (int64_t) 0;
        ext_272635 = (int64_t) 0;
        if (memblock_set(ctx, &ext_mem_272634, &mem_272073, "mem_272073") != 0)
            return 1;
        ext_272631 = (int64_t) 0;
        ext_272630 = (int64_t) 0;
        replSegmIota_res_251944 = (int64_t) 0;
        replSegmIota_res_251945 = (int64_t) 0;
    } else {
        if (mem_272567_cached_sizze_273246 < bytes_272364) {
            err = lexical_realloc(ctx, &mem_272567, &mem_272567_cached_sizze_273246, bytes_272364);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_272570_cached_sizze_273247 < bytes_272364) {
            err = lexical_realloc(ctx, &mem_272570, &mem_272570_cached_sizze_273247, bytes_272364);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        
        int32_t inpacc_262377;
        int32_t inpacc_262100 = 0;
        
        for (int64_t i_270991 = 0; i_270991 < binop_x_272362; i_270991++) {
            int64_t new_index_271440 = squot64(i_270991, partition_sizze_251445);
            int64_t binop_y_271442 = partition_sizze_251445 * new_index_271440;
            int64_t new_index_271443 = i_270991 - binop_y_271442;
            int32_t x_271195 = ((int32_t *) mem_272365)[new_index_271440 * partition_sizze_251445 + new_index_271443];
            int32_t x_271196 = ((int32_t *) mem_272369)[new_index_271440 * partition_sizze_251445 + new_index_271443];
            int64_t i_271197 = sext_i32_i64(x_271195);
            bool x_271198 = sle64((int64_t) 0, i_271197);
            bool y_271199 = slt64(i_271197, defunc_0_f_res_251604);
            bool bounds_check_271200 = x_271198 && y_271199;
            bool index_certs_271201;
            
            if (!bounds_check_271200) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_271197, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:53:38-43\n   #1  associations.fut:53:17-64\n   #2  associations.fut:128:29-85\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t arg_271202 = ((int32_t *) mem_272022)[i_271197];
            int64_t j_271203 = sext_i32_i64(x_271196);
            bool x_271204 = sle64((int64_t) 0, j_271203);
            bool y_271205 = slt64(j_271203, defunc_0_f_res_251604);
            bool bounds_check_271206 = x_271204 && y_271205;
            bool index_certs_271207;
            
            if (!bounds_check_271206) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_271203, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:53:45-50\n   #1  associations.fut:53:17-64\n   #2  associations.fut:128:29-85\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t arg_271208 = ((int32_t *) mem_272022)[j_271203];
            int32_t defunc_0_f_res_271209 = mul32(arg_271202, arg_271208);
            int32_t defunc_1_op_res_271220 = add32(inpacc_262100, defunc_0_f_res_271209);
            
            ((int32_t *) mem_272567)[i_270991] = inpacc_262100;
            ((int32_t *) mem_272570)[i_270991] = defunc_1_op_res_271220;
            
            int32_t inpacc_tmp_273098 = defunc_1_op_res_271220;
            
            inpacc_262100 = inpacc_tmp_273098;
        }
        inpacc_262377 = inpacc_262100;
        
        int32_t last_res_251957 = ((int32_t *) mem_272570)[i_251938];
        int64_t i32_res_251962 = sext_i32_i64(last_res_251957);
        int64_t binop_y_272591 = (int64_t) 4 * i32_res_251962;
        int64_t bytes_272592 = smax64((int64_t) 0, binop_y_272591);
        
        if (mem_272593_cached_sizze_273248 < bytes_272592) {
            err = lexical_realloc(ctx, &mem_272593, &mem_272593_cached_sizze_273248, bytes_272592);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_273101 = 0; i_273101 < i32_res_251962; i_273101++) {
            ((int32_t *) mem_272593)[i_273101] = 0;
        }
        for (int64_t iter_270994 = 0; iter_270994 < binop_x_272362; iter_270994++) {
            int32_t pixel_270996 = ((int32_t *) mem_272570)[iter_270994];
            int64_t defunc_0_f_res_254280 = sext_i32_i64(pixel_270996);
            bool less_than_zzero_270998 = slt64(defunc_0_f_res_254280, (int64_t) 0);
            bool greater_than_sizze_270999 = sle64(i32_res_251962, defunc_0_f_res_254280);
            bool outside_bounds_dim_271000 = less_than_zzero_270998 || greater_than_sizze_270999;
            
            if (!(outside_bounds_dim_271000 == 1)) {
                int32_t read_hist_271002 = ((int32_t *) mem_272593)[defunc_0_f_res_254280];
                int32_t defunc_1_f_res_251967 = add32(1, read_hist_271002);
                
                ((int32_t *) mem_272593)[defunc_0_f_res_254280] = defunc_1_f_res_251967;
            }
        }
        if (memblock_alloc(ctx, &mem_272606, bytes_272592, "mem_272606")) {
            err = 1;
            goto cleanup;
        }
        
        int32_t discard_271010;
        int32_t scanacc_271006 = 0;
        
        for (int64_t i_271008 = 0; i_271008 < i32_res_251962; i_271008++) {
            int32_t x_251974 = ((int32_t *) mem_272593)[i_271008];
            int32_t defunc_1_op_res_251973 = add32(x_251974, scanacc_271006);
            
            ((int32_t *) mem_272606.mem)[i_271008] = defunc_1_op_res_251973;
            
            int32_t scanacc_tmp_273103 = defunc_1_op_res_251973;
            
            scanacc_271006 = scanacc_tmp_273103;
        }
        discard_271010 = scanacc_271006;
        if (memblock_alloc(ctx, &mem_272619, bytes_272592, "mem_272619")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_271013 = 0; i_271013 < i32_res_251962; i_271013++) {
            int32_t i64_res_251978 = sext_i64_i32(i_271013);
            int32_t i_251983 = ((int32_t *) mem_272606.mem)[i_271013];
            int64_t i_251984 = sext_i32_i64(i_251983);
            bool x_251985 = sle64((int64_t) 0, i_251984);
            bool y_251986 = slt64(i_251984, binop_x_272362);
            bool bounds_check_251987 = x_251985 && y_251986;
            bool index_certs_251988;
            
            if (!bounds_check_251987) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251984, "] out of bounds for array of shape [", (long long) binop_x_272362, "].", "-> #0  associations.fut:26:57-71\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:200:3-17\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t arg_251989 = ((int32_t *) mem_272567)[i_251984];
            int32_t defunc_0_f_res_251990 = sub32(i64_res_251978, arg_251989);
            
            ((int32_t *) mem_272619.mem)[i_271013] = defunc_0_f_res_251990;
        }
        if (memblock_set(ctx, &ext_mem_272639, &mem_272606, "mem_272606") != 0)
            return 1;
        ext_272636 = i32_res_251962;
        ext_272635 = i32_res_251962;
        if (memblock_set(ctx, &ext_mem_272634, &mem_272619, "mem_272619") != 0)
            return 1;
        ext_272631 = i32_res_251962;
        ext_272630 = i32_res_251962;
        replSegmIota_res_251944 = i32_res_251962;
        replSegmIota_res_251945 = i32_res_251962;
    }
    
    int64_t binop_y_272640 = (int64_t) 4 * replSegmIota_res_251944;
    int64_t bytes_272641 = smax64((int64_t) 0, binop_y_272640);
    int64_t conc_tmp_252059 = i32_res_251631 + replSegmIota_res_251944;
    int64_t binop_y_272705 = (int64_t) 8 * conc_tmp_252059;
    int64_t bytes_272706 = smax64((int64_t) 0, binop_y_272705);
    int64_t binop_y_272731 = (int64_t) 4 * conc_tmp_252059;
    int64_t bytes_272732 = smax64((int64_t) 0, binop_y_272731);
    int64_t binop_y_272819 = (int64_t) 24 * nz2085U_229401;
    int64_t bytes_272820 = smax64((int64_t) 0, binop_y_272819);
    
    if (memblock_alloc(ctx, &mem_271921, bytes_271920, "mem_271921")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_273106 = 0; i_273106 < nz2085U_229401; i_273106++) {
        int64_t x_273107 = (int64_t) 0 + i_273106 * (int64_t) 1;
        
        ((int64_t *) mem_271921.mem)[i_273106] = x_273107;
    }
    
    int32_t clzz_res_251533 = futrts_clzz32(defunc_2_reduce_res_262450);
    int32_t defunc_0_f_res_251534 = sub32(32, clzz_res_251533);
    
    if (mem_271934_cached_sizze_273220 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271934, &mem_271934_cached_sizze_273220, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271937_cached_sizze_273221 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_271937, &mem_271937_cached_sizze_273221, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271960_cached_sizze_273222 < bytes_271920) {
        err = lexical_realloc(ctx, &mem_271960, &mem_271960_cached_sizze_273222, bytes_271920);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_set(ctx, &mem_param_271926, &mem_271687, "mem_271687") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_271931, &mem_271921, "mem_271921") != 0)
        return 1;
    for (int32_t bit_251537 = 0; bit_251537 < defunc_0_f_res_251534; bit_251537++) {
        int32_t defunc_2_reduce_res_262327;
        int32_t redout_270736 = 0;
        
        for (int64_t i_270739 = 0; i_270739 < nz2085U_229401; i_270739++) {
            int32_t x_253913 = ((int32_t *) mem_param_271926.mem)[i_270739];
            int32_t arg_253914 = lshr32(x_253913, bit_251537);
            int32_t u32_arg_253915 = 1 & arg_253914;
            int32_t defunc_0_f_res_253917 = sub32(1, u32_arg_253915);
            int32_t defunc_1_op_res_251550 = add32(defunc_0_f_res_253917, redout_270736);
            
            ((int32_t *) mem_271934)[i_270739] = defunc_0_f_res_253917;
            ((int32_t *) mem_271937)[i_270739] = u32_arg_253915;
            
            int32_t redout_tmp_273112 = defunc_1_op_res_251550;
            
            redout_270736 = redout_tmp_273112;
        }
        defunc_2_reduce_res_262327 = redout_270736;
        
        int32_t inpacc_262330;
        int32_t inpacc_262331;
        int32_t inpacc_253848;
        int32_t inpacc_253849;
        
        inpacc_253848 = 0;
        inpacc_253849 = 0;
        for (int64_t i_270760 = 0; i_270760 < nz2085U_229401; i_270760++) {
            int32_t x_271352 = ((int32_t *) mem_271937)[i_270760];
            int32_t x_271360 = ((int32_t *) mem_271934)[i_270760];
            int32_t defunc_1_op_res_271371 = add32(inpacc_253848, x_271352);
            int32_t defunc_0_f_res_271372 = add32(defunc_2_reduce_res_262327, defunc_1_op_res_271371);
            int32_t defunc_1_f_res_271373 = mul32(x_271352, defunc_0_f_res_271372);
            int32_t defunc_1_op_res_271374 = add32(inpacc_253849, x_271360);
            int32_t defunc_1_f_res_271375 = mul32(x_271360, defunc_1_op_res_271374);
            int32_t defunc_1_f_res_271376 = add32(defunc_1_f_res_271373, defunc_1_f_res_271375);
            int32_t defunc_0_f_res_271377 = sub32(defunc_1_f_res_271376, 1);
            int64_t defunc_0_f_res_271378 = sext_i32_i64(defunc_0_f_res_271377);
            
            ((int64_t *) mem_271960)[i_270760] = defunc_0_f_res_271378;
            
            int32_t inpacc_tmp_273115 = defunc_1_op_res_271371;
            int32_t inpacc_tmp_273116 = defunc_1_op_res_271374;
            
            inpacc_253848 = inpacc_tmp_273115;
            inpacc_253849 = inpacc_tmp_273116;
        }
        inpacc_262330 = inpacc_253848;
        inpacc_262331 = inpacc_253849;
        if (memblock_alloc(ctx, &mem_271973, bytes_271595, "mem_271973")) {
            err = 1;
            goto cleanup;
        }
        if (nz2085U_229401 * (int64_t) 4 > 0)
            memmove(mem_271973.mem + (int64_t) 0, mem_param_271926.mem + (int64_t) 0, nz2085U_229401 * (int64_t) 4);
        if (memblock_alloc(ctx, &mem_271976, bytes_271920, "mem_271976")) {
            err = 1;
            goto cleanup;
        }
        if (nz2085U_229401 * (int64_t) 8 > 0)
            memmove(mem_271976.mem + (int64_t) 0, mem_param_271931.mem + (int64_t) 0, nz2085U_229401 * (int64_t) 8);
        for (int64_t write_iter_270762 = 0; write_iter_270762 < nz2085U_229401; write_iter_270762++) {
            int64_t write_iv_270765 = ((int64_t *) mem_271960)[write_iter_270762];
            int64_t write_iv_270766 = ((int64_t *) mem_param_271931.mem)[write_iter_270762];
            int32_t write_iv_270768 = ((int32_t *) mem_param_271926.mem)[write_iter_270762];
            
            if (sle64((int64_t) 0, write_iv_270765) && slt64(write_iv_270765, nz2085U_229401)) {
                ((int64_t *) mem_271976.mem)[write_iv_270765] = write_iv_270766;
            }
            if (sle64((int64_t) 0, write_iv_270765) && slt64(write_iv_270765, nz2085U_229401)) {
                ((int32_t *) mem_271973.mem)[write_iv_270765] = write_iv_270768;
            }
        }
        if (memblock_set(ctx, &mem_param_tmp_273108, &mem_271973, "mem_271973") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_273109, &mem_271976, "mem_271976") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_271926, &mem_param_tmp_273108, "mem_param_tmp_273108") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_271931, &mem_param_tmp_273109, "mem_param_tmp_273109") != 0)
            return 1;
    }
    if (memblock_set(ctx, &ext_mem_272006, &mem_param_271926, "mem_param_271926") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_272005, &mem_param_271931, "mem_param_271931") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_271687, "mem_271687") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_271921, "mem_271921") != 0)
        return 1;
    if (mem_272009_cached_sizze_273223 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_272009, &mem_272009_cached_sizze_273223, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270773 = 0; i_270773 < nz2085U_229401; i_270773++) {
        int64_t x_251592 = ((int64_t *) ext_mem_272005.mem)[i_270773];
        bool x_251593 = sle64((int64_t) 0, x_251592);
        bool y_251594 = slt64(x_251592, nz2085U_229401);
        bool bounds_check_251595 = x_251593 && y_251594;
        bool index_certs_251596;
        
        if (!bounds_check_251595) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) x_251592, "] out of bounds for array of shape [", (long long) nz2085U_229401, "].", "-> #0  sorting.fut:15:19-23\n   #1  sorting.fut:15:8-27\n   #2  /prelude/functional.fut:9:42-44\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t index_primexp_251597 = sext_i64_i32(x_251592);
        
        ((int32_t *) mem_272009)[i_270773] = index_primexp_251597;
    }
    if (memblock_unref(ctx, &ext_mem_272005, "ext_mem_272005") != 0)
        return 1;
    
    bool cond_251632 = defunc_0_f_res_251604 == (int64_t) 0;
    int64_t i_251634 = sub64(defunc_0_f_res_251604, (int64_t) 1);
    bool x_251635 = sle64((int64_t) 0, i_251634);
    bool y_251636 = slt64(i_251634, defunc_0_f_res_251604);
    bool bounds_check_251637 = x_251635 && y_251636;
    bool protect_assert_disj_251638 = cond_251632 || bounds_check_251637;
    bool index_certs_251639;
    
    if (!protect_assert_disj_251638) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251634, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  /prelude/array.fut:26:29-34\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t ext_272114;
    int64_t ext_272113;
    int64_t repl_iota_res_251640;
    
    if (cond_251632 == 1) {
        if (memblock_set(ctx, &ext_mem_272117, &mem_272073, "mem_272073") != 0)
            return 1;
        ext_272114 = (int64_t) 0;
        ext_272113 = (int64_t) 0;
        repl_iota_res_251640 = (int64_t) 0;
    } else {
        if (mem_272076_cached_sizze_273228 < bytes_272021) {
            err = lexical_realloc(ctx, &mem_272076, &mem_272076_cached_sizze_273228, bytes_272021);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        
        int32_t discard_270823;
        int32_t scanacc_270819 = 0;
        
        for (int64_t i_270821 = 0; i_270821 < defunc_0_f_res_251604; i_270821++) {
            int32_t x_251646 = ((int32_t *) mem_272038)[i_270821];
            int32_t defunc_1_op_res_251645 = add32(x_251646, scanacc_270819);
            
            ((int32_t *) mem_272076)[i_270821] = defunc_1_op_res_251645;
            
            int32_t scanacc_tmp_273121 = defunc_1_op_res_251645;
            
            scanacc_270819 = scanacc_tmp_273121;
        }
        discard_270823 = scanacc_270819;
        
        int32_t last_res_251647 = ((int32_t *) mem_272076)[i_251634];
        int64_t i32_res_251652 = sext_i32_i64(last_res_251647);
        int64_t binop_y_272087 = (int64_t) 4 * i32_res_251652;
        int64_t bytes_272088 = smax64((int64_t) 0, binop_y_272087);
        
        if (mem_272089_cached_sizze_273229 < bytes_272088) {
            err = lexical_realloc(ctx, &mem_272089, &mem_272089_cached_sizze_273229, bytes_272088);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_273123 = 0; i_273123 < i32_res_251652; i_273123++) {
            ((int32_t *) mem_272089)[i_273123] = 0;
        }
        for (int64_t iter_270824 = 0; iter_270824 < defunc_0_f_res_251604; iter_270824++) {
            int32_t pixel_270826 = ((int32_t *) mem_272076)[iter_270824];
            int64_t defunc_0_f_res_254048 = sext_i32_i64(pixel_270826);
            bool less_than_zzero_270828 = slt64(defunc_0_f_res_254048, (int64_t) 0);
            bool greater_than_sizze_270829 = sle64(i32_res_251652, defunc_0_f_res_254048);
            bool outside_bounds_dim_270830 = less_than_zzero_270828 || greater_than_sizze_270829;
            
            if (!(outside_bounds_dim_270830 == 1)) {
                int32_t read_hist_270832 = ((int32_t *) mem_272089)[defunc_0_f_res_254048];
                int32_t defunc_1_f_res_251657 = add32(1, read_hist_270832);
                
                ((int32_t *) mem_272089)[defunc_0_f_res_254048] = defunc_1_f_res_251657;
            }
        }
        if (memblock_alloc(ctx, &mem_272102, bytes_272088, "mem_272102")) {
            err = 1;
            goto cleanup;
        }
        
        int32_t discard_270840;
        int32_t scanacc_270836 = 0;
        
        for (int64_t i_270838 = 0; i_270838 < i32_res_251652; i_270838++) {
            int32_t x_251664 = ((int32_t *) mem_272089)[i_270838];
            int32_t defunc_1_op_res_251663 = add32(x_251664, scanacc_270836);
            
            ((int32_t *) mem_272102.mem)[i_270838] = defunc_1_op_res_251663;
            
            int32_t scanacc_tmp_273125 = defunc_1_op_res_251663;
            
            scanacc_270836 = scanacc_tmp_273125;
        }
        discard_270840 = scanacc_270836;
        if (memblock_set(ctx, &ext_mem_272117, &mem_272102, "mem_272102") != 0)
            return 1;
        ext_272114 = i32_res_251652;
        ext_272113 = i32_res_251652;
        repl_iota_res_251640 = i32_res_251652;
    }
    
    bool dim_match_251665 = i32_res_251631 == repl_iota_res_251640;
    bool empty_or_match_cert_251666;
    
    if (!dim_match_251665) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (core language) shape (", (long long) repl_iota_res_251640, ") cannot match shape of type `[", (long long) i32_res_251631, "]i32`.", "-> #0  associations.fut:44:20-47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t ext_272189;
    int64_t ext_272188;
    int64_t ext_272184;
    int64_t ext_272183;
    int64_t replSegmIota_res_251668;
    int64_t replSegmIota_res_251669;
    
    if (cond_251632 == 1) {
        if (memblock_set(ctx, &ext_mem_272192, &mem_272073, "mem_272073") != 0)
            return 1;
        ext_272189 = (int64_t) 0;
        ext_272188 = (int64_t) 0;
        if (memblock_set(ctx, &ext_mem_272187, &mem_272073, "mem_272073") != 0)
            return 1;
        ext_272184 = (int64_t) 0;
        ext_272183 = (int64_t) 0;
        replSegmIota_res_251668 = (int64_t) 0;
        replSegmIota_res_251669 = (int64_t) 0;
    } else {
        if (mem_272120_cached_sizze_273230 < bytes_272021) {
            err = lexical_realloc(ctx, &mem_272120, &mem_272120_cached_sizze_273230, bytes_272021);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_272123_cached_sizze_273231 < bytes_272021) {
            err = lexical_realloc(ctx, &mem_272123, &mem_272123_cached_sizze_273231, bytes_272021);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        
        int32_t inpacc_262347;
        int32_t inpacc_254087 = 0;
        
        for (int64_t i_270858 = 0; i_270858 < defunc_0_f_res_251604; i_270858++) {
            int32_t x_271300 = ((int32_t *) mem_272022)[i_270858];
            int32_t defunc_1_op_res_271310 = add32(inpacc_254087, x_271300);
            
            ((int32_t *) mem_272120)[i_270858] = inpacc_254087;
            ((int32_t *) mem_272123)[i_270858] = defunc_1_op_res_271310;
            
            int32_t inpacc_tmp_273127 = defunc_1_op_res_271310;
            
            inpacc_254087 = inpacc_tmp_273127;
        }
        inpacc_262347 = inpacc_254087;
        
        int32_t last_res_251681 = ((int32_t *) mem_272123)[i_251634];
        int64_t i32_res_251686 = sext_i32_i64(last_res_251681);
        int64_t binop_y_272144 = (int64_t) 4 * i32_res_251686;
        int64_t bytes_272145 = smax64((int64_t) 0, binop_y_272144);
        
        if (mem_272146_cached_sizze_273232 < bytes_272145) {
            err = lexical_realloc(ctx, &mem_272146, &mem_272146_cached_sizze_273232, bytes_272145);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_273130 = 0; i_273130 < i32_res_251686; i_273130++) {
            ((int32_t *) mem_272146)[i_273130] = 0;
        }
        for (int64_t iter_270861 = 0; iter_270861 < defunc_0_f_res_251604; iter_270861++) {
            int32_t pixel_270863 = ((int32_t *) mem_272123)[iter_270861];
            int64_t defunc_0_f_res_254056 = sext_i32_i64(pixel_270863);
            bool less_than_zzero_270865 = slt64(defunc_0_f_res_254056, (int64_t) 0);
            bool greater_than_sizze_270866 = sle64(i32_res_251686, defunc_0_f_res_254056);
            bool outside_bounds_dim_270867 = less_than_zzero_270865 || greater_than_sizze_270866;
            
            if (!(outside_bounds_dim_270867 == 1)) {
                int32_t read_hist_270869 = ((int32_t *) mem_272146)[defunc_0_f_res_254056];
                int32_t defunc_1_f_res_251691 = add32(1, read_hist_270869);
                
                ((int32_t *) mem_272146)[defunc_0_f_res_254056] = defunc_1_f_res_251691;
            }
        }
        if (memblock_alloc(ctx, &mem_272159, bytes_272145, "mem_272159")) {
            err = 1;
            goto cleanup;
        }
        
        int32_t discard_270877;
        int32_t scanacc_270873 = 0;
        
        for (int64_t i_270875 = 0; i_270875 < i32_res_251686; i_270875++) {
            int32_t x_251698 = ((int32_t *) mem_272146)[i_270875];
            int32_t defunc_1_op_res_251697 = add32(x_251698, scanacc_270873);
            
            ((int32_t *) mem_272159.mem)[i_270875] = defunc_1_op_res_251697;
            
            int32_t scanacc_tmp_273132 = defunc_1_op_res_251697;
            
            scanacc_270873 = scanacc_tmp_273132;
        }
        discard_270877 = scanacc_270873;
        if (memblock_alloc(ctx, &mem_272172, bytes_272145, "mem_272172")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_270880 = 0; i_270880 < i32_res_251686; i_270880++) {
            int32_t i64_res_251702 = sext_i64_i32(i_270880);
            int32_t i_251707 = ((int32_t *) mem_272159.mem)[i_270880];
            int64_t i_251708 = sext_i32_i64(i_251707);
            bool x_251709 = sle64((int64_t) 0, i_251708);
            bool y_251710 = slt64(i_251708, defunc_0_f_res_251604);
            bool bounds_check_251711 = x_251709 && y_251710;
            bool index_certs_251712;
            
            if (!bounds_check_251711) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251708, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:26:57-71\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:200:3-17\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t arg_251713 = ((int32_t *) mem_272120)[i_251708];
            int32_t defunc_0_f_res_251714 = sub32(i64_res_251702, arg_251713);
            
            ((int32_t *) mem_272172.mem)[i_270880] = defunc_0_f_res_251714;
        }
        if (memblock_set(ctx, &ext_mem_272192, &mem_272159, "mem_272159") != 0)
            return 1;
        ext_272189 = i32_res_251686;
        ext_272188 = i32_res_251686;
        if (memblock_set(ctx, &ext_mem_272187, &mem_272172, "mem_272172") != 0)
            return 1;
        ext_272184 = i32_res_251686;
        ext_272183 = i32_res_251686;
        replSegmIota_res_251668 = i32_res_251686;
        replSegmIota_res_251669 = i32_res_251686;
    }
    
    int64_t i_251719 = sub64(replSegmIota_res_251668, (int64_t) 1);
    bool y_251721 = slt64(i_251719, replSegmIota_res_251668);
    bool x_251720 = sle64((int64_t) 0, i_251719);
    bool bounds_check_251722 = x_251720 && y_251721;
    bool cond_251718 = replSegmIota_res_251668 == (int64_t) 0;
    bool protect_assert_disj_251723 = cond_251718 || bounds_check_251722;
    bool index_certs_251724;
    
    if (!protect_assert_disj_251723) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251719, "] out of bounds for array of shape [", (long long) replSegmIota_res_251668, "].", "-> #0  /prelude/array.fut:26:29-34\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_251715 = replSegmIota_res_251668 == replSegmIota_res_251669;
    bool empty_or_match_cert_251716;
    
    if (!dim_match_251715) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Function return value does not match shape of declared return type.", "-> #0  associations.fut:19:1-27:22\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_272193 = (int64_t) 4 * replSegmIota_res_251668;
    int64_t bytes_272194 = smax64((int64_t) 0, binop_y_272193);
    int64_t ext_272264;
    int64_t ext_272263;
    int64_t ext_272259;
    int64_t ext_272258;
    int64_t replSegmIota_res_251725;
    int64_t replSegmIota_res_251726;
    
    if (cond_251718 == 1) {
        if (memblock_set(ctx, &ext_mem_272267, &mem_272073, "mem_272073") != 0)
            return 1;
        ext_272264 = (int64_t) 0;
        ext_272263 = (int64_t) 0;
        if (memblock_set(ctx, &ext_mem_272262, &mem_272073, "mem_272073") != 0)
            return 1;
        ext_272259 = (int64_t) 0;
        ext_272258 = (int64_t) 0;
        replSegmIota_res_251725 = (int64_t) 0;
        replSegmIota_res_251726 = (int64_t) 0;
    } else {
        if (mem_272195_cached_sizze_273233 < bytes_272194) {
            err = lexical_realloc(ctx, &mem_272195, &mem_272195_cached_sizze_273233, bytes_272194);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_272198_cached_sizze_273234 < bytes_272194) {
            err = lexical_realloc(ctx, &mem_272198, &mem_272198_cached_sizze_273234, bytes_272194);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        
        int32_t inpacc_262357;
        int32_t inpacc_254164 = 0;
        
        for (int64_t i_270899 = 0; i_270899 < replSegmIota_res_251668; i_270899++) {
            int32_t x_271281 = ((int32_t *) ext_mem_272187.mem)[i_270899];
            int32_t defunc_1_op_res_271291 = add32(inpacc_254164, x_271281);
            
            ((int32_t *) mem_272195)[i_270899] = inpacc_254164;
            ((int32_t *) mem_272198)[i_270899] = defunc_1_op_res_271291;
            
            int32_t inpacc_tmp_273135 = defunc_1_op_res_271291;
            
            inpacc_254164 = inpacc_tmp_273135;
        }
        inpacc_262357 = inpacc_254164;
        
        int32_t last_res_251738 = ((int32_t *) mem_272198)[i_251719];
        int64_t i32_res_251743 = sext_i32_i64(last_res_251738);
        int64_t binop_y_272219 = (int64_t) 4 * i32_res_251743;
        int64_t bytes_272220 = smax64((int64_t) 0, binop_y_272219);
        
        if (mem_272221_cached_sizze_273235 < bytes_272220) {
            err = lexical_realloc(ctx, &mem_272221, &mem_272221_cached_sizze_273235, bytes_272220);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_273138 = 0; i_273138 < i32_res_251743; i_273138++) {
            ((int32_t *) mem_272221)[i_273138] = 0;
        }
        for (int64_t iter_270902 = 0; iter_270902 < replSegmIota_res_251668; iter_270902++) {
            int32_t pixel_270904 = ((int32_t *) mem_272198)[iter_270902];
            int64_t defunc_0_f_res_254133 = sext_i32_i64(pixel_270904);
            bool less_than_zzero_270906 = slt64(defunc_0_f_res_254133, (int64_t) 0);
            bool greater_than_sizze_270907 = sle64(i32_res_251743, defunc_0_f_res_254133);
            bool outside_bounds_dim_270908 = less_than_zzero_270906 || greater_than_sizze_270907;
            
            if (!(outside_bounds_dim_270908 == 1)) {
                int32_t read_hist_270910 = ((int32_t *) mem_272221)[defunc_0_f_res_254133];
                int32_t defunc_1_f_res_251748 = add32(1, read_hist_270910);
                
                ((int32_t *) mem_272221)[defunc_0_f_res_254133] = defunc_1_f_res_251748;
            }
        }
        if (memblock_alloc(ctx, &mem_272234, bytes_272220, "mem_272234")) {
            err = 1;
            goto cleanup;
        }
        
        int32_t discard_270918;
        int32_t scanacc_270914 = 0;
        
        for (int64_t i_270916 = 0; i_270916 < i32_res_251743; i_270916++) {
            int32_t x_251755 = ((int32_t *) mem_272221)[i_270916];
            int32_t defunc_1_op_res_251754 = add32(x_251755, scanacc_270914);
            
            ((int32_t *) mem_272234.mem)[i_270916] = defunc_1_op_res_251754;
            
            int32_t scanacc_tmp_273140 = defunc_1_op_res_251754;
            
            scanacc_270914 = scanacc_tmp_273140;
        }
        discard_270918 = scanacc_270914;
        if (memblock_alloc(ctx, &mem_272247, bytes_272220, "mem_272247")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_270921 = 0; i_270921 < i32_res_251743; i_270921++) {
            int32_t i64_res_251759 = sext_i64_i32(i_270921);
            int32_t i_251764 = ((int32_t *) mem_272234.mem)[i_270921];
            int64_t i_251765 = sext_i32_i64(i_251764);
            bool x_251766 = sle64((int64_t) 0, i_251765);
            bool y_251767 = slt64(i_251765, replSegmIota_res_251668);
            bool bounds_check_251768 = x_251766 && y_251767;
            bool index_certs_251769;
            
            if (!bounds_check_251768) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251765, "] out of bounds for array of shape [", (long long) replSegmIota_res_251668, "].", "-> #0  associations.fut:26:57-71\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:200:3-17\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t arg_251770 = ((int32_t *) mem_272195)[i_251765];
            int32_t defunc_0_f_res_251771 = sub32(i64_res_251759, arg_251770);
            
            ((int32_t *) mem_272247.mem)[i_270921] = defunc_0_f_res_251771;
        }
        if (memblock_set(ctx, &ext_mem_272267, &mem_272234, "mem_272234") != 0)
            return 1;
        ext_272264 = i32_res_251743;
        ext_272263 = i32_res_251743;
        if (memblock_set(ctx, &ext_mem_272262, &mem_272247, "mem_272247") != 0)
            return 1;
        ext_272259 = i32_res_251743;
        ext_272258 = i32_res_251743;
        replSegmIota_res_251725 = i32_res_251743;
        replSegmIota_res_251726 = i32_res_251743;
    }
    if (memblock_unref(ctx, &mem_272073, "mem_272073") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_272187, "ext_mem_272187") != 0)
        return 1;
    
    bool dim_match_251774 = i32_res_251631 == replSegmIota_res_251725;
    bool empty_or_match_cert_251775;
    
    if (!dim_match_251774) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (core language) shape (", (long long) replSegmIota_res_251725, ") cannot match shape of type `[", (long long) i32_res_251631, "](i32, i32)`.", "-> #0  associations.fut:46:15-53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_251772 = replSegmIota_res_251725 == replSegmIota_res_251726;
    bool empty_or_match_cert_251773;
    
    if (!dim_match_251772) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Function return value does not match shape of declared return type.", "-> #0  associations.fut:19:1-27:22\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (mem_272270_cached_sizze_273236 < bytes_272269) {
        err = lexical_realloc(ctx, &mem_272270, &mem_272270_cached_sizze_273236, bytes_272269);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272273_cached_sizze_273237 < bytes_272269) {
        err = lexical_realloc(ctx, &mem_272273, &mem_272273_cached_sizze_273237, bytes_272269);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270927 = 0; i_270927 < i32_res_251631; i_270927++) {
        int32_t x_252911 = ((int32_t *) ext_mem_272267.mem)[i_270927];
        int32_t x_252912 = ((int32_t *) ext_mem_272117.mem)[i_270927];
        int32_t x_252913 = ((int32_t *) ext_mem_272262.mem)[i_270927];
        int64_t j_252915 = sext_i32_i64(x_252912);
        bool x_252916 = sle64((int64_t) 0, j_252915);
        bool y_252917 = slt64(j_252915, defunc_0_f_res_251604);
        bool bounds_check_252918 = x_252916 && y_252917;
        bool index_certs_252919;
        
        if (!bounds_check_252918) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_252915, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:49:33-41\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  associations.fut:49:15-54\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t arg_252920 = ((int32_t *) mem_272035)[j_252915];
        int32_t defunc_1_f_res_252921 = sub32(x_252911, arg_252920);
        bool index_certs_252927;
        
        if (!bounds_check_252918) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_252915, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:125:37-50\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t arg_252928 = ((int32_t *) mem_272041)[j_252915];
        int32_t i_252929 = add32(defunc_1_f_res_252921, arg_252928);
        int64_t i_252930 = sext_i32_i64(i_252929);
        bool x_252931 = sle64((int64_t) 0, i_252930);
        bool y_252932 = slt64(i_252930, nz2085U_229401);
        bool bounds_check_252933 = x_252931 && y_252932;
        bool index_certs_252934;
        
        if (!bounds_check_252933) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252930, "] out of bounds for array of shape [", (long long) nz2085U_229401, "].", "-> #0  associations.fut:125:29-57\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t lifted_index_res_252935 = ((int32_t *) mem_272009)[i_252930];
        int32_t i_252936 = add32(x_252913, arg_252928);
        int64_t i_252937 = sext_i32_i64(i_252936);
        bool x_252938 = sle64((int64_t) 0, i_252937);
        bool y_252939 = slt64(i_252937, nz2085U_229401);
        bool bounds_check_252940 = x_252938 && y_252939;
        bool index_certs_252941;
        
        if (!bounds_check_252940) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252937, "] out of bounds for array of shape [", (long long) nz2085U_229401, "].", "-> #0  associations.fut:125:29-57\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t lifted_index_res_252942 = ((int32_t *) mem_272009)[i_252937];
        
        ((int32_t *) mem_272270)[i_270927] = lifted_index_res_252935;
        ((int32_t *) mem_272273)[i_270927] = lifted_index_res_252942;
    }
    if (memblock_unref(ctx, &ext_mem_272117, "ext_mem_272117") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_272262, "ext_mem_272262") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_272267, "ext_mem_272267") != 0)
        return 1;
    
    bool dim_match_251991 = replSegmIota_res_251944 == replSegmIota_res_251945;
    bool empty_or_match_cert_251992;
    
    if (!dim_match_251991) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Function return value does not match shape of declared return type.", "-> #0  associations.fut:19:1-27:22\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (mem_272642_cached_sizze_273249 < bytes_272641) {
        err = lexical_realloc(ctx, &mem_272642, &mem_272642_cached_sizze_273249, bytes_272641);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272645_cached_sizze_273250 < bytes_272641) {
        err = lexical_realloc(ctx, &mem_272645, &mem_272645_cached_sizze_273250, bytes_272641);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272648_cached_sizze_273251 < bytes_272641) {
        err = lexical_realloc(ctx, &mem_272648, &mem_272648_cached_sizze_273251, bytes_272641);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272651_cached_sizze_273252 < bytes_272641) {
        err = lexical_realloc(ctx, &mem_272651, &mem_272651_cached_sizze_273252, bytes_272641);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272654_cached_sizze_273253 < bytes_272641) {
        err = lexical_realloc(ctx, &mem_272654, &mem_272654_cached_sizze_273253, bytes_272641);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_271025 = 0; i_271025 < replSegmIota_res_251944; i_271025++) {
        int32_t x_252851 = ((int32_t *) ext_mem_272639.mem)[i_271025];
        int32_t x_252852 = ((int32_t *) ext_mem_272634.mem)[i_271025];
        int64_t associationI_252853 = sext_i32_i64(x_252851);
        bool x_252854 = sle64((int64_t) 0, associationI_252853);
        bool y_252855 = slt64(associationI_252853, binop_x_272362);
        bool bounds_check_252856 = x_252854 && y_252855;
        bool index_certs_252857;
        
        if (!bounds_check_252856) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) associationI_252853, "] out of bounds for array of shape [", (long long) binop_x_272362, "].", "-> #0  associations.fut:55:59-84\n   #1  /prelude/functional.fut:9:42-44\n   #2  associations.fut:54:8-58:54\n   #3  associations.fut:128:29-85\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t new_index_252858 = squot64(associationI_252853, partition_sizze_251445);
        int64_t binop_y_252859 = partition_sizze_251445 * new_index_252858;
        int64_t new_index_252860 = associationI_252853 - binop_y_252859;
        int32_t defunc_0_f_res_252861 = ((int32_t *) mem_272365)[new_index_252858 * partition_sizze_251445 + new_index_252860];
        int32_t defunc_0_f_res_252862 = ((int32_t *) mem_272369)[new_index_252858 * partition_sizze_251445 + new_index_252860];
        int32_t defunc_0_f_res_252863 = ((int32_t *) mem_272373)[new_index_252858 * partition_sizze_251445 + new_index_252860];
        int32_t defunc_0_f_res_252864 = ((int32_t *) mem_272377)[new_index_252858 * partition_sizze_251445 + new_index_252860];
        int32_t defunc_0_f_res_252865 = ((int32_t *) mem_272381)[new_index_252858 * partition_sizze_251445 + new_index_252860];
        int64_t i_252866 = sext_i32_i64(defunc_0_f_res_252861);
        bool x_252867 = sle64((int64_t) 0, i_252866);
        bool y_252868 = slt64(i_252866, defunc_0_f_res_251604);
        bool bounds_check_252869 = x_252867 && y_252868;
        bool index_certs_252870;
        
        if (!bounds_check_252869) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252866, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:56:50-55\n   #1  /prelude/functional.fut:9:42-44\n   #2  associations.fut:54:8-58:54\n   #3  associations.fut:128:29-85\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t arg_252871 = ((int32_t *) mem_272022)[i_252866];
        bool zzero_252872 = arg_252871 == 0;
        bool nonzzero_252873 = !zzero_252872;
        bool nonzzero_cert_252874;
        
        if (!nonzzero_252873) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  associations.fut:56:41-55\n   #1  /prelude/functional.fut:9:42-44\n   #2  associations.fut:54:8-58:54\n   #3  associations.fut:128:29-85\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t a_252875 = smod32(x_252852, arg_252871);
        int32_t b_252876 = sdiv32(x_252852, arg_252871);
        bool index_certs_252888;
        
        if (!bounds_check_252869) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252866, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:125:37-50\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t arg_252889 = ((int32_t *) mem_272041)[i_252866];
        int32_t i_252890 = add32(a_252875, arg_252889);
        int64_t i_252891 = sext_i32_i64(i_252890);
        bool x_252892 = sle64((int64_t) 0, i_252891);
        bool y_252893 = slt64(i_252891, nz2085U_229401);
        bool bounds_check_252894 = x_252892 && y_252893;
        bool index_certs_252895;
        
        if (!bounds_check_252894) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252891, "] out of bounds for array of shape [", (long long) nz2085U_229401, "].", "-> #0  associations.fut:125:29-57\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t lifted_index_res_252896 = ((int32_t *) mem_272009)[i_252891];
        int64_t gridI_252897 = sext_i32_i64(defunc_0_f_res_252862);
        bool x_252898 = sle64((int64_t) 0, gridI_252897);
        bool y_252899 = slt64(gridI_252897, defunc_0_f_res_251604);
        bool bounds_check_252900 = x_252898 && y_252899;
        bool index_certs_252901;
        
        if (!bounds_check_252900) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gridI_252897, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:125:37-50\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t arg_252902 = ((int32_t *) mem_272041)[gridI_252897];
        int32_t i_252903 = add32(b_252876, arg_252902);
        int64_t i_252904 = sext_i32_i64(i_252903);
        bool x_252905 = sle64((int64_t) 0, i_252904);
        bool y_252906 = slt64(i_252904, nz2085U_229401);
        bool bounds_check_252907 = x_252905 && y_252906;
        bool index_certs_252908;
        
        if (!bounds_check_252907) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252904, "] out of bounds for array of shape [", (long long) nz2085U_229401, "].", "-> #0  associations.fut:125:29-57\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t lifted_index_res_252909 = ((int32_t *) mem_272009)[i_252904];
        
        ((int32_t *) mem_272642)[i_271025] = lifted_index_res_252896;
        ((int32_t *) mem_272645)[i_271025] = lifted_index_res_252909;
        ((int32_t *) mem_272648)[i_271025] = defunc_0_f_res_252863;
        ((int32_t *) mem_272651)[i_271025] = defunc_0_f_res_252864;
        ((int32_t *) mem_272654)[i_271025] = defunc_0_f_res_252865;
    }
    if (memblock_unref(ctx, &ext_mem_272634, "ext_mem_272634") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_272639, "ext_mem_272639") != 0)
        return 1;
    
    float defunc_1_f_res_248880 = sigma_par_229403 * sigma_par_229403;
    
    if (mem_272707_cached_sizze_273254 < bytes_272706) {
        err = lexical_realloc(ctx, &mem_272707, &mem_272707_cached_sizze_273254, bytes_272706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272710_cached_sizze_273255 < bytes_272706) {
        err = lexical_realloc(ctx, &mem_272710, &mem_272710_cached_sizze_273255, bytes_272706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t discard_271039;
    int64_t scanacc_271033 = (int64_t) 0;
    
    for (int64_t i_271036 = 0; i_271036 < conc_tmp_252059; i_271036++) {
        bool index_concat_cmp_271184 = sle64(i32_res_251631, i_271036);
        int32_t index_concat_branch_271188;
        
        if (index_concat_cmp_271184 == 1) {
            int64_t index_concat_i_271185 = sub64(i_271036, i32_res_251631);
            int32_t index_concat_271186 = ((int32_t *) mem_272642)[index_concat_i_271185];
            
            index_concat_branch_271188 = index_concat_271186;
        } else {
            int32_t index_concat_271187 = ((int32_t *) mem_272270)[i_271036];
            
            index_concat_branch_271188 = index_concat_271187;
        }
        
        int32_t index_concat_branch_271182;
        
        if (index_concat_cmp_271184 == 1) {
            int64_t index_concat_i_271179 = sub64(i_271036, i32_res_251631);
            int32_t index_concat_271180 = ((int32_t *) mem_272645)[index_concat_i_271179];
            
            index_concat_branch_271182 = index_concat_271180;
        } else {
            int32_t index_concat_271181 = ((int32_t *) mem_272273)[i_271036];
            
            index_concat_branch_271182 = index_concat_271181;
        }
        
        int32_t index_concat_branch_271176;
        
        if (index_concat_cmp_271184 == 1) {
            int64_t index_concat_i_271173 = sub64(i_271036, i32_res_251631);
            int32_t index_concat_271174 = ((int32_t *) mem_272648)[index_concat_i_271173];
            
            index_concat_branch_271176 = index_concat_271174;
        } else {
            index_concat_branch_271176 = 0;
        }
        
        int32_t index_concat_branch_271170;
        
        if (index_concat_cmp_271184 == 1) {
            int64_t index_concat_i_271167 = sub64(i_271036, i32_res_251631);
            int32_t index_concat_271168 = ((int32_t *) mem_272651)[index_concat_i_271167];
            
            index_concat_branch_271170 = index_concat_271168;
        } else {
            index_concat_branch_271170 = 0;
        }
        
        int32_t index_concat_branch_271164;
        
        if (index_concat_cmp_271184 == 1) {
            int64_t index_concat_i_271161 = sub64(i_271036, i32_res_251631);
            int32_t index_concat_271162 = ((int32_t *) mem_272654)[index_concat_i_271161];
            
            index_concat_branch_271164 = index_concat_271162;
        } else {
            index_concat_branch_271164 = 0;
        }
        
        int64_t i_252542 = sext_i32_i64(index_concat_branch_271188);
        bool x_252543 = sle64((int64_t) 0, i_252542);
        bool y_252544 = slt64(i_252542, nz2085U_229401);
        bool bounds_check_252545 = x_252543 && y_252544;
        bool index_certs_252546;
        
        if (!bounds_check_252545) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252542, "] out of bounds for array of shape [", (long long) nz2085U_229401, "].", "-> #0  associations.fut:142:18-31\n   #1  /prelude/soacs.fut:172:53-55\n   #2  /prelude/functional.fut:9:42-44\n   #3  associations.fut:230:7-231:29\n   #4  futhark_interaction.fut:66:8-105\n   #5  futhark_interaction.fut:59:1-68:17\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        float defunc_0_p_res_252547 = ((float *) mem_271690)[i_252542];
        float defunc_0_p_res_252548 = ((float *) mem_271693)[i_252542];
        float defunc_0_p_res_252549 = ((float *) mem_271696)[i_252542];
        float defunc_0_p_res_252550 = ((float *) mem_271605)[i_252542];
        float defunc_0_p_res_252551 = ((float *) mem_271608)[i_252542];
        float defunc_0_p_res_252552 = ((float *) mem_271611)[i_252542];
        float defunc_0_p_res_252553 = ((float *) mem_271614)[i_252542];
        float defunc_0_f_res_252554 = sitofp_i32_f32(index_concat_branch_271176);
        float defunc_0_f_res_252555 = sitofp_i32_f32(index_concat_branch_271170);
        float defunc_0_f_res_252556 = sitofp_i32_f32(index_concat_branch_271164);
        float defunc_1_f_res_252557 = defunc_1_f_res_248856 * defunc_0_f_res_252554;
        float defunc_1_f_res_252558 = defunc_1_f_res_248857 * defunc_0_f_res_252555;
        float defunc_1_f_res_252559 = defunc_1_f_res_248858 * defunc_0_f_res_252556;
        int64_t j_252560 = sext_i32_i64(index_concat_branch_271182);
        bool x_252561 = sle64((int64_t) 0, j_252560);
        bool y_252562 = slt64(j_252560, nz2085U_229401);
        bool bounds_check_252563 = x_252561 && y_252562;
        bool index_certs_252564;
        
        if (!bounds_check_252563) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_252560, "] out of bounds for array of shape [", (long long) nz2085U_229401, "].", "-> #0  associations.fut:143:69-82\n   #1  /prelude/soacs.fut:172:53-55\n   #2  /prelude/functional.fut:9:42-44\n   #3  associations.fut:230:7-231:29\n   #4  futhark_interaction.fut:66:8-105\n   #5  futhark_interaction.fut:59:1-68:17\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        float dyn_translate_arg_252565 = ((float *) mem_271690)[j_252560];
        float dyn_translate_arg_252566 = ((float *) mem_271693)[j_252560];
        float dyn_translate_arg_252567 = ((float *) mem_271696)[j_252560];
        float dyn_translate_arg_252568 = ((float *) mem_271605)[j_252560];
        float dyn_translate_arg_252569 = ((float *) mem_271608)[j_252560];
        float dyn_translate_arg_252570 = ((float *) mem_271611)[j_252560];
        float dyn_translate_arg_252571 = ((float *) mem_271614)[j_252560];
        float defunc_1_f_res_252572 = defunc_1_f_res_252557 + dyn_translate_arg_252565;
        float defunc_1_f_res_252573 = defunc_1_f_res_252558 + dyn_translate_arg_252566;
        float defunc_1_f_res_252574 = defunc_1_f_res_252559 + dyn_translate_arg_252567;
        float defunc_1_f_res_252575 = defunc_1_f_res_252572 - defunc_0_p_res_252547;
        float defunc_1_f_res_252576 = defunc_1_f_res_252573 - defunc_0_p_res_252548;
        float defunc_1_f_res_252577 = defunc_1_f_res_252574 - defunc_0_p_res_252549;
        float defunc_0_f_res_252578 = 0.0F - defunc_0_p_res_252551;
        float defunc_0_f_res_252579 = 0.0F - defunc_0_p_res_252552;
        float defunc_0_f_res_252580 = 0.0F - defunc_0_p_res_252553;
        float defunc_0_f_res_252581 = 0.0F - defunc_0_f_res_252578;
        float defunc_0_f_res_252582 = 0.0F - defunc_0_f_res_252579;
        float defunc_0_f_res_252583 = 0.0F - defunc_0_f_res_252580;
        float defunc_1_f_res_252584 = defunc_1_f_res_252575 * defunc_0_f_res_252578;
        float defunc_1_f_res_252585 = defunc_1_f_res_252576 * defunc_0_f_res_252579;
        float defunc_1_f_res_252586 = defunc_1_f_res_252577 * defunc_0_f_res_252580;
        float defunc_1_f_res_252587 = defunc_1_f_res_252585 + defunc_1_f_res_252586;
        float defunc_0_f_res_252588 = defunc_1_f_res_252584 + defunc_1_f_res_252587;
        float qMult_res_252589 = 0.0F - defunc_0_f_res_252588;
        float arg_252590 = defunc_1_f_res_252577 * defunc_0_f_res_252579;
        float arg_252591 = defunc_1_f_res_252576 * defunc_0_f_res_252580;
        float cross_res_252592 = arg_252590 - arg_252591;
        float arg_252593 = defunc_1_f_res_252575 * defunc_0_f_res_252580;
        float arg_252594 = defunc_1_f_res_252577 * defunc_0_f_res_252578;
        float cross_res_252595 = arg_252593 - arg_252594;
        float arg_252596 = defunc_1_f_res_252576 * defunc_0_f_res_252578;
        float arg_252597 = defunc_1_f_res_252575 * defunc_0_f_res_252579;
        float cross_res_252598 = arg_252596 - arg_252597;
        float defunc_0_f_res_252599 = defunc_0_p_res_252550 * defunc_1_f_res_252575;
        float defunc_0_f_res_252600 = defunc_0_p_res_252550 * defunc_1_f_res_252576;
        float defunc_0_f_res_252601 = defunc_0_p_res_252550 * defunc_1_f_res_252577;
        float defunc_1_f_res_252602 = cross_res_252592 + defunc_0_f_res_252599;
        float defunc_1_f_res_252603 = cross_res_252595 + defunc_0_f_res_252600;
        float defunc_1_f_res_252604 = cross_res_252598 + defunc_0_f_res_252601;
        float arg_252605 = defunc_0_f_res_252583 * defunc_1_f_res_252603;
        float arg_252606 = defunc_0_f_res_252582 * defunc_1_f_res_252604;
        float cross_res_252607 = arg_252605 - arg_252606;
        float arg_252608 = defunc_0_f_res_252581 * defunc_1_f_res_252604;
        float arg_252609 = defunc_0_f_res_252583 * defunc_1_f_res_252602;
        float cross_res_252610 = arg_252608 - arg_252609;
        float arg_252611 = defunc_0_f_res_252582 * defunc_1_f_res_252602;
        float arg_252612 = defunc_0_f_res_252581 * defunc_1_f_res_252603;
        float cross_res_252613 = arg_252611 - arg_252612;
        float defunc_0_f_res_252614 = defunc_0_p_res_252550 * defunc_1_f_res_252602;
        float defunc_0_f_res_252615 = defunc_0_p_res_252550 * defunc_1_f_res_252603;
        float defunc_0_f_res_252616 = defunc_0_p_res_252550 * defunc_1_f_res_252604;
        float defunc_0_f_res_252617 = defunc_0_f_res_252581 * qMult_res_252589;
        float defunc_0_f_res_252618 = defunc_0_f_res_252582 * qMult_res_252589;
        float defunc_0_f_res_252619 = defunc_0_f_res_252583 * qMult_res_252589;
        float defunc_1_f_res_252620 = defunc_0_f_res_252614 + defunc_0_f_res_252617;
        float defunc_1_f_res_252621 = defunc_0_f_res_252615 + defunc_0_f_res_252618;
        float defunc_1_f_res_252622 = defunc_0_f_res_252616 + defunc_0_f_res_252619;
        float defunc_1_f_res_252623 = cross_res_252607 + defunc_1_f_res_252620;
        float defunc_1_f_res_252624 = cross_res_252610 + defunc_1_f_res_252621;
        float defunc_1_f_res_252625 = cross_res_252613 + defunc_1_f_res_252622;
        float arg_252626 = defunc_0_p_res_252550 * dyn_translate_arg_252568;
        float defunc_1_f_res_252627 = dyn_translate_arg_252569 * defunc_0_f_res_252578;
        float defunc_1_f_res_252628 = dyn_translate_arg_252570 * defunc_0_f_res_252579;
        float defunc_1_f_res_252629 = dyn_translate_arg_252571 * defunc_0_f_res_252580;
        float defunc_1_f_res_252630 = defunc_1_f_res_252628 + defunc_1_f_res_252629;
        float defunc_0_f_res_252631 = defunc_1_f_res_252627 + defunc_1_f_res_252630;
        float qMult_res_252632 = arg_252626 - defunc_0_f_res_252631;
        float arg_252633 = dyn_translate_arg_252571 * defunc_0_f_res_252579;
        float arg_252634 = dyn_translate_arg_252570 * defunc_0_f_res_252580;
        float cross_res_252635 = arg_252633 - arg_252634;
        float arg_252636 = dyn_translate_arg_252569 * defunc_0_f_res_252580;
        float arg_252637 = dyn_translate_arg_252571 * defunc_0_f_res_252578;
        float cross_res_252638 = arg_252636 - arg_252637;
        float arg_252639 = dyn_translate_arg_252570 * defunc_0_f_res_252578;
        float arg_252640 = dyn_translate_arg_252569 * defunc_0_f_res_252579;
        float cross_res_252641 = arg_252639 - arg_252640;
        float defunc_0_f_res_252642 = dyn_translate_arg_252568 * defunc_0_f_res_252578;
        float defunc_0_f_res_252643 = dyn_translate_arg_252568 * defunc_0_f_res_252579;
        float defunc_0_f_res_252644 = dyn_translate_arg_252568 * defunc_0_f_res_252580;
        float defunc_0_f_res_252645 = defunc_0_p_res_252550 * dyn_translate_arg_252569;
        float defunc_0_f_res_252646 = defunc_0_p_res_252550 * dyn_translate_arg_252570;
        float defunc_0_f_res_252647 = defunc_0_p_res_252550 * dyn_translate_arg_252571;
        float defunc_1_f_res_252648 = defunc_0_f_res_252642 + defunc_0_f_res_252645;
        float defunc_1_f_res_252649 = defunc_0_f_res_252643 + defunc_0_f_res_252646;
        float defunc_1_f_res_252650 = defunc_0_f_res_252644 + defunc_0_f_res_252647;
        float defunc_1_f_res_252651 = cross_res_252635 + defunc_1_f_res_252648;
        float defunc_1_f_res_252652 = cross_res_252638 + defunc_1_f_res_252649;
        float defunc_1_f_res_252653 = cross_res_252641 + defunc_1_f_res_252650;
        float defunc_0_f_res_252654 = 0.0F - defunc_1_f_res_252651;
        float defunc_0_f_res_252655 = 0.0F - defunc_1_f_res_252652;
        float defunc_0_f_res_252656 = 0.0F - defunc_1_f_res_252653;
        float defunc_1_f_res_252657 = sigma_par_229403 * defunc_1_f_res_252653;
        float qMult_res_252658 = 0.0F - defunc_1_f_res_252657;
        float arg_252659 = sigma_par_229403 * defunc_1_f_res_252652;
        float arg_252660 = sigma_par_229403 * defunc_1_f_res_252651;
        float cross_res_252661 = 0.0F - arg_252660;
        float defunc_0_f_res_252662 = sigma_par_229403 * qMult_res_252632;
        float arg_252663 = defunc_0_f_res_252656 * cross_res_252661;
        float arg_252664 = defunc_0_f_res_252655 * defunc_0_f_res_252662;
        float cross_res_252665 = arg_252663 - arg_252664;
        float arg_252666 = defunc_0_f_res_252654 * defunc_0_f_res_252662;
        float arg_252667 = defunc_0_f_res_252656 * arg_252659;
        float cross_res_252668 = arg_252666 - arg_252667;
        float arg_252669 = defunc_0_f_res_252655 * arg_252659;
        float arg_252670 = defunc_0_f_res_252654 * cross_res_252661;
        float cross_res_252671 = arg_252669 - arg_252670;
        float defunc_0_f_res_252672 = qMult_res_252632 * arg_252659;
        float defunc_0_f_res_252673 = qMult_res_252632 * cross_res_252661;
        float defunc_0_f_res_252674 = qMult_res_252632 * defunc_0_f_res_252662;
        float defunc_0_f_res_252675 = defunc_0_f_res_252654 * qMult_res_252658;
        float defunc_0_f_res_252676 = defunc_0_f_res_252655 * qMult_res_252658;
        float defunc_0_f_res_252677 = defunc_0_f_res_252656 * qMult_res_252658;
        float defunc_1_f_res_252678 = defunc_0_f_res_252672 + defunc_0_f_res_252675;
        float defunc_1_f_res_252679 = defunc_0_f_res_252673 + defunc_0_f_res_252676;
        float defunc_1_f_res_252680 = defunc_0_f_res_252674 + defunc_0_f_res_252677;
        float defunc_1_f_res_252681 = cross_res_252665 + defunc_1_f_res_252678;
        float defunc_1_f_res_252682 = cross_res_252668 + defunc_1_f_res_252679;
        float defunc_1_f_res_252683 = cross_res_252671 + defunc_1_f_res_252680;
        float defunc_0_f_res_252684 = 0.0F - defunc_1_f_res_252623;
        float defunc_0_f_res_252685 = 0.0F - defunc_1_f_res_252624;
        float defunc_0_f_res_252686 = 0.0F - defunc_1_f_res_252625;
        float defunc_1_f_res_252687 = sigma_par_229403 * defunc_1_f_res_252683;
        float defunc_1_f_res_252688 = sigma_par_229403 * defunc_0_f_res_252686;
        float defunc_1_f_res_252689 = defunc_1_f_res_252681 * defunc_1_f_res_252681;
        float defunc_1_f_res_252690 = defunc_1_f_res_252682 * defunc_1_f_res_252682;
        float defunc_1_f_res_252691 = defunc_1_f_res_252683 * defunc_1_f_res_252683;
        float defunc_1_f_res_252692 = defunc_1_f_res_252690 + defunc_1_f_res_252691;
        float defunc_0_f_res_252693 = defunc_1_f_res_252689 + defunc_1_f_res_252692;
        float defunc_1_f_res_252694 = defunc_1_f_res_252681 * defunc_0_f_res_252684;
        float defunc_1_f_res_252695 = defunc_1_f_res_252682 * defunc_0_f_res_252685;
        float defunc_1_f_res_252696 = defunc_1_f_res_252683 * defunc_0_f_res_252686;
        float defunc_1_f_res_252697 = defunc_1_f_res_252695 + defunc_1_f_res_252696;
        float defunc_0_f_res_252698 = defunc_1_f_res_252694 + defunc_1_f_res_252697;
        float arg_252699 = defunc_1_f_res_248880 * defunc_0_f_res_252693;
        float arg_252700 = defunc_1_f_res_252687 * defunc_1_f_res_252687;
        float det_252701 = arg_252699 - arg_252700;
        float arg_252702 = defunc_1_f_res_252688 * defunc_0_f_res_252693;
        float arg_252703 = defunc_1_f_res_252687 * defunc_0_f_res_252698;
        float arg_252704 = arg_252702 - arg_252703;
        float i_m_252705 = arg_252704 / det_252701;
        float arg_252706 = defunc_1_f_res_248880 * defunc_0_f_res_252698;
        float arg_252707 = defunc_1_f_res_252687 * defunc_1_f_res_252688;
        float arg_252708 = arg_252706 - arg_252707;
        float j_m_252709 = arg_252708 / det_252701;
        float arg_252710 = defunc_1_f_res_252688 - defunc_1_f_res_252687;
        float i_p_252711 = arg_252710 / defunc_1_f_res_248880;
        float arg_252712 = defunc_1_f_res_252687 + defunc_1_f_res_252688;
        float i_n_252713 = arg_252712 / defunc_1_f_res_248880;
        float arg_252714 = defunc_0_f_res_252698 - defunc_1_f_res_252687;
        float j_p_252715 = arg_252714 / defunc_0_f_res_252693;
        float arg_252716 = defunc_1_f_res_252687 + defunc_0_f_res_252698;
        float j_n_252717 = arg_252716 / defunc_0_f_res_252693;
        bool cond_252718 = det_252701 == 0.0F;
        bool cond_252719 = !cond_252718;
        bool cond_252720 = -1.0F <= i_m_252705;
        bool lifted_valid_res_t_res_252721 = i_m_252705 <= 1.0F;
        bool x_252722 = cond_252720 && lifted_valid_res_t_res_252721;
        bool x_252723 = cond_252719 && x_252722;
        bool cond_252724 = -1.0F <= j_m_252709;
        bool lifted_valid_res_t_res_252725 = j_m_252709 <= 1.0F;
        bool x_252726 = cond_252724 && lifted_valid_res_t_res_252725;
        bool x_252727 = x_252723 && x_252726;
        float rodDistance_res_252728;
        
        if (x_252727 == 1) {
            float defunc_0_f_res_262385 = defunc_1_f_res_252681 * j_m_252709;
            float defunc_0_f_res_262386 = defunc_1_f_res_252682 * j_m_252709;
            float defunc_0_f_res_262387 = defunc_1_f_res_252683 * j_m_252709;
            float defunc_0_f_res_262388 = sigma_par_229403 * i_m_252705;
            float defunc_1_f_res_262389 = defunc_0_f_res_262387 + defunc_0_f_res_262388;
            float defunc_1_f_res_262390 = defunc_0_f_res_262385 - defunc_0_f_res_252684;
            float defunc_1_f_res_262391 = defunc_0_f_res_262386 - defunc_0_f_res_252685;
            float defunc_1_f_res_262392 = defunc_1_f_res_262389 - defunc_0_f_res_252686;
            float defunc_1_f_res_262393 = defunc_1_f_res_262390 * defunc_1_f_res_262390;
            float defunc_1_f_res_262394 = defunc_1_f_res_262391 * defunc_1_f_res_262391;
            float defunc_1_f_res_262395 = defunc_1_f_res_262392 * defunc_1_f_res_262392;
            float defunc_1_f_res_262396 = defunc_1_f_res_262394 + defunc_1_f_res_262395;
            float defunc_0_f_res_262397 = defunc_1_f_res_262393 + defunc_1_f_res_262396;
            float sqrt_res_262398 = futrts_sqrt32(defunc_0_f_res_262397);
            
            rodDistance_res_252728 = sqrt_res_262398;
        } else {
            float defunc_0_f_res_252743 = -1.0F * defunc_1_f_res_252681;
            float defunc_0_f_res_252744 = -1.0F * defunc_1_f_res_252682;
            float defunc_0_f_res_252745 = -1.0F * defunc_1_f_res_252683;
            float defunc_0_f_res_252746 = -1.0F * sigma_par_229403;
            float defunc_1_f_res_252747 = defunc_0_f_res_252745 + defunc_0_f_res_252746;
            float defunc_1_f_res_252748 = defunc_0_f_res_252743 - defunc_0_f_res_252684;
            float defunc_1_f_res_252749 = defunc_0_f_res_252744 - defunc_0_f_res_252685;
            float defunc_1_f_res_252750 = defunc_1_f_res_252747 - defunc_0_f_res_252686;
            float defunc_1_f_res_252751 = defunc_1_f_res_252748 * defunc_1_f_res_252748;
            float defunc_1_f_res_252752 = defunc_1_f_res_252749 * defunc_1_f_res_252749;
            float defunc_1_f_res_252753 = defunc_1_f_res_252750 * defunc_1_f_res_252750;
            float defunc_1_f_res_252754 = defunc_1_f_res_252752 + defunc_1_f_res_252753;
            float defunc_0_f_res_252755 = defunc_1_f_res_252751 + defunc_1_f_res_252754;
            float defunc_1_f_res_252756 = defunc_1_f_res_252683 + defunc_0_f_res_252746;
            float defunc_1_f_res_252757 = defunc_1_f_res_252681 - defunc_0_f_res_252684;
            float defunc_1_f_res_252758 = defunc_1_f_res_252682 - defunc_0_f_res_252685;
            float defunc_1_f_res_252759 = defunc_1_f_res_252756 - defunc_0_f_res_252686;
            float defunc_1_f_res_252760 = defunc_1_f_res_252757 * defunc_1_f_res_252757;
            float defunc_1_f_res_252761 = defunc_1_f_res_252758 * defunc_1_f_res_252758;
            float defunc_1_f_res_252762 = defunc_1_f_res_252759 * defunc_1_f_res_252759;
            float defunc_1_f_res_252763 = defunc_1_f_res_252761 + defunc_1_f_res_252762;
            float defunc_0_f_res_252764 = defunc_1_f_res_252760 + defunc_1_f_res_252763;
            float defunc_1_f_res_252765 = sigma_par_229403 + defunc_0_f_res_252745;
            float defunc_1_f_res_252766 = defunc_1_f_res_252765 - defunc_0_f_res_252686;
            float defunc_1_f_res_252767 = defunc_1_f_res_252766 * defunc_1_f_res_252766;
            float defunc_1_f_res_252768 = defunc_1_f_res_252752 + defunc_1_f_res_252767;
            float defunc_0_f_res_252769 = defunc_1_f_res_252751 + defunc_1_f_res_252768;
            float defunc_1_f_res_252770 = sigma_par_229403 + defunc_1_f_res_252683;
            float defunc_1_f_res_252771 = defunc_1_f_res_252770 - defunc_0_f_res_252686;
            float defunc_1_f_res_252772 = defunc_1_f_res_252771 * defunc_1_f_res_252771;
            float defunc_1_f_res_252773 = defunc_1_f_res_252761 + defunc_1_f_res_252772;
            float defunc_0_f_res_252774 = defunc_1_f_res_252760 + defunc_1_f_res_252773;
            bool cond_252775 = -1.0F <= j_n_252717;
            bool lifted_valid_res_t_res_252776 = j_n_252717 <= 1.0F;
            bool x_252777 = cond_252775 && lifted_valid_res_t_res_252776;
            float min_arg_252778;
            
            if (x_252777 == 1) {
                float defunc_0_f_res_262399 = defunc_1_f_res_252681 * j_n_252717;
                float defunc_0_f_res_262400 = defunc_1_f_res_252682 * j_n_252717;
                float defunc_0_f_res_262401 = defunc_1_f_res_252683 * j_n_252717;
                float defunc_1_f_res_262402 = defunc_0_f_res_252746 + defunc_0_f_res_262401;
                float defunc_1_f_res_262403 = defunc_0_f_res_262399 - defunc_0_f_res_252684;
                float defunc_1_f_res_262404 = defunc_0_f_res_262400 - defunc_0_f_res_252685;
                float defunc_1_f_res_262405 = defunc_1_f_res_262402 - defunc_0_f_res_252686;
                float defunc_1_f_res_262406 = defunc_1_f_res_262403 * defunc_1_f_res_262403;
                float defunc_1_f_res_262407 = defunc_1_f_res_262404 * defunc_1_f_res_262404;
                float defunc_1_f_res_262408 = defunc_1_f_res_262405 * defunc_1_f_res_262405;
                float defunc_1_f_res_262409 = defunc_1_f_res_262407 + defunc_1_f_res_262408;
                float defunc_0_f_res_262410 = defunc_1_f_res_262406 + defunc_1_f_res_262409;
                
                min_arg_252778 = defunc_0_f_res_262410;
            } else {
                min_arg_252778 = INFINITY;
            }
            
            bool cond_252791 = -1.0F <= j_p_252715;
            bool lifted_valid_res_t_res_252792 = j_p_252715 <= 1.0F;
            bool x_252793 = cond_252791 && lifted_valid_res_t_res_252792;
            float min_arg_252794;
            
            if (x_252793 == 1) {
                float defunc_0_f_res_262411 = defunc_1_f_res_252681 * j_p_252715;
                float defunc_0_f_res_262412 = defunc_1_f_res_252682 * j_p_252715;
                float defunc_0_f_res_262413 = defunc_1_f_res_252683 * j_p_252715;
                float defunc_1_f_res_262414 = sigma_par_229403 + defunc_0_f_res_262413;
                float defunc_1_f_res_262415 = defunc_0_f_res_262411 - defunc_0_f_res_252684;
                float defunc_1_f_res_262416 = defunc_0_f_res_262412 - defunc_0_f_res_252685;
                float defunc_1_f_res_262417 = defunc_1_f_res_262414 - defunc_0_f_res_252686;
                float defunc_1_f_res_262418 = defunc_1_f_res_262415 * defunc_1_f_res_262415;
                float defunc_1_f_res_262419 = defunc_1_f_res_262416 * defunc_1_f_res_262416;
                float defunc_1_f_res_262420 = defunc_1_f_res_262417 * defunc_1_f_res_262417;
                float defunc_1_f_res_262421 = defunc_1_f_res_262419 + defunc_1_f_res_262420;
                float defunc_0_f_res_262422 = defunc_1_f_res_262418 + defunc_1_f_res_262421;
                
                min_arg_252794 = defunc_0_f_res_262422;
            } else {
                min_arg_252794 = INFINITY;
            }
            
            bool cond_252807 = -1.0F <= i_n_252713;
            bool lifted_valid_res_t_res_252808 = i_n_252713 <= 1.0F;
            bool x_252809 = cond_252807 && lifted_valid_res_t_res_252808;
            float min_arg_252810;
            
            if (x_252809 == 1) {
                float defunc_0_f_res_262423 = sigma_par_229403 * i_n_252713;
                float defunc_1_f_res_262424 = defunc_0_f_res_252745 + defunc_0_f_res_262423;
                float defunc_1_f_res_262425 = defunc_1_f_res_262424 - defunc_0_f_res_252686;
                float defunc_1_f_res_262426 = defunc_1_f_res_262425 * defunc_1_f_res_262425;
                float defunc_1_f_res_262427 = defunc_1_f_res_252752 + defunc_1_f_res_262426;
                float defunc_0_f_res_262428 = defunc_1_f_res_252751 + defunc_1_f_res_262427;
                
                min_arg_252810 = defunc_0_f_res_262428;
            } else {
                min_arg_252810 = INFINITY;
            }
            
            bool cond_252817 = -1.0F <= i_p_252711;
            bool lifted_valid_res_t_res_252818 = i_p_252711 <= 1.0F;
            bool x_252819 = cond_252817 && lifted_valid_res_t_res_252818;
            float min_arg_252820;
            
            if (x_252819 == 1) {
                float defunc_0_f_res_262429 = sigma_par_229403 * i_p_252711;
                float defunc_1_f_res_262430 = defunc_1_f_res_252683 + defunc_0_f_res_262429;
                float defunc_1_f_res_262431 = defunc_1_f_res_262430 - defunc_0_f_res_252686;
                float defunc_1_f_res_262432 = defunc_1_f_res_262431 * defunc_1_f_res_262431;
                float defunc_1_f_res_262433 = defunc_1_f_res_252761 + defunc_1_f_res_262432;
                float defunc_0_f_res_262434 = defunc_1_f_res_252760 + defunc_1_f_res_262433;
                
                min_arg_252820 = defunc_0_f_res_262434;
            } else {
                min_arg_252820 = INFINITY;
            }
            
            float min_res_252827 = fmin32(min_arg_252810, min_arg_252820);
            float min_res_252828 = fmin32(min_arg_252794, min_res_252827);
            float min_res_252829 = fmin32(min_arg_252778, min_res_252828);
            float min_res_252830 = fmin32(defunc_0_f_res_252774, min_res_252829);
            float min_res_252831 = fmin32(defunc_0_f_res_252769, min_res_252830);
            float min_res_252832 = fmin32(defunc_0_f_res_252764, min_res_252831);
            float min_res_252833 = fmin32(defunc_0_f_res_252755, min_res_252832);
            float sqrt_res_252834 = futrts_sqrt32(min_res_252833);
            
            rodDistance_res_252728 = sqrt_res_252834;
        }
        
        bool defunc_0_f_res_252835 = rodDistance_res_252728 <= cutoffL_234838;
        bool cond_neg_252836 = !defunc_0_f_res_252835;
        int64_t defunc_1_lifted_lambda_res_252837 = btoi_bool_i64(cond_neg_252836);
        bool is_i_252838 = defunc_1_lifted_lambda_res_252837 == (int64_t) 0;
        bool cond_neg_252839 = !is_i_252838;
        int64_t part_res_252840 = btoi_bool_i64(cond_neg_252839);
        int64_t part_res_252841 = btoi_bool_i64(is_i_252838);
        int64_t zz_235012 = part_res_252841 + scanacc_271033;
        
        ((int64_t *) mem_272707)[i_271036] = zz_235012;
        ((int64_t *) mem_272710)[i_271036] = part_res_252840;
        
        int64_t scanacc_tmp_273150 = zz_235012;
        
        scanacc_271033 = scanacc_tmp_273150;
    }
    discard_271039 = scanacc_271033;
    
    int64_t last_index_235014 = conc_tmp_252059 - (int64_t) 1;
    bool is_empty_235015 = conc_tmp_252059 == (int64_t) 0;
    bool x_235016 = !is_empty_235015;
    int64_t last_offset_235017;
    
    if (x_235016 == 1) {
        int64_t x_262435 = ((int64_t *) mem_272707)[last_index_235014];
        
        last_offset_235017 = x_262435;
    } else {
        last_offset_235017 = (int64_t) 0;
    }
    
    int64_t partition_sizze_235019;
    
    if (is_empty_235015 == 1) {
        partition_sizze_235019 = (int64_t) 0;
    } else {
        partition_sizze_235019 = last_offset_235017;
    }
    if (mem_272733_cached_sizze_273256 < bytes_272732) {
        err = lexical_realloc(ctx, &mem_272733, &mem_272733_cached_sizze_273256, bytes_272732);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272736_cached_sizze_273257 < bytes_272732) {
        err = lexical_realloc(ctx, &mem_272736, &mem_272736_cached_sizze_273257, bytes_272732);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272739_cached_sizze_273258 < bytes_272732) {
        err = lexical_realloc(ctx, &mem_272739, &mem_272739_cached_sizze_273258, bytes_272732);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272742_cached_sizze_273259 < bytes_272732) {
        err = lexical_realloc(ctx, &mem_272742, &mem_272742_cached_sizze_273259, bytes_272732);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272745_cached_sizze_273260 < bytes_272732) {
        err = lexical_realloc(ctx, &mem_272745, &mem_272745_cached_sizze_273260, bytes_272732);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t write_iter_271040 = 0; write_iter_271040 < conc_tmp_252059; write_iter_271040++) {
        int64_t write_iv_271046 = ((int64_t *) mem_272710)[write_iter_271040];
        int64_t write_iv_271047 = ((int64_t *) mem_272707)[write_iter_271040];
        bool index_concat_cmp_271154 = sle64(i32_res_251631, write_iter_271040);
        int32_t index_concat_branch_271158;
        
        if (index_concat_cmp_271154 == 1) {
            int64_t index_concat_i_271155 = sub64(write_iter_271040, i32_res_251631);
            int32_t index_concat_271156 = ((int32_t *) mem_272642)[index_concat_i_271155];
            
            index_concat_branch_271158 = index_concat_271156;
        } else {
            int32_t index_concat_271157 = ((int32_t *) mem_272270)[write_iter_271040];
            
            index_concat_branch_271158 = index_concat_271157;
        }
        
        int32_t index_concat_branch_271152;
        
        if (index_concat_cmp_271154 == 1) {
            int64_t index_concat_i_271149 = sub64(write_iter_271040, i32_res_251631);
            int32_t index_concat_271150 = ((int32_t *) mem_272645)[index_concat_i_271149];
            
            index_concat_branch_271152 = index_concat_271150;
        } else {
            int32_t index_concat_271151 = ((int32_t *) mem_272273)[write_iter_271040];
            
            index_concat_branch_271152 = index_concat_271151;
        }
        
        int32_t index_concat_branch_271146;
        
        if (index_concat_cmp_271154 == 1) {
            int64_t index_concat_i_271143 = sub64(write_iter_271040, i32_res_251631);
            int32_t index_concat_271144 = ((int32_t *) mem_272648)[index_concat_i_271143];
            
            index_concat_branch_271146 = index_concat_271144;
        } else {
            index_concat_branch_271146 = 0;
        }
        
        int32_t index_concat_branch_271140;
        
        if (index_concat_cmp_271154 == 1) {
            int64_t index_concat_i_271137 = sub64(write_iter_271040, i32_res_251631);
            int32_t index_concat_271138 = ((int32_t *) mem_272651)[index_concat_i_271137];
            
            index_concat_branch_271140 = index_concat_271138;
        } else {
            index_concat_branch_271140 = 0;
        }
        
        int32_t index_concat_branch_271134;
        
        if (index_concat_cmp_271154 == 1) {
            int64_t index_concat_i_271131 = sub64(write_iter_271040, i32_res_251631);
            int32_t index_concat_271132 = ((int32_t *) mem_272654)[index_concat_i_271131];
            
            index_concat_branch_271134 = index_concat_271132;
        } else {
            index_concat_branch_271134 = 0;
        }
        
        bool is_this_one_235037 = write_iv_271046 == (int64_t) 0;
        int64_t this_offset_235038 = (int64_t) -1 + write_iv_271047;
        int64_t total_res_235039;
        
        if (is_this_one_235037 == 1) {
            total_res_235039 = this_offset_235038;
        } else {
            total_res_235039 = (int64_t) -1;
        }
        if (sle64((int64_t) 0, total_res_235039) && slt64(total_res_235039, conc_tmp_252059)) {
            ((int32_t *) mem_272733)[total_res_235039] = index_concat_branch_271158;
        }
        if (sle64((int64_t) 0, total_res_235039) && slt64(total_res_235039, conc_tmp_252059)) {
            ((int32_t *) mem_272736)[total_res_235039] = index_concat_branch_271152;
        }
        if (sle64((int64_t) 0, total_res_235039) && slt64(total_res_235039, conc_tmp_252059)) {
            ((int32_t *) mem_272739)[total_res_235039] = index_concat_branch_271146;
        }
        if (sle64((int64_t) 0, total_res_235039) && slt64(total_res_235039, conc_tmp_252059)) {
            ((int32_t *) mem_272742)[total_res_235039] = index_concat_branch_271140;
        }
        if (sle64((int64_t) 0, total_res_235039) && slt64(total_res_235039, conc_tmp_252059)) {
            ((int32_t *) mem_272745)[total_res_235039] = index_concat_branch_271134;
        }
    }
    
    bool eq_x_zz_235040 = (int64_t) 0 == last_offset_235017;
    bool p_and_eq_x_y_235041 = x_235016 && eq_x_zz_235040;
    bool empty_slice_235042 = is_empty_235015 || p_and_eq_x_y_235041;
    int64_t m_235043 = sub64(partition_sizze_235019, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_235044 = sle64((int64_t) 0, m_235043);
    bool i_p_m_t_s_leq_w_235045 = slt64(m_235043, conc_tmp_252059);
    bool i_lte_j_235046 = sle64((int64_t) 0, partition_sizze_235019);
    bool y_235047 = zzero_leq_i_p_m_t_s_235044 && i_p_m_t_s_leq_w_235045;
    bool y_235048 = i_lte_j_235046 && y_235047;
    bool ok_or_empty_235049 = empty_slice_235042 || y_235048;
    bool index_certs_235050;
    
    if (!ok_or_empty_235049) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) partition_sizze_235019, "] out of bounds for array of shape [", (long long) conc_tmp_252059, "].", "-> #0  /prelude/soacs.fut:173:6-16\n   #1  /prelude/functional.fut:9:42-44\n   #2  associations.fut:230:7-231:29\n   #3  futhark_interaction.fut:66:8-105\n   #4  futhark_interaction.fut:59:1-68:17\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (mem_272798_cached_sizze_273261 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_272798, &mem_272798_cached_sizze_273261, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273158 = 0; i_273158 < nz2085U_229401; i_273158++) {
        ((float *) mem_272798)[i_273158] = 0.0F;
    }
    if (mem_272801_cached_sizze_273262 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_272801, &mem_272801_cached_sizze_273262, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273159 = 0; i_273159 < nz2085U_229401; i_273159++) {
        ((float *) mem_272801)[i_273159] = 0.0F;
    }
    if (mem_272804_cached_sizze_273263 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_272804, &mem_272804_cached_sizze_273263, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273160 = 0; i_273160 < nz2085U_229401; i_273160++) {
        ((float *) mem_272804)[i_273160] = 0.0F;
    }
    if (mem_272807_cached_sizze_273264 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_272807, &mem_272807_cached_sizze_273264, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273161 = 0; i_273161 < nz2085U_229401; i_273161++) {
        ((float *) mem_272807)[i_273161] = 0.0F;
    }
    if (mem_272810_cached_sizze_273265 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_272810, &mem_272810_cached_sizze_273265, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273162 = 0; i_273162 < nz2085U_229401; i_273162++) {
        ((float *) mem_272810)[i_273162] = 0.0F;
    }
    if (mem_272813_cached_sizze_273266 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_272813, &mem_272813_cached_sizze_273266, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273163 = 0; i_273163 < nz2085U_229401; i_273163++) {
        ((float *) mem_272813)[i_273163] = 0.0F;
    }
    if (mem_272816_cached_sizze_273267 < bytes_271595) {
        err = lexical_realloc(ctx, &mem_272816, &mem_272816_cached_sizze_273267, bytes_271595);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273164 = 0; i_273164 < nz2085U_229401; i_273164++) {
        ((float *) mem_272816)[i_273164] = 0.0F;
    }
    
    float sigma_235063 = 1.4142135F * sigma_ort_229404;
    float lifted_sq_res_235065 = sigma_ort_229404 * sigma_ort_229404;
    float arg_235066 = defunc_1_f_res_248880 - lifted_sq_res_235065;
    float arg_235067 = lifted_sq_res_235065 + defunc_1_f_res_248880;
    float chi_235068 = arg_235066 / arg_235067;
    float arg_235069 = 0.5F * chi_235068;
    bool acc_cert_235099;
    
    for (int64_t i_271059 = 0; i_271059 < partition_sizze_235019; i_271059++) {
        int32_t x_235103 = ((int32_t *) mem_272733)[i_271059];
        int32_t x_235104 = ((int32_t *) mem_272736)[i_271059];
        int32_t x_235105 = ((int32_t *) mem_272739)[i_271059];
        int32_t x_235106 = ((int32_t *) mem_272742)[i_271059];
        int32_t x_235107 = ((int32_t *) mem_272745)[i_271059];
        int64_t i_235108 = sext_i32_i64(x_235103);
        bool x_235109 = sle64((int64_t) 0, i_235108);
        bool y_235110 = slt64(i_235108, nz2085U_229401);
        bool bounds_check_235111 = x_235109 && y_235110;
        bool index_certs_235112;
        
        if (!bounds_check_235111) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_235108, "] out of bounds for array of shape [", (long long) nz2085U_229401, "].", "-> #0  associations.fut:198:18-31\n   #1  associations.fut:203:21-208:24\n   #2  /prelude/functional.fut:9:42-44\n   #3  associations.fut:230:7-232:54\n   #4  futhark_interaction.fut:66:8-105\n   #5  futhark_interaction.fut:59:1-68:17\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        float defunc_1_f_res_235113 = ((float *) mem_271690)[i_235108];
        float defunc_1_f_res_235114 = ((float *) mem_271693)[i_235108];
        float defunc_1_f_res_235115 = ((float *) mem_271696)[i_235108];
        float defunc_1_f_res_235116 = ((float *) mem_271605)[i_235108];
        float defunc_1_f_res_235117 = ((float *) mem_271608)[i_235108];
        float defunc_1_f_res_235118 = ((float *) mem_271611)[i_235108];
        float defunc_1_f_res_235119 = ((float *) mem_271614)[i_235108];
        float defunc_0_f_res_235120 = sitofp_i32_f32(x_235105);
        float defunc_0_f_res_235121 = sitofp_i32_f32(x_235106);
        float defunc_0_f_res_235122 = sitofp_i32_f32(x_235107);
        float defunc_1_f_res_248459 = defunc_0_f_res_235120 * defunc_1_f_res_248856;
        float defunc_1_f_res_248469 = defunc_0_f_res_235121 * defunc_1_f_res_248857;
        float defunc_1_f_res_248479 = defunc_0_f_res_235122 * defunc_1_f_res_248858;
        int64_t j_235138 = sext_i32_i64(x_235104);
        bool x_235139 = sle64((int64_t) 0, j_235138);
        bool y_235140 = slt64(j_235138, nz2085U_229401);
        bool bounds_check_235141 = x_235139 && y_235140;
        bool index_certs_235142;
        
        if (!bounds_check_235141) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_235138, "] out of bounds for array of shape [", (long long) nz2085U_229401, "].", "-> #0  associations.fut:199:69-82\n   #1  associations.fut:203:21-208:24\n   #2  /prelude/functional.fut:9:42-44\n   #3  associations.fut:230:7-232:54\n   #4  futhark_interaction.fut:66:8-105\n   #5  futhark_interaction.fut:59:1-68:17\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        float dyn_translate_arg_235143 = ((float *) mem_271690)[j_235138];
        float dyn_translate_arg_235144 = ((float *) mem_271693)[j_235138];
        float dyn_translate_arg_235145 = ((float *) mem_271696)[j_235138];
        float dyn_translate_arg_235146 = ((float *) mem_271605)[j_235138];
        float dyn_translate_arg_235147 = ((float *) mem_271608)[j_235138];
        float dyn_translate_arg_235148 = ((float *) mem_271611)[j_235138];
        float dyn_translate_arg_235149 = ((float *) mem_271614)[j_235138];
        float defunc_1_f_res_248486 = dyn_translate_arg_235143 + defunc_1_f_res_248459;
        float defunc_1_f_res_248487 = dyn_translate_arg_235144 + defunc_1_f_res_248469;
        float defunc_1_f_res_248488 = dyn_translate_arg_235145 + defunc_1_f_res_248479;
        float defunc_1_f_res_252328 = defunc_1_f_res_248486 - defunc_1_f_res_235113;
        float defunc_1_f_res_252329 = defunc_1_f_res_248487 - defunc_1_f_res_235114;
        float defunc_1_f_res_252330 = defunc_1_f_res_248488 - defunc_1_f_res_235115;
        float defunc_0_f_res_252331 = 0.0F - defunc_1_f_res_235117;
        float defunc_0_f_res_252332 = 0.0F - defunc_1_f_res_235118;
        float defunc_0_f_res_252333 = 0.0F - defunc_1_f_res_235119;
        float defunc_0_f_res_252334 = 0.0F - defunc_0_f_res_252331;
        float defunc_0_f_res_252335 = 0.0F - defunc_0_f_res_252332;
        float defunc_0_f_res_252336 = 0.0F - defunc_0_f_res_252333;
        float defunc_1_f_res_252337 = defunc_1_f_res_252328 * defunc_0_f_res_252331;
        float defunc_1_f_res_252338 = defunc_1_f_res_252329 * defunc_0_f_res_252332;
        float defunc_1_f_res_252339 = defunc_1_f_res_252330 * defunc_0_f_res_252333;
        float defunc_1_f_res_252340 = defunc_1_f_res_252338 + defunc_1_f_res_252339;
        float defunc_0_f_res_252341 = defunc_1_f_res_252337 + defunc_1_f_res_252340;
        float qMult_res_252342 = 0.0F - defunc_0_f_res_252341;
        float arg_252343 = defunc_1_f_res_252330 * defunc_0_f_res_252332;
        float arg_252344 = defunc_1_f_res_252329 * defunc_0_f_res_252333;
        float cross_res_252345 = arg_252343 - arg_252344;
        float arg_252346 = defunc_1_f_res_252328 * defunc_0_f_res_252333;
        float arg_252347 = defunc_1_f_res_252330 * defunc_0_f_res_252331;
        float cross_res_252348 = arg_252346 - arg_252347;
        float arg_252349 = defunc_1_f_res_252329 * defunc_0_f_res_252331;
        float arg_252350 = defunc_1_f_res_252328 * defunc_0_f_res_252332;
        float cross_res_252351 = arg_252349 - arg_252350;
        float defunc_0_f_res_252352 = defunc_1_f_res_235116 * defunc_1_f_res_252328;
        float defunc_0_f_res_252353 = defunc_1_f_res_235116 * defunc_1_f_res_252329;
        float defunc_0_f_res_252354 = defunc_1_f_res_235116 * defunc_1_f_res_252330;
        float defunc_1_f_res_252355 = cross_res_252345 + defunc_0_f_res_252352;
        float defunc_1_f_res_252356 = cross_res_252348 + defunc_0_f_res_252353;
        float defunc_1_f_res_252357 = cross_res_252351 + defunc_0_f_res_252354;
        float arg_252358 = defunc_0_f_res_252336 * defunc_1_f_res_252356;
        float arg_252359 = defunc_0_f_res_252335 * defunc_1_f_res_252357;
        float cross_res_252360 = arg_252358 - arg_252359;
        float arg_252361 = defunc_0_f_res_252334 * defunc_1_f_res_252357;
        float arg_252362 = defunc_0_f_res_252336 * defunc_1_f_res_252355;
        float cross_res_252363 = arg_252361 - arg_252362;
        float arg_252364 = defunc_0_f_res_252335 * defunc_1_f_res_252355;
        float arg_252365 = defunc_0_f_res_252334 * defunc_1_f_res_252356;
        float cross_res_252366 = arg_252364 - arg_252365;
        float defunc_0_f_res_252367 = defunc_1_f_res_235116 * defunc_1_f_res_252355;
        float defunc_0_f_res_252368 = defunc_1_f_res_235116 * defunc_1_f_res_252356;
        float defunc_0_f_res_252369 = defunc_1_f_res_235116 * defunc_1_f_res_252357;
        float defunc_0_f_res_252370 = defunc_0_f_res_252334 * qMult_res_252342;
        float defunc_0_f_res_252371 = defunc_0_f_res_252335 * qMult_res_252342;
        float defunc_0_f_res_252372 = defunc_0_f_res_252336 * qMult_res_252342;
        float defunc_1_f_res_252373 = defunc_0_f_res_252367 + defunc_0_f_res_252370;
        float defunc_1_f_res_252374 = defunc_0_f_res_252368 + defunc_0_f_res_252371;
        float defunc_1_f_res_252375 = defunc_0_f_res_252369 + defunc_0_f_res_252372;
        float defunc_1_f_res_252376 = cross_res_252360 + defunc_1_f_res_252373;
        float defunc_1_f_res_252377 = cross_res_252363 + defunc_1_f_res_252374;
        float defunc_1_f_res_252378 = cross_res_252366 + defunc_1_f_res_252375;
        float arg_252379 = defunc_1_f_res_235116 * dyn_translate_arg_235146;
        float defunc_1_f_res_252380 = dyn_translate_arg_235147 * defunc_0_f_res_252331;
        float defunc_1_f_res_252381 = dyn_translate_arg_235148 * defunc_0_f_res_252332;
        float defunc_1_f_res_252382 = dyn_translate_arg_235149 * defunc_0_f_res_252333;
        float defunc_1_f_res_252383 = defunc_1_f_res_252381 + defunc_1_f_res_252382;
        float defunc_0_f_res_252384 = defunc_1_f_res_252380 + defunc_1_f_res_252383;
        float qMult_res_252385 = arg_252379 - defunc_0_f_res_252384;
        float arg_252386 = dyn_translate_arg_235149 * defunc_0_f_res_252332;
        float arg_252387 = dyn_translate_arg_235148 * defunc_0_f_res_252333;
        float cross_res_252388 = arg_252386 - arg_252387;
        float arg_252389 = dyn_translate_arg_235147 * defunc_0_f_res_252333;
        float arg_252390 = dyn_translate_arg_235149 * defunc_0_f_res_252331;
        float cross_res_252391 = arg_252389 - arg_252390;
        float arg_252392 = dyn_translate_arg_235148 * defunc_0_f_res_252331;
        float arg_252393 = dyn_translate_arg_235147 * defunc_0_f_res_252332;
        float cross_res_252394 = arg_252392 - arg_252393;
        float defunc_0_f_res_252395 = dyn_translate_arg_235146 * defunc_0_f_res_252331;
        float defunc_0_f_res_252396 = dyn_translate_arg_235146 * defunc_0_f_res_252332;
        float defunc_0_f_res_252397 = dyn_translate_arg_235146 * defunc_0_f_res_252333;
        float defunc_0_f_res_252398 = defunc_1_f_res_235116 * dyn_translate_arg_235147;
        float defunc_0_f_res_252399 = defunc_1_f_res_235116 * dyn_translate_arg_235148;
        float defunc_0_f_res_252400 = defunc_1_f_res_235116 * dyn_translate_arg_235149;
        float defunc_1_f_res_252401 = defunc_0_f_res_252395 + defunc_0_f_res_252398;
        float defunc_1_f_res_252402 = defunc_0_f_res_252396 + defunc_0_f_res_252399;
        float defunc_1_f_res_252403 = defunc_0_f_res_252397 + defunc_0_f_res_252400;
        float defunc_1_f_res_252404 = cross_res_252388 + defunc_1_f_res_252401;
        float defunc_1_f_res_252405 = cross_res_252391 + defunc_1_f_res_252402;
        float defunc_1_f_res_252406 = cross_res_252394 + defunc_1_f_res_252403;
        float defunc_1_f_res_252120 = defunc_1_f_res_252376 * defunc_1_f_res_252376;
        float defunc_1_f_res_252121 = defunc_1_f_res_252377 * defunc_1_f_res_252377;
        float defunc_1_f_res_252122 = defunc_1_f_res_252378 * defunc_1_f_res_252378;
        float defunc_1_f_res_252123 = defunc_1_f_res_252121 + defunc_1_f_res_252122;
        float defunc_0_f_res_252124 = defunc_1_f_res_252120 + defunc_1_f_res_252123;
        float sqrt_res_252125 = futrts_sqrt32(defunc_0_f_res_252124);
        float v3scale_arg_252126 = 1.0F / sqrt_res_252125;
        float defunc_0_f_res_252127 = v3scale_arg_252126 * defunc_1_f_res_252376;
        float defunc_0_f_res_252128 = v3scale_arg_252126 * defunc_1_f_res_252377;
        float defunc_0_f_res_252129 = v3scale_arg_252126 * defunc_1_f_res_252378;
        float defunc_0_f_res_252137 = 0.0F - defunc_1_f_res_252404;
        float defunc_0_f_res_252138 = 0.0F - defunc_1_f_res_252405;
        float defunc_0_f_res_252139 = 0.0F - defunc_1_f_res_252406;
        float arg_252161 = defunc_0_f_res_252137 * defunc_0_f_res_252139;
        float arg_252162 = defunc_0_f_res_252138 * qMult_res_252385;
        float cross_res_252163 = arg_252161 - arg_252162;
        float arg_252164 = defunc_0_f_res_252137 * qMult_res_252385;
        float arg_252165 = defunc_0_f_res_252139 * defunc_1_f_res_252405;
        float cross_res_252166 = arg_252164 - arg_252165;
        float arg_252167 = defunc_0_f_res_252138 * defunc_1_f_res_252405;
        float arg_252168 = defunc_0_f_res_252137 * defunc_0_f_res_252137;
        float cross_res_252169 = arg_252167 - arg_252168;
        float defunc_0_f_res_252170 = qMult_res_252385 * defunc_1_f_res_252405;
        float defunc_0_f_res_252172 = qMult_res_252385 * qMult_res_252385;
        float defunc_0_f_res_252174 = defunc_0_f_res_252138 * defunc_0_f_res_252139;
        float defunc_0_f_res_252175 = defunc_0_f_res_252139 * defunc_0_f_res_252139;
        float defunc_1_f_res_252176 = arg_252161 + defunc_0_f_res_252170;
        float defunc_1_f_res_252177 = arg_252164 + defunc_0_f_res_252174;
        float defunc_1_f_res_252178 = defunc_0_f_res_252172 + defunc_0_f_res_252175;
        float defunc_1_f_res_252179 = cross_res_252163 + defunc_1_f_res_252176;
        float defunc_1_f_res_252180 = cross_res_252166 + defunc_1_f_res_252177;
        float defunc_1_f_res_252181 = cross_res_252169 + defunc_1_f_res_252178;
        float lifted_sq_arg_235182 = chi_235068 * defunc_1_f_res_252181;
        float lifted_sq_res_235183 = lifted_sq_arg_235182 * lifted_sq_arg_235182;
        float sqrt_arg_235184 = 1.0F - lifted_sq_res_235183;
        float sqrt_res_235185 = futrts_sqrt32(sqrt_arg_235184);
        float epsilonzq_235186 = epsilon_229402 / sqrt_res_235185;
        float defunc_1_f_res_248973 = defunc_0_f_res_252127 * defunc_1_f_res_252179;
        float defunc_1_f_res_248974 = defunc_0_f_res_252128 * defunc_1_f_res_252180;
        float defunc_1_f_res_248975 = defunc_0_f_res_252129 * defunc_1_f_res_252181;
        float defunc_1_f_res_248976 = defunc_1_f_res_248974 + defunc_1_f_res_248975;
        float defunc_0_f_res_248977 = defunc_1_f_res_248973 + defunc_1_f_res_248976;
        float lifted_sq_arg_235189 = defunc_0_f_res_248977 + defunc_0_f_res_252129;
        float lifted_sq_res_235190 = lifted_sq_arg_235189 * lifted_sq_arg_235189;
        float arg_235191 = 1.0F + lifted_sq_arg_235182;
        float arg_235192 = lifted_sq_res_235190 / arg_235191;
        float lifted_sq_arg_235193 = defunc_0_f_res_252129 - defunc_0_f_res_248977;
        float lifted_sq_res_235194 = lifted_sq_arg_235193 * lifted_sq_arg_235193;
        float arg_235195 = 1.0F - lifted_sq_arg_235182;
        float arg_235196 = lifted_sq_res_235194 / arg_235195;
        float arg_235197 = arg_235192 + arg_235196;
        float arg_235198 = arg_235069 * arg_235197;
        float sqrt_arg_235199 = 1.0F - arg_235198;
        float sqrt_res_235200 = futrts_sqrt32(sqrt_arg_235199);
        float sigmazq_235201 = sigma_235063 / sqrt_res_235200;
        float arg_235203 = 0.0F - defunc_0_f_res_252124;
        float lifted_sq_res_235204 = sigmazq_235201 * sigmazq_235201;
        float exp_arg_235205 = arg_235203 / lifted_sq_res_235204;
        float exp_res_235206 = futrts_exp32(exp_arg_235205);
        float defunc_0_f_res_235207 = epsilonzq_235186 * exp_res_235206;
        float binop_y_258291 = 1.0F / lifted_sq_res_235204;
        float binop_x_adj_258292 = defunc_0_f_res_235207 * binop_y_258291;
        float binop_y_258293 = lifted_sq_res_235204 * lifted_sq_res_235204;
        float binop_y_258294 = arg_235203 / binop_y_258293;
        float binop_y_258295 = 0.0F - binop_y_258294;
        float binop_y_adj_258296 = defunc_0_f_res_235207 * binop_y_258295;
        float binop_x_adj_258297 = sigmazq_235201 * binop_y_adj_258296;
        float sigmazq_adj_258299 = binop_x_adj_258297 + binop_x_adj_258297;
        float binop_y_adj_258301 = -1.0F * binop_x_adj_258292;
        float binop_y_258304 = sqrt_res_235200 * sqrt_res_235200;
        float binop_y_258305 = sigma_235063 / binop_y_258304;
        float binop_y_258306 = 0.0F - binop_y_258305;
        float binop_y_adj_258307 = sigmazq_adj_258299 * binop_y_258306;
        float binop_y_258308 = fpow32(sqrt_arg_235199, 0.5F);
        float binop_y_258309 = 2.0F * binop_y_258308;
        float binop_y_258310 = 1.0F / binop_y_258309;
        float contrib_258311 = binop_y_adj_258307 * binop_y_258310;
        float binop_y_adj_258313 = -1.0F * contrib_258311;
        float binop_y_adj_258315 = arg_235069 * binop_y_adj_258313;
        float binop_y_258318 = 1.0F / arg_235195;
        float binop_x_adj_258319 = binop_y_adj_258315 * binop_y_258318;
        float binop_y_258320 = arg_235195 * arg_235195;
        float binop_y_258321 = lifted_sq_res_235194 / binop_y_258320;
        float binop_y_258322 = 0.0F - binop_y_258321;
        float binop_y_adj_258323 = binop_y_adj_258315 * binop_y_258322;
        float binop_y_adj_258325 = -1.0F * binop_y_adj_258323;
        float binop_x_adj_258326 = lifted_sq_arg_235193 * binop_x_adj_258319;
        float lifted_sq_arg_adj_258328 = binop_x_adj_258326 + binop_x_adj_258326;
        float binop_y_adj_258330 = -1.0F * lifted_sq_arg_adj_258328;
        float binop_y_258331 = 1.0F / arg_235191;
        float binop_x_adj_258332 = binop_y_adj_258315 * binop_y_258331;
        float binop_y_258333 = arg_235191 * arg_235191;
        float binop_y_258334 = lifted_sq_res_235190 / binop_y_258333;
        float binop_y_258335 = 0.0F - binop_y_258334;
        float binop_y_adj_258336 = binop_y_adj_258315 * binop_y_258335;
        float lifted_sq_arg_adj_258339 = binop_y_adj_258325 + binop_y_adj_258336;
        float binop_x_adj_258340 = lifted_sq_arg_235189 * binop_x_adj_258332;
        float lifted_sq_arg_adj_258342 = binop_x_adj_258340 + binop_x_adj_258340;
        float defunc_0_f_res_adj_258345 = binop_y_adj_258330 + lifted_sq_arg_adj_258342;
        float defunc_0_f_res_adj_258346 = lifted_sq_arg_adj_258328 + lifted_sq_arg_adj_258342;
        float binop_x_adj_258351 = defunc_1_f_res_252181 * defunc_0_f_res_adj_258345;
        float binop_y_adj_258352 = defunc_0_f_res_252129 * defunc_0_f_res_adj_258345;
        float defunc_0_f_res_adj_258353 = defunc_0_f_res_adj_258346 + binop_x_adj_258351;
        float binop_x_adj_258354 = defunc_1_f_res_252180 * defunc_0_f_res_adj_258345;
        float binop_y_adj_258355 = defunc_0_f_res_252128 * defunc_0_f_res_adj_258345;
        float binop_x_adj_258356 = defunc_1_f_res_252179 * defunc_0_f_res_adj_258345;
        float binop_y_adj_258357 = defunc_0_f_res_252127 * defunc_0_f_res_adj_258345;
        float binop_y_258360 = sqrt_res_235185 * sqrt_res_235185;
        float binop_y_258361 = epsilon_229402 / binop_y_258360;
        float binop_y_258362 = 0.0F - binop_y_258361;
        float binop_y_adj_258363 = exp_res_235206 * binop_y_258362;
        float binop_y_258364 = fpow32(sqrt_arg_235184, 0.5F);
        float binop_y_258365 = 2.0F * binop_y_258364;
        float binop_y_258366 = 1.0F / binop_y_258365;
        float contrib_258367 = binop_y_adj_258363 * binop_y_258366;
        float binop_y_adj_258369 = -1.0F * contrib_258367;
        float binop_x_adj_258370 = lifted_sq_arg_235182 * binop_y_adj_258369;
        float lifted_sq_arg_adj_258372 = lifted_sq_arg_adj_258339 + binop_x_adj_258370;
        float lifted_sq_arg_adj_258373 = binop_x_adj_258370 + lifted_sq_arg_adj_258372;
        float binop_y_adj_258375 = chi_235068 * lifted_sq_arg_adj_258373;
        float defunc_1_f_res_adj_258376 = binop_y_adj_258352 + binop_y_adj_258375;
        float binop_x_adj_258389 = defunc_0_f_res_252139 * defunc_1_f_res_adj_258376;
        float defunc_0_f_res_adj_258391 = binop_x_adj_258389 + binop_x_adj_258389;
        float binop_x_adj_258392 = defunc_0_f_res_252139 * binop_y_adj_258355;
        float binop_y_adj_258393 = defunc_0_f_res_252138 * binop_y_adj_258355;
        float defunc_0_f_res_adj_258394 = defunc_0_f_res_adj_258391 + binop_y_adj_258393;
        float binop_x_adj_258395 = qMult_res_252385 * defunc_1_f_res_adj_258376;
        float x_adj_258397 = binop_x_adj_258395 + binop_x_adj_258395;
        float binop_x_adj_258398 = defunc_1_f_res_252405 * binop_y_adj_258357;
        float binop_y_adj_258399 = qMult_res_252385 * binop_y_adj_258357;
        float x_adj_258400 = x_adj_258397 + binop_x_adj_258398;
        float binop_y_adj_258402 = -1.0F * defunc_1_f_res_adj_258376;
        float binop_x_adj_258403 = defunc_0_f_res_252137 * binop_y_adj_258402;
        float defunc_0_f_res_adj_258405 = binop_x_adj_258403 + binop_x_adj_258403;
        float binop_x_adj_258406 = defunc_0_f_res_252138 * defunc_1_f_res_adj_258376;
        float binop_y_adj_258407 = defunc_1_f_res_252405 * defunc_1_f_res_adj_258376;
        float x_adj_258408 = binop_y_adj_258399 + binop_x_adj_258406;
        float defunc_0_f_res_adj_258409 = binop_x_adj_258392 + binop_y_adj_258407;
        float binop_y_adj_258411 = -1.0F * binop_y_adj_258355;
        float arg_adj_258412 = binop_y_adj_258355 + binop_y_adj_258355;
        float binop_x_adj_258413 = defunc_0_f_res_252139 * binop_y_adj_258411;
        float binop_y_adj_258414 = defunc_1_f_res_252405 * binop_y_adj_258411;
        float x_adj_258415 = x_adj_258408 + binop_x_adj_258413;
        float defunc_0_f_res_adj_258416 = defunc_0_f_res_adj_258394 + binop_y_adj_258414;
        float binop_x_adj_258417 = defunc_0_f_res_252137 * arg_adj_258412;
        float binop_y_adj_258418 = qMult_res_252385 * arg_adj_258412;
        float x_adj_258419 = x_adj_258400 + binop_x_adj_258417;
        float defunc_0_f_res_adj_258420 = defunc_0_f_res_adj_258405 + binop_y_adj_258418;
        float binop_y_adj_258422 = -1.0F * binop_y_adj_258357;
        float arg_adj_258423 = binop_y_adj_258357 + binop_y_adj_258357;
        float binop_x_adj_258424 = defunc_0_f_res_252138 * binop_y_adj_258422;
        float binop_y_adj_258425 = qMult_res_252385 * binop_y_adj_258422;
        float x_adj_258426 = x_adj_258419 + binop_x_adj_258424;
        float defunc_0_f_res_adj_258427 = defunc_0_f_res_adj_258409 + binop_y_adj_258425;
        float binop_x_adj_258428 = defunc_0_f_res_252139 * arg_adj_258423;
        float binop_y_adj_258429 = defunc_0_f_res_252137 * arg_adj_258423;
        float defunc_0_f_res_adj_258430 = defunc_0_f_res_adj_258420 + binop_x_adj_258428;
        float defunc_0_f_res_adj_258431 = defunc_0_f_res_adj_258416 + binop_y_adj_258429;
        float binop_y_adj_258433 = -1.0F * defunc_0_f_res_adj_258431;
        float binop_y_adj_258435 = -1.0F * defunc_0_f_res_adj_258427;
        float x_adj_258436 = x_adj_258415 + binop_y_adj_258435;
        float binop_y_adj_258438 = -1.0F * defunc_0_f_res_adj_258430;
        float binop_x_adj_258439 = v3scale_arg_252126 * defunc_0_f_res_adj_258353;
        float binop_y_adj_258440 = defunc_1_f_res_252378 * defunc_0_f_res_adj_258353;
        float binop_x_adj_258441 = v3scale_arg_252126 * binop_x_adj_258354;
        float binop_y_adj_258442 = defunc_1_f_res_252377 * binop_x_adj_258354;
        float v3scale_arg_adj_258443 = binop_y_adj_258440 + binop_y_adj_258442;
        float binop_x_adj_258444 = v3scale_arg_252126 * binop_x_adj_258356;
        float binop_y_adj_258445 = defunc_1_f_res_252376 * binop_x_adj_258356;
        float v3scale_arg_adj_258446 = v3scale_arg_adj_258443 + binop_y_adj_258445;
        float binop_y_258449 = sqrt_res_252125 * sqrt_res_252125;
        float binop_y_258450 = 1.0F / binop_y_258449;
        float binop_y_258451 = 0.0F - binop_y_258450;
        float binop_y_adj_258452 = v3scale_arg_adj_258446 * binop_y_258451;
        float binop_y_258453 = fpow32(defunc_0_f_res_252124, 0.5F);
        float binop_y_258454 = 2.0F * binop_y_258453;
        float binop_y_258455 = 1.0F / binop_y_258454;
        float contrib_258456 = binop_y_adj_258452 * binop_y_258455;
        float defunc_0_f_res_adj_258457 = binop_y_adj_258301 + contrib_258456;
        float binop_x_adj_258462 = defunc_1_f_res_252378 * defunc_0_f_res_adj_258457;
        float x_adj_258464 = binop_x_adj_258439 + binop_x_adj_258462;
        float x_adj_258465 = binop_x_adj_258462 + x_adj_258464;
        float binop_x_adj_258466 = defunc_1_f_res_252377 * defunc_0_f_res_adj_258457;
        float x_adj_258468 = binop_x_adj_258441 + binop_x_adj_258466;
        float x_adj_258469 = binop_x_adj_258466 + x_adj_258468;
        float binop_x_adj_258470 = defunc_1_f_res_252376 * defunc_0_f_res_adj_258457;
        float x_adj_258472 = binop_x_adj_258444 + binop_x_adj_258470;
        float x_adj_258473 = binop_x_adj_258470 + x_adj_258472;
        float defunc_1_f_res_249009 = defunc_0_f_res_252137 * x_adj_258426;
        float defunc_1_f_res_249010 = qMult_res_252385 * binop_y_adj_258438;
        float defunc_1_f_res_249011 = defunc_0_f_res_252139 * x_adj_258436;
        float defunc_1_f_res_249012 = defunc_1_f_res_252405 * binop_y_adj_258433;
        float defunc_1_f_res_249013 = defunc_1_f_res_249011 + defunc_1_f_res_249012;
        float defunc_0_f_res_249014 = defunc_1_f_res_249010 + defunc_1_f_res_249013;
        float defunc_0_f_res_249015 = defunc_1_f_res_249009 + defunc_0_f_res_249014;
        float defunc_1_f_res_249016 = defunc_0_f_res_252138 * x_adj_258426;
        float defunc_1_f_res_249017 = defunc_1_f_res_252406 * binop_y_adj_258438;
        float defunc_1_f_res_249018 = qMult_res_252385 * x_adj_258436;
        float defunc_1_f_res_249019 = defunc_0_f_res_252137 * binop_y_adj_258433;
        float defunc_1_f_res_249020 = defunc_1_f_res_249018 + defunc_1_f_res_249019;
        float defunc_0_f_res_249021 = defunc_1_f_res_249017 + defunc_1_f_res_249020;
        float defunc_0_f_res_249022 = defunc_1_f_res_249016 + defunc_0_f_res_249021;
        float defunc_1_f_res_249023 = defunc_0_f_res_252139 * x_adj_258426;
        float defunc_1_f_res_249024 = defunc_0_f_res_252138 * binop_y_adj_258438;
        float defunc_1_f_res_249025 = defunc_1_f_res_252404 * x_adj_258436;
        float defunc_1_f_res_249026 = qMult_res_252385 * binop_y_adj_258433;
        float defunc_1_f_res_249027 = defunc_1_f_res_249025 + defunc_1_f_res_249026;
        float defunc_0_f_res_249028 = defunc_1_f_res_249024 + defunc_1_f_res_249027;
        float defunc_0_f_res_249029 = defunc_1_f_res_249023 + defunc_0_f_res_249028;
        float defunc_0_f_res_249030 = -0.5F * defunc_0_f_res_249015;
        float defunc_0_f_res_249031 = -0.5F * defunc_0_f_res_249022;
        float defunc_0_f_res_249032 = -0.5F * defunc_0_f_res_249029;
        float arg_249033 = defunc_1_f_res_252377 * x_adj_258465;
        float arg_249034 = defunc_1_f_res_252378 * x_adj_258469;
        float cross_res_249035 = arg_249033 - arg_249034;
        float arg_249036 = defunc_1_f_res_252378 * x_adj_258473;
        float arg_249037 = defunc_1_f_res_252376 * x_adj_258465;
        float cross_res_249038 = arg_249036 - arg_249037;
        float arg_249039 = defunc_1_f_res_252376 * x_adj_258469;
        float arg_249040 = defunc_1_f_res_252377 * x_adj_258473;
        float cross_res_249041 = arg_249039 - arg_249040;
        float defunc_1_f_res_249042 = cross_res_249035 - defunc_0_f_res_249030;
        float defunc_1_f_res_249043 = cross_res_249038 - defunc_0_f_res_249031;
        float defunc_1_f_res_249044 = cross_res_249041 - defunc_0_f_res_249032;
        float defunc_1_f_res_252430 = defunc_1_f_res_235117 * x_adj_258473;
        float defunc_1_f_res_252431 = defunc_1_f_res_235118 * x_adj_258469;
        float defunc_1_f_res_252432 = defunc_1_f_res_235119 * x_adj_258465;
        float defunc_1_f_res_252433 = defunc_1_f_res_252431 + defunc_1_f_res_252432;
        float defunc_0_f_res_252434 = defunc_1_f_res_252430 + defunc_1_f_res_252433;
        float qMult_res_252435 = 0.0F - defunc_0_f_res_252434;
        float arg_252436 = defunc_1_f_res_235118 * x_adj_258465;
        float arg_252437 = defunc_1_f_res_235119 * x_adj_258469;
        float cross_res_252438 = arg_252436 - arg_252437;
        float arg_252439 = defunc_1_f_res_235119 * x_adj_258473;
        float arg_252440 = defunc_1_f_res_235117 * x_adj_258465;
        float cross_res_252441 = arg_252439 - arg_252440;
        float arg_252442 = defunc_1_f_res_235117 * x_adj_258469;
        float arg_252443 = defunc_1_f_res_235118 * x_adj_258473;
        float cross_res_252444 = arg_252442 - arg_252443;
        float defunc_0_f_res_252445 = defunc_1_f_res_235116 * x_adj_258473;
        float defunc_0_f_res_252446 = defunc_1_f_res_235116 * x_adj_258469;
        float defunc_0_f_res_252447 = defunc_1_f_res_235116 * x_adj_258465;
        float defunc_1_f_res_252448 = cross_res_252438 + defunc_0_f_res_252445;
        float defunc_1_f_res_252449 = cross_res_252441 + defunc_0_f_res_252446;
        float defunc_1_f_res_252450 = cross_res_252444 + defunc_0_f_res_252447;
        float arg_252451 = defunc_0_f_res_252333 * defunc_1_f_res_252449;
        float arg_252452 = defunc_0_f_res_252332 * defunc_1_f_res_252450;
        float cross_res_252453 = arg_252451 - arg_252452;
        float arg_252454 = defunc_0_f_res_252331 * defunc_1_f_res_252450;
        float arg_252455 = defunc_0_f_res_252333 * defunc_1_f_res_252448;
        float cross_res_252456 = arg_252454 - arg_252455;
        float arg_252457 = defunc_0_f_res_252332 * defunc_1_f_res_252448;
        float arg_252458 = defunc_0_f_res_252331 * defunc_1_f_res_252449;
        float cross_res_252459 = arg_252457 - arg_252458;
        float defunc_0_f_res_252460 = defunc_1_f_res_235116 * defunc_1_f_res_252448;
        float defunc_0_f_res_252461 = defunc_1_f_res_235116 * defunc_1_f_res_252449;
        float defunc_0_f_res_252462 = defunc_1_f_res_235116 * defunc_1_f_res_252450;
        float defunc_0_f_res_252463 = defunc_0_f_res_252331 * qMult_res_252435;
        float defunc_0_f_res_252464 = defunc_0_f_res_252332 * qMult_res_252435;
        float defunc_0_f_res_252465 = defunc_0_f_res_252333 * qMult_res_252435;
        float defunc_1_f_res_252466 = defunc_0_f_res_252460 + defunc_0_f_res_252463;
        float defunc_1_f_res_252467 = defunc_0_f_res_252461 + defunc_0_f_res_252464;
        float defunc_1_f_res_252468 = defunc_0_f_res_252462 + defunc_0_f_res_252465;
        float defunc_1_f_res_252469 = cross_res_252453 + defunc_1_f_res_252466;
        float defunc_1_f_res_252470 = cross_res_252456 + defunc_1_f_res_252467;
        float defunc_1_f_res_252471 = cross_res_252459 + defunc_1_f_res_252468;
        float defunc_1_f_res_252475 = defunc_1_f_res_235117 * defunc_1_f_res_249042;
        float defunc_1_f_res_252476 = defunc_1_f_res_235118 * defunc_1_f_res_249043;
        float defunc_1_f_res_252477 = defunc_1_f_res_235119 * defunc_1_f_res_249044;
        float defunc_1_f_res_252478 = defunc_1_f_res_252476 + defunc_1_f_res_252477;
        float defunc_0_f_res_252479 = defunc_1_f_res_252475 + defunc_1_f_res_252478;
        float qMult_res_252480 = 0.0F - defunc_0_f_res_252479;
        float arg_252481 = defunc_1_f_res_235118 * defunc_1_f_res_249044;
        float arg_252482 = defunc_1_f_res_235119 * defunc_1_f_res_249043;
        float cross_res_252483 = arg_252481 - arg_252482;
        float arg_252484 = defunc_1_f_res_235119 * defunc_1_f_res_249042;
        float arg_252485 = defunc_1_f_res_235117 * defunc_1_f_res_249044;
        float cross_res_252486 = arg_252484 - arg_252485;
        float arg_252487 = defunc_1_f_res_235117 * defunc_1_f_res_249043;
        float arg_252488 = defunc_1_f_res_235118 * defunc_1_f_res_249042;
        float cross_res_252489 = arg_252487 - arg_252488;
        float defunc_0_f_res_252490 = defunc_1_f_res_235116 * defunc_1_f_res_249042;
        float defunc_0_f_res_252491 = defunc_1_f_res_235116 * defunc_1_f_res_249043;
        float defunc_0_f_res_252492 = defunc_1_f_res_235116 * defunc_1_f_res_249044;
        float defunc_1_f_res_252493 = cross_res_252483 + defunc_0_f_res_252490;
        float defunc_1_f_res_252494 = cross_res_252486 + defunc_0_f_res_252491;
        float defunc_1_f_res_252495 = cross_res_252489 + defunc_0_f_res_252492;
        float arg_252496 = defunc_0_f_res_252333 * defunc_1_f_res_252494;
        float arg_252497 = defunc_0_f_res_252332 * defunc_1_f_res_252495;
        float cross_res_252498 = arg_252496 - arg_252497;
        float arg_252499 = defunc_0_f_res_252331 * defunc_1_f_res_252495;
        float arg_252500 = defunc_0_f_res_252333 * defunc_1_f_res_252493;
        float cross_res_252501 = arg_252499 - arg_252500;
        float arg_252502 = defunc_0_f_res_252332 * defunc_1_f_res_252493;
        float arg_252503 = defunc_0_f_res_252331 * defunc_1_f_res_252494;
        float cross_res_252504 = arg_252502 - arg_252503;
        float defunc_0_f_res_252505 = defunc_1_f_res_235116 * defunc_1_f_res_252493;
        float defunc_0_f_res_252506 = defunc_1_f_res_235116 * defunc_1_f_res_252494;
        float defunc_0_f_res_252507 = defunc_1_f_res_235116 * defunc_1_f_res_252495;
        float defunc_0_f_res_252508 = defunc_0_f_res_252331 * qMult_res_252480;
        float defunc_0_f_res_252509 = defunc_0_f_res_252332 * qMult_res_252480;
        float defunc_0_f_res_252510 = defunc_0_f_res_252333 * qMult_res_252480;
        float defunc_1_f_res_252511 = defunc_0_f_res_252505 + defunc_0_f_res_252508;
        float defunc_1_f_res_252512 = defunc_0_f_res_252506 + defunc_0_f_res_252509;
        float defunc_1_f_res_252513 = defunc_0_f_res_252507 + defunc_0_f_res_252510;
        float defunc_1_f_res_252514 = cross_res_252498 + defunc_1_f_res_252511;
        float defunc_1_f_res_252515 = cross_res_252501 + defunc_1_f_res_252512;
        float defunc_1_f_res_252516 = cross_res_252504 + defunc_1_f_res_252513;
        float defunc_0_f_res_252517 = 0.0F - defunc_1_f_res_252469;
        float defunc_0_f_res_252518 = 0.0F - defunc_1_f_res_252470;
        float defunc_0_f_res_252519 = 0.0F - defunc_1_f_res_252471;
        float arg_252523 = defunc_1_f_res_252329 * defunc_1_f_res_252471;
        float arg_252524 = defunc_1_f_res_252330 * defunc_1_f_res_252470;
        float cross_res_252525 = arg_252523 - arg_252524;
        float arg_252526 = defunc_1_f_res_252330 * defunc_1_f_res_252469;
        float arg_252527 = defunc_1_f_res_252328 * defunc_1_f_res_252471;
        float cross_res_252528 = arg_252526 - arg_252527;
        float arg_252529 = defunc_1_f_res_252328 * defunc_1_f_res_252470;
        float arg_252530 = defunc_1_f_res_252329 * defunc_1_f_res_252469;
        float cross_res_252531 = arg_252529 - arg_252530;
        float defunc_1_f_res_252532 = cross_res_252525 - defunc_1_f_res_252514;
        float defunc_1_f_res_252533 = cross_res_252528 - defunc_1_f_res_252515;
        float defunc_1_f_res_252534 = cross_res_252531 - defunc_1_f_res_252516;
        
        // UpdateAcc
        {
            int64_t idx_235077 = i_235108;
            
            if (sle64((int64_t) 0, i_235108) && slt64(i_235108, nz2085U_229401)) {
                float x_235078;
                float x_235079;
                float x_235080;
                float x_235081;
                float x_235082;
                float x_235083;
                float x_235084;
                float x_235085;
                float x_235086;
                float x_235087;
                float x_235088;
                float x_235089;
                float x_235090;
                float x_235091;
                
                x_235078 = ((float *) mem_272798)[i_235108];
                x_235079 = ((float *) mem_272801)[i_235108];
                x_235080 = ((float *) mem_272804)[i_235108];
                x_235081 = ((float *) mem_272807)[i_235108];
                x_235082 = ((float *) mem_272810)[i_235108];
                x_235083 = ((float *) mem_272813)[i_235108];
                x_235084 = ((float *) mem_272816)[i_235108];
                x_235085 = defunc_1_f_res_252469;
                x_235086 = defunc_1_f_res_252470;
                x_235087 = defunc_1_f_res_252471;
                x_235088 = defunc_1_f_res_252514;
                x_235089 = defunc_1_f_res_252515;
                x_235090 = defunc_1_f_res_252516;
                x_235091 = 0.0F;
                
                float defunc_1_f_res_248939 = x_235078 + x_235085;
                float defunc_1_f_res_248940 = x_235079 + x_235086;
                float defunc_1_f_res_248941 = x_235080 + x_235087;
                float defunc_1_f_res_248942 = x_235081 + x_235088;
                float defunc_1_f_res_248943 = x_235082 + x_235089;
                float defunc_1_f_res_248944 = x_235083 + x_235090;
                float defunc_1_op_res_235098 = x_235084 + x_235091;
                
                ((float *) mem_272798)[i_235108] = defunc_1_f_res_248939;
                ((float *) mem_272801)[i_235108] = defunc_1_f_res_248940;
                ((float *) mem_272804)[i_235108] = defunc_1_f_res_248941;
                ((float *) mem_272807)[i_235108] = defunc_1_f_res_248942;
                ((float *) mem_272810)[i_235108] = defunc_1_f_res_248943;
                ((float *) mem_272813)[i_235108] = defunc_1_f_res_248944;
                ((float *) mem_272816)[i_235108] = defunc_1_op_res_235098;
            }
        }
        // UpdateAcc
        {
            int64_t idx_235077 = j_235138;
            
            if (sle64((int64_t) 0, j_235138) && slt64(j_235138, nz2085U_229401)) {
                float x_235078;
                float x_235079;
                float x_235080;
                float x_235081;
                float x_235082;
                float x_235083;
                float x_235084;
                float x_235085;
                float x_235086;
                float x_235087;
                float x_235088;
                float x_235089;
                float x_235090;
                float x_235091;
                
                x_235078 = ((float *) mem_272798)[j_235138];
                x_235079 = ((float *) mem_272801)[j_235138];
                x_235080 = ((float *) mem_272804)[j_235138];
                x_235081 = ((float *) mem_272807)[j_235138];
                x_235082 = ((float *) mem_272810)[j_235138];
                x_235083 = ((float *) mem_272813)[j_235138];
                x_235084 = ((float *) mem_272816)[j_235138];
                x_235085 = defunc_0_f_res_252517;
                x_235086 = defunc_0_f_res_252518;
                x_235087 = defunc_0_f_res_252519;
                x_235088 = defunc_1_f_res_252532;
                x_235089 = defunc_1_f_res_252533;
                x_235090 = defunc_1_f_res_252534;
                x_235091 = defunc_0_f_res_235207;
                
                float defunc_1_f_res_248939 = x_235078 + x_235085;
                float defunc_1_f_res_248940 = x_235079 + x_235086;
                float defunc_1_f_res_248941 = x_235080 + x_235087;
                float defunc_1_f_res_248942 = x_235081 + x_235088;
                float defunc_1_f_res_248943 = x_235082 + x_235089;
                float defunc_1_f_res_248944 = x_235083 + x_235090;
                float defunc_1_op_res_235098 = x_235084 + x_235091;
                
                ((float *) mem_272798)[j_235138] = defunc_1_f_res_248939;
                ((float *) mem_272801)[j_235138] = defunc_1_f_res_248940;
                ((float *) mem_272804)[j_235138] = defunc_1_f_res_248941;
                ((float *) mem_272807)[j_235138] = defunc_1_f_res_248942;
                ((float *) mem_272810)[j_235138] = defunc_1_f_res_248943;
                ((float *) mem_272813)[j_235138] = defunc_1_f_res_248944;
                ((float *) mem_272816)[j_235138] = defunc_1_op_res_235098;
            }
        }
    }
    if (mem_272821_cached_sizze_273268 < bytes_272820) {
        err = lexical_realloc(ctx, &mem_272821, &mem_272821_cached_sizze_273268, bytes_272820);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272834_cached_sizze_273269 < (int64_t) 12) {
        err = lexical_realloc(ctx, &mem_272834, &mem_272834_cached_sizze_273269, (int64_t) 12);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272836_cached_sizze_273270 < (int64_t) 12) {
        err = lexical_realloc(ctx, &mem_272836, &mem_272836_cached_sizze_273270, (int64_t) 12);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_271062 = 0; i_271062 < nz2085U_229401; i_271062++) {
        float x_235273 = ((float *) mem_272798)[i_271062];
        float x_235274 = ((float *) mem_272801)[i_271062];
        float x_235275 = ((float *) mem_272804)[i_271062];
        float x_235276 = ((float *) mem_272807)[i_271062];
        float x_235277 = ((float *) mem_272810)[i_271062];
        float x_235278 = ((float *) mem_272813)[i_271062];
        
        ((float *) mem_272834)[(int64_t) 0] = x_235273;
        ((float *) mem_272834)[(int64_t) 1] = x_235274;
        ((float *) mem_272834)[(int64_t) 2] = x_235275;
        ((float *) mem_272836)[(int64_t) 0] = x_235276;
        ((float *) mem_272836)[(int64_t) 1] = x_235277;
        ((float *) mem_272836)[(int64_t) 2] = x_235278;
        if ((int64_t) 12 > 0)
            memmove(mem_272821 + i_271062 * (int64_t) 6 * (int64_t) 4, mem_272834 + (int64_t) 0, (int64_t) 12);
        if ((int64_t) 12 > 0)
            memmove(mem_272821 + (i_271062 * (int64_t) 6 + (int64_t) 3) * (int64_t) 4, mem_272836 + (int64_t) 0, (int64_t) 12);
    }
    
    int64_t flat_dim_235282 = (int64_t) 2 * nz2085U_229401;
    
    if (memblock_alloc(ctx, &mem_272853, bytes_272820, "mem_272853")) {
        err = 1;
        goto cleanup;
    }
    if (flat_dim_235282 * (int64_t) 3 * (int64_t) 4 > 0)
        memmove(mem_272853.mem + (int64_t) 0, mem_272821 + (int64_t) 0, flat_dim_235282 * (int64_t) 3 * (int64_t) 4);
    if (memblock_set(ctx, &mem_out_273038, &mem_272853, "mem_272853") != 0)
        return 1;
    prim_out_273039 = flat_dim_235282;
    (*mem_out_p_273197).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_273197, &mem_out_273038, "mem_out_273038") != 0)
        return 1;
    *out_prim_out_273198 = prim_out_273039;
    
  cleanup:
    {
        free(mem_271596);
        free(mem_271599);
        free(mem_271602);
        free(mem_271605);
        free(mem_271608);
        free(mem_271611);
        free(mem_271614);
        free(mem_271690);
        free(mem_271693);
        free(mem_271696);
        free(mem_271740);
        free(mem_271763);
        free(mem_271768);
        free(mem_271817);
        free(mem_271820);
        free(mem_271843);
        free(mem_271846);
        free(mem_271849);
        free(mem_271882);
        free(mem_271885);
        free(mem_271888);
        free(mem_271934);
        free(mem_271937);
        free(mem_271960);
        free(mem_272009);
        free(mem_272022);
        free(mem_272035);
        free(mem_272038);
        free(mem_272041);
        free(mem_272076);
        free(mem_272089);
        free(mem_272120);
        free(mem_272123);
        free(mem_272146);
        free(mem_272195);
        free(mem_272198);
        free(mem_272221);
        free(mem_272270);
        free(mem_272273);
        free(mem_272296);
        free(mem_272310);
        free(mem_272334);
        free(mem_272365);
        free(mem_272369);
        free(mem_272373);
        free(mem_272377);
        free(mem_272381);
        free(mem_272567);
        free(mem_272570);
        free(mem_272593);
        free(mem_272642);
        free(mem_272645);
        free(mem_272648);
        free(mem_272651);
        free(mem_272654);
        free(mem_272707);
        free(mem_272710);
        free(mem_272733);
        free(mem_272736);
        free(mem_272739);
        free(mem_272742);
        free(mem_272745);
        free(mem_272798);
        free(mem_272801);
        free(mem_272804);
        free(mem_272807);
        free(mem_272810);
        free(mem_272813);
        free(mem_272816);
        free(mem_272821);
        free(mem_272834);
        free(mem_272836);
        if (memblock_unref(ctx, &mem_272853, "mem_272853") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272247, "mem_272247") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272234, "mem_272234") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272262, "ext_mem_272262") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272267, "ext_mem_272267") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272172, "mem_272172") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272159, "mem_272159") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272187, "ext_mem_272187") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272192, "ext_mem_272192") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272102, "mem_272102") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272117, "ext_mem_272117") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_273109, "mem_param_tmp_273109") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_273108, "mem_param_tmp_273108") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_271976, "mem_271976") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_271973, "mem_271973") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_271931, "mem_param_271931") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_271926, "mem_param_271926") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272005, "ext_mem_272005") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272006, "ext_mem_272006") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_271921, "mem_271921") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272619, "mem_272619") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272606, "mem_272606") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272634, "ext_mem_272634") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272639, "ext_mem_272639") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272073, "mem_272073") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_271687, "mem_271687") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_273038, "mem_out_273038") != 0)
            return 1;
    }
    return err;
}
static int futrts_entry_hgoPotential(struct futhark_context *ctx, float *out_prim_out_273271, struct memblock location_mem_271592, struct memblock orientation_mem_271593, float epsilon_164329, float sigma_par_164330, float sigma_ort_164331)
{
    (void) ctx;
    
    int err = 0;
    float prim_out_273038;
    float fromLO_res_248355 = ((float *) location_mem_271592.mem)[(int64_t) 0];
    float fromLO_res_248356 = ((float *) location_mem_271592.mem)[(int64_t) 1];
    float fromLO_res_248357 = ((float *) location_mem_271592.mem)[(int64_t) 2];
    float quaternion_arg_248358 = ((float *) orientation_mem_271593.mem)[(int64_t) 1];
    float quaternion_arg_248359 = ((float *) orientation_mem_271593.mem)[(int64_t) 2];
    float quaternion_arg_248360 = ((float *) orientation_mem_271593.mem)[(int64_t) 3];
    float quaternion_arg_248361 = ((float *) orientation_mem_271593.mem)[(int64_t) 0];
    float defunc_1_f_res_252231 = fromLO_res_248355 * fromLO_res_248355;
    float defunc_1_f_res_252232 = fromLO_res_248356 * fromLO_res_248356;
    float defunc_1_f_res_252233 = fromLO_res_248357 * fromLO_res_248357;
    float defunc_1_f_res_252234 = defunc_1_f_res_252232 + defunc_1_f_res_252233;
    float defunc_0_f_res_252235 = defunc_1_f_res_252231 + defunc_1_f_res_252234;
    float sqrt_res_252236 = futrts_sqrt32(defunc_0_f_res_252235);
    float v3scale_arg_252237 = 1.0F / sqrt_res_252236;
    float defunc_0_f_res_252238 = fromLO_res_248355 * v3scale_arg_252237;
    float defunc_0_f_res_252239 = fromLO_res_248356 * v3scale_arg_252237;
    float defunc_0_f_res_252240 = fromLO_res_248357 * v3scale_arg_252237;
    float defunc_0_f_res_252241 = 0.0F - quaternion_arg_248358;
    float defunc_0_f_res_252242 = 0.0F - quaternion_arg_248359;
    float defunc_0_f_res_252243 = 0.0F - quaternion_arg_248360;
    float arg_252265 = defunc_0_f_res_252241 * defunc_0_f_res_252243;
    float arg_252266 = quaternion_arg_248361 * defunc_0_f_res_252242;
    float cross_res_252267 = arg_252265 - arg_252266;
    float arg_252268 = quaternion_arg_248361 * defunc_0_f_res_252241;
    float arg_252269 = quaternion_arg_248359 * defunc_0_f_res_252243;
    float cross_res_252270 = arg_252268 - arg_252269;
    float arg_252271 = quaternion_arg_248359 * defunc_0_f_res_252242;
    float arg_252272 = defunc_0_f_res_252241 * defunc_0_f_res_252241;
    float cross_res_252273 = arg_252271 - arg_252272;
    float defunc_0_f_res_252274 = quaternion_arg_248359 * quaternion_arg_248361;
    float defunc_0_f_res_252276 = quaternion_arg_248361 * quaternion_arg_248361;
    float defunc_0_f_res_252278 = defunc_0_f_res_252242 * defunc_0_f_res_252243;
    float defunc_0_f_res_252279 = defunc_0_f_res_252243 * defunc_0_f_res_252243;
    float defunc_1_f_res_252280 = arg_252265 + defunc_0_f_res_252274;
    float defunc_1_f_res_252281 = arg_252268 + defunc_0_f_res_252278;
    float defunc_1_f_res_252282 = defunc_0_f_res_252276 + defunc_0_f_res_252279;
    float defunc_1_f_res_252283 = cross_res_252267 + defunc_1_f_res_252280;
    float defunc_1_f_res_252284 = cross_res_252270 + defunc_1_f_res_252281;
    float defunc_1_f_res_252285 = cross_res_252273 + defunc_1_f_res_252282;
    float sigma_252286 = 1.4142135F * sigma_ort_164331;
    float lifted_sq_res_252287 = sigma_par_164330 * sigma_par_164330;
    float lifted_sq_res_252288 = sigma_ort_164331 * sigma_ort_164331;
    float arg_252289 = lifted_sq_res_252287 - lifted_sq_res_252288;
    float arg_252292 = lifted_sq_res_252287 + lifted_sq_res_252288;
    float chi_252293 = arg_252289 / arg_252292;
    float lifted_sq_arg_252299 = defunc_1_f_res_252285 * chi_252293;
    float lifted_sq_res_252300 = lifted_sq_arg_252299 * lifted_sq_arg_252299;
    float sqrt_arg_252301 = 1.0F - lifted_sq_res_252300;
    float sqrt_res_252302 = futrts_sqrt32(sqrt_arg_252301);
    float epsilonzq_252303 = epsilon_164329 / sqrt_res_252302;
    float arg_252304 = 0.5F * chi_252293;
    float defunc_1_f_res_252310 = defunc_0_f_res_252238 * defunc_1_f_res_252283;
    float defunc_1_f_res_252311 = defunc_0_f_res_252239 * defunc_1_f_res_252284;
    float defunc_1_f_res_252312 = defunc_0_f_res_252240 * defunc_1_f_res_252285;
    float defunc_1_f_res_252313 = defunc_1_f_res_252311 + defunc_1_f_res_252312;
    float defunc_0_f_res_252314 = defunc_1_f_res_252310 + defunc_1_f_res_252313;
    float lifted_sq_arg_252315 = defunc_0_f_res_252240 + defunc_0_f_res_252314;
    float lifted_sq_res_252316 = lifted_sq_arg_252315 * lifted_sq_arg_252315;
    float arg_252323 = 1.0F + lifted_sq_arg_252299;
    float arg_252324 = lifted_sq_res_252316 / arg_252323;
    float lifted_sq_arg_252335 = defunc_0_f_res_252240 - defunc_0_f_res_252314;
    float lifted_sq_res_252336 = lifted_sq_arg_252335 * lifted_sq_arg_252335;
    float arg_252343 = 1.0F - lifted_sq_arg_252299;
    float arg_252344 = lifted_sq_res_252336 / arg_252343;
    float arg_252345 = arg_252324 + arg_252344;
    float arg_252346 = arg_252304 * arg_252345;
    float sqrt_arg_252347 = 1.0F - arg_252346;
    float sqrt_res_252348 = futrts_sqrt32(sqrt_arg_252347);
    float sigmazq_252349 = sigma_252286 / sqrt_res_252348;
    float arg_252355 = 0.0F - defunc_0_f_res_252235;
    float lifted_sq_res_252356 = sigmazq_252349 * sigmazq_252349;
    float exp_arg_252357 = arg_252355 / lifted_sq_res_252356;
    float exp_res_252358 = futrts_exp32(exp_arg_252357);
    float hgo_res_252359 = epsilonzq_252303 * exp_res_252358;
    
    prim_out_273038 = hgo_res_252359;
    *out_prim_out_273271 = prim_out_273038;
    
  cleanup:
    { }
    return err;
}
static int futrts_entry_hgoPotentialAbs(struct futhark_context *ctx, float *out_prim_out_273272, struct memblock location0_mem_271592, struct memblock orientation0_mem_271593, struct memblock location1_mem_271594, struct memblock orientation1_mem_271595, float epsilon_183444, float sigma_par_183445, float sigma_ort_183446)
{
    (void) ctx;
    
    int err = 0;
    float prim_out_273038;
    float fromLO_res_248355 = ((float *) location1_mem_271594.mem)[(int64_t) 0];
    float fromLO_res_248356 = ((float *) location1_mem_271594.mem)[(int64_t) 1];
    float fromLO_res_248357 = ((float *) location1_mem_271594.mem)[(int64_t) 2];
    float quaternion_arg_248358 = ((float *) orientation1_mem_271595.mem)[(int64_t) 1];
    float quaternion_arg_248359 = ((float *) orientation1_mem_271595.mem)[(int64_t) 2];
    float quaternion_arg_248360 = ((float *) orientation1_mem_271595.mem)[(int64_t) 3];
    float quaternion_arg_248361 = ((float *) orientation1_mem_271595.mem)[(int64_t) 0];
    float fromLO_res_248364 = ((float *) location0_mem_271592.mem)[(int64_t) 0];
    float fromLO_res_248365 = ((float *) location0_mem_271592.mem)[(int64_t) 1];
    float fromLO_res_248366 = ((float *) location0_mem_271592.mem)[(int64_t) 2];
    float quaternion_arg_248367 = ((float *) orientation0_mem_271593.mem)[(int64_t) 1];
    float quaternion_arg_248368 = ((float *) orientation0_mem_271593.mem)[(int64_t) 2];
    float quaternion_arg_248369 = ((float *) orientation0_mem_271593.mem)[(int64_t) 3];
    float quaternion_arg_248370 = ((float *) orientation0_mem_271593.mem)[(int64_t) 0];
    float defunc_1_f_res_252235 = fromLO_res_248355 - fromLO_res_248364;
    float defunc_1_f_res_252236 = fromLO_res_248356 - fromLO_res_248365;
    float defunc_1_f_res_252237 = fromLO_res_248357 - fromLO_res_248366;
    float defunc_0_f_res_252238 = 0.0F - quaternion_arg_248367;
    float defunc_0_f_res_252239 = 0.0F - quaternion_arg_248368;
    float defunc_0_f_res_252240 = 0.0F - quaternion_arg_248369;
    float defunc_0_f_res_252241 = 0.0F - defunc_0_f_res_252238;
    float defunc_0_f_res_252242 = 0.0F - defunc_0_f_res_252239;
    float defunc_0_f_res_252243 = 0.0F - defunc_0_f_res_252240;
    float defunc_1_f_res_252244 = defunc_1_f_res_252235 * defunc_0_f_res_252238;
    float defunc_1_f_res_252245 = defunc_1_f_res_252236 * defunc_0_f_res_252239;
    float defunc_1_f_res_252246 = defunc_1_f_res_252237 * defunc_0_f_res_252240;
    float defunc_1_f_res_252247 = defunc_1_f_res_252245 + defunc_1_f_res_252246;
    float defunc_0_f_res_252248 = defunc_1_f_res_252244 + defunc_1_f_res_252247;
    float qMult_res_252249 = 0.0F - defunc_0_f_res_252248;
    float arg_252250 = defunc_1_f_res_252237 * defunc_0_f_res_252239;
    float arg_252251 = defunc_1_f_res_252236 * defunc_0_f_res_252240;
    float cross_res_252252 = arg_252250 - arg_252251;
    float arg_252253 = defunc_1_f_res_252235 * defunc_0_f_res_252240;
    float arg_252254 = defunc_1_f_res_252237 * defunc_0_f_res_252238;
    float cross_res_252255 = arg_252253 - arg_252254;
    float arg_252256 = defunc_1_f_res_252236 * defunc_0_f_res_252238;
    float arg_252257 = defunc_1_f_res_252235 * defunc_0_f_res_252239;
    float cross_res_252258 = arg_252256 - arg_252257;
    float defunc_0_f_res_252259 = quaternion_arg_248370 * defunc_1_f_res_252235;
    float defunc_0_f_res_252260 = quaternion_arg_248370 * defunc_1_f_res_252236;
    float defunc_0_f_res_252261 = quaternion_arg_248370 * defunc_1_f_res_252237;
    float defunc_1_f_res_252262 = cross_res_252252 + defunc_0_f_res_252259;
    float defunc_1_f_res_252263 = cross_res_252255 + defunc_0_f_res_252260;
    float defunc_1_f_res_252264 = cross_res_252258 + defunc_0_f_res_252261;
    float arg_252265 = defunc_0_f_res_252243 * defunc_1_f_res_252263;
    float arg_252266 = defunc_0_f_res_252242 * defunc_1_f_res_252264;
    float cross_res_252267 = arg_252265 - arg_252266;
    float arg_252268 = defunc_0_f_res_252241 * defunc_1_f_res_252264;
    float arg_252269 = defunc_0_f_res_252243 * defunc_1_f_res_252262;
    float cross_res_252270 = arg_252268 - arg_252269;
    float arg_252271 = defunc_0_f_res_252242 * defunc_1_f_res_252262;
    float arg_252272 = defunc_0_f_res_252241 * defunc_1_f_res_252263;
    float cross_res_252273 = arg_252271 - arg_252272;
    float defunc_0_f_res_252274 = quaternion_arg_248370 * defunc_1_f_res_252262;
    float defunc_0_f_res_252275 = quaternion_arg_248370 * defunc_1_f_res_252263;
    float defunc_0_f_res_252276 = quaternion_arg_248370 * defunc_1_f_res_252264;
    float defunc_0_f_res_252277 = defunc_0_f_res_252241 * qMult_res_252249;
    float defunc_0_f_res_252278 = defunc_0_f_res_252242 * qMult_res_252249;
    float defunc_0_f_res_252279 = defunc_0_f_res_252243 * qMult_res_252249;
    float defunc_1_f_res_252280 = defunc_0_f_res_252274 + defunc_0_f_res_252277;
    float defunc_1_f_res_252281 = defunc_0_f_res_252275 + defunc_0_f_res_252278;
    float defunc_1_f_res_252282 = defunc_0_f_res_252276 + defunc_0_f_res_252279;
    float defunc_1_f_res_252283 = cross_res_252267 + defunc_1_f_res_252280;
    float defunc_1_f_res_252284 = cross_res_252270 + defunc_1_f_res_252281;
    float defunc_1_f_res_252285 = cross_res_252273 + defunc_1_f_res_252282;
    float arg_252286 = quaternion_arg_248361 * quaternion_arg_248370;
    float defunc_1_f_res_252287 = quaternion_arg_248358 * defunc_0_f_res_252238;
    float defunc_1_f_res_252288 = quaternion_arg_248359 * defunc_0_f_res_252239;
    float defunc_1_f_res_252289 = quaternion_arg_248360 * defunc_0_f_res_252240;
    float defunc_1_f_res_252290 = defunc_1_f_res_252288 + defunc_1_f_res_252289;
    float defunc_0_f_res_252291 = defunc_1_f_res_252287 + defunc_1_f_res_252290;
    float qMult_res_252292 = arg_252286 - defunc_0_f_res_252291;
    float arg_252293 = quaternion_arg_248360 * defunc_0_f_res_252239;
    float arg_252294 = quaternion_arg_248359 * defunc_0_f_res_252240;
    float cross_res_252295 = arg_252293 - arg_252294;
    float arg_252296 = quaternion_arg_248358 * defunc_0_f_res_252240;
    float arg_252297 = quaternion_arg_248360 * defunc_0_f_res_252238;
    float cross_res_252298 = arg_252296 - arg_252297;
    float arg_252299 = quaternion_arg_248359 * defunc_0_f_res_252238;
    float arg_252300 = quaternion_arg_248358 * defunc_0_f_res_252239;
    float cross_res_252301 = arg_252299 - arg_252300;
    float defunc_0_f_res_252302 = quaternion_arg_248361 * defunc_0_f_res_252238;
    float defunc_0_f_res_252303 = quaternion_arg_248361 * defunc_0_f_res_252239;
    float defunc_0_f_res_252304 = quaternion_arg_248361 * defunc_0_f_res_252240;
    float defunc_0_f_res_252305 = quaternion_arg_248358 * quaternion_arg_248370;
    float defunc_0_f_res_252306 = quaternion_arg_248359 * quaternion_arg_248370;
    float defunc_0_f_res_252307 = quaternion_arg_248360 * quaternion_arg_248370;
    float defunc_1_f_res_252308 = defunc_0_f_res_252302 + defunc_0_f_res_252305;
    float defunc_1_f_res_252309 = defunc_0_f_res_252303 + defunc_0_f_res_252306;
    float defunc_1_f_res_252310 = defunc_0_f_res_252304 + defunc_0_f_res_252307;
    float defunc_1_f_res_252311 = cross_res_252295 + defunc_1_f_res_252308;
    float defunc_1_f_res_252312 = cross_res_252298 + defunc_1_f_res_252309;
    float defunc_1_f_res_252313 = cross_res_252301 + defunc_1_f_res_252310;
    float defunc_1_f_res_252324 = defunc_1_f_res_252283 * defunc_1_f_res_252283;
    float defunc_1_f_res_252325 = defunc_1_f_res_252284 * defunc_1_f_res_252284;
    float defunc_1_f_res_252326 = defunc_1_f_res_252285 * defunc_1_f_res_252285;
    float defunc_1_f_res_252327 = defunc_1_f_res_252325 + defunc_1_f_res_252326;
    float defunc_0_f_res_252328 = defunc_1_f_res_252324 + defunc_1_f_res_252327;
    float sqrt_res_252329 = futrts_sqrt32(defunc_0_f_res_252328);
    float v3scale_arg_252330 = 1.0F / sqrt_res_252329;
    float defunc_0_f_res_252331 = defunc_1_f_res_252283 * v3scale_arg_252330;
    float defunc_0_f_res_252332 = defunc_1_f_res_252284 * v3scale_arg_252330;
    float defunc_0_f_res_252333 = defunc_1_f_res_252285 * v3scale_arg_252330;
    float defunc_0_f_res_252334 = 0.0F - defunc_1_f_res_252311;
    float defunc_0_f_res_252335 = 0.0F - defunc_1_f_res_252312;
    float defunc_0_f_res_252336 = 0.0F - defunc_1_f_res_252313;
    float arg_252358 = defunc_0_f_res_252334 * defunc_0_f_res_252336;
    float arg_252359 = qMult_res_252292 * defunc_0_f_res_252335;
    float cross_res_252360 = arg_252358 - arg_252359;
    float arg_252361 = qMult_res_252292 * defunc_0_f_res_252334;
    float arg_252362 = defunc_1_f_res_252312 * defunc_0_f_res_252336;
    float cross_res_252363 = arg_252361 - arg_252362;
    float arg_252364 = defunc_1_f_res_252312 * defunc_0_f_res_252335;
    float arg_252365 = defunc_0_f_res_252334 * defunc_0_f_res_252334;
    float cross_res_252366 = arg_252364 - arg_252365;
    float defunc_0_f_res_252367 = qMult_res_252292 * defunc_1_f_res_252312;
    float defunc_0_f_res_252369 = qMult_res_252292 * qMult_res_252292;
    float defunc_0_f_res_252371 = defunc_0_f_res_252335 * defunc_0_f_res_252336;
    float defunc_0_f_res_252372 = defunc_0_f_res_252336 * defunc_0_f_res_252336;
    float defunc_1_f_res_252373 = arg_252358 + defunc_0_f_res_252367;
    float defunc_1_f_res_252374 = arg_252361 + defunc_0_f_res_252371;
    float defunc_1_f_res_252375 = defunc_0_f_res_252369 + defunc_0_f_res_252372;
    float defunc_1_f_res_252376 = cross_res_252360 + defunc_1_f_res_252373;
    float defunc_1_f_res_252377 = cross_res_252363 + defunc_1_f_res_252374;
    float defunc_1_f_res_252378 = cross_res_252366 + defunc_1_f_res_252375;
    float sigma_252379 = 1.4142135F * sigma_ort_183446;
    float lifted_sq_res_252380 = sigma_par_183445 * sigma_par_183445;
    float lifted_sq_res_252381 = sigma_ort_183446 * sigma_ort_183446;
    float arg_252382 = lifted_sq_res_252380 - lifted_sq_res_252381;
    float arg_252385 = lifted_sq_res_252380 + lifted_sq_res_252381;
    float chi_252386 = arg_252382 / arg_252385;
    float lifted_sq_arg_252392 = defunc_1_f_res_252378 * chi_252386;
    float lifted_sq_res_252393 = lifted_sq_arg_252392 * lifted_sq_arg_252392;
    float sqrt_arg_252394 = 1.0F - lifted_sq_res_252393;
    float sqrt_res_252395 = futrts_sqrt32(sqrt_arg_252394);
    float epsilonzq_252396 = epsilon_183444 / sqrt_res_252395;
    float arg_252397 = 0.5F * chi_252386;
    float defunc_1_f_res_252403 = defunc_0_f_res_252331 * defunc_1_f_res_252376;
    float defunc_1_f_res_252404 = defunc_0_f_res_252332 * defunc_1_f_res_252377;
    float defunc_1_f_res_252405 = defunc_0_f_res_252333 * defunc_1_f_res_252378;
    float defunc_1_f_res_252406 = defunc_1_f_res_252404 + defunc_1_f_res_252405;
    float defunc_0_f_res_252407 = defunc_1_f_res_252403 + defunc_1_f_res_252406;
    float lifted_sq_arg_252408 = defunc_0_f_res_252333 + defunc_0_f_res_252407;
    float lifted_sq_res_252409 = lifted_sq_arg_252408 * lifted_sq_arg_252408;
    float arg_252416 = 1.0F + lifted_sq_arg_252392;
    float arg_252417 = lifted_sq_res_252409 / arg_252416;
    float lifted_sq_arg_252428 = defunc_0_f_res_252333 - defunc_0_f_res_252407;
    float lifted_sq_res_252429 = lifted_sq_arg_252428 * lifted_sq_arg_252428;
    float arg_252436 = 1.0F - lifted_sq_arg_252392;
    float arg_252437 = lifted_sq_res_252429 / arg_252436;
    float arg_252438 = arg_252417 + arg_252437;
    float arg_252439 = arg_252397 * arg_252438;
    float sqrt_arg_252440 = 1.0F - arg_252439;
    float sqrt_res_252441 = futrts_sqrt32(sqrt_arg_252440);
    float sigmazq_252442 = sigma_252379 / sqrt_res_252441;
    float arg_252448 = 0.0F - defunc_0_f_res_252328;
    float lifted_sq_res_252449 = sigmazq_252442 * sigmazq_252442;
    float exp_arg_252450 = arg_252448 / lifted_sq_res_252449;
    float exp_res_252451 = futrts_exp32(exp_arg_252450);
    float hgo_res_252452 = epsilonzq_252396 * exp_res_252451;
    
    prim_out_273038 = hgo_res_252452;
    *out_prim_out_273272 = prim_out_273038;
    
  cleanup:
    { }
    return err;
}
static int futrts_entry_networkInteraction(struct futhark_context *ctx, struct memblock *mem_out_p_273273, int64_t *out_prim_out_273274, struct memblock z31U_mem_271592, struct memblock z31U_mem_271593, struct memblock z31U_mem_271594, struct memblock z31U_mem_271595, struct memblock z31U_mem_271596, struct memblock z31U_mem_271597, struct memblock z31U_mem_271598, struct memblock z31U_mem_271599, struct memblock z31U_mem_271600, struct memblock z31U_mem_271601, struct memblock z31U_mem_271602, struct memblock z31U_mem_271603, struct memblock z31U_mem_271604, struct memblock locations_mem_271605, struct memblock orientations_mem_271606, int64_t dz2080U_226337, int64_t dz2081U_226338, int64_t nz2084U_226339, int8_t z30U_226340, float z30U_226341, float z30U_226342, float z30U_226343, float z30U_226344, float z30U_226345, float z30U_226346, float z30U_226347, float z30U_226348, float z30U_226349, float z30U_226350, float z30U_226351, float z30U_226352, float z30U_226353, int32_t z30U_226354)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_271609_cached_sizze_273275 = 0;
    unsigned char *mem_271609 = NULL;
    int64_t mem_271612_cached_sizze_273276 = 0;
    unsigned char *mem_271612 = NULL;
    int64_t mem_271615_cached_sizze_273277 = 0;
    unsigned char *mem_271615 = NULL;
    int64_t mem_271618_cached_sizze_273278 = 0;
    unsigned char *mem_271618 = NULL;
    int64_t mem_271621_cached_sizze_273279 = 0;
    unsigned char *mem_271621 = NULL;
    int64_t mem_271624_cached_sizze_273280 = 0;
    unsigned char *mem_271624 = NULL;
    int64_t mem_271627_cached_sizze_273281 = 0;
    unsigned char *mem_271627 = NULL;
    int64_t mem_271703_cached_sizze_273282 = 0;
    unsigned char *mem_271703 = NULL;
    int64_t mem_271706_cached_sizze_273283 = 0;
    unsigned char *mem_271706 = NULL;
    int64_t mem_271709_cached_sizze_273284 = 0;
    unsigned char *mem_271709 = NULL;
    int64_t mem_271753_cached_sizze_273285 = 0;
    unsigned char *mem_271753 = NULL;
    int64_t mem_271776_cached_sizze_273286 = 0;
    unsigned char *mem_271776 = NULL;
    int64_t mem_271781_cached_sizze_273287 = 0;
    unsigned char *mem_271781 = NULL;
    int64_t mem_271830_cached_sizze_273288 = 0;
    unsigned char *mem_271830 = NULL;
    int64_t mem_271833_cached_sizze_273289 = 0;
    unsigned char *mem_271833 = NULL;
    int64_t mem_271856_cached_sizze_273290 = 0;
    unsigned char *mem_271856 = NULL;
    int64_t mem_271859_cached_sizze_273291 = 0;
    unsigned char *mem_271859 = NULL;
    int64_t mem_271862_cached_sizze_273292 = 0;
    unsigned char *mem_271862 = NULL;
    int64_t mem_271895_cached_sizze_273293 = 0;
    unsigned char *mem_271895 = NULL;
    int64_t mem_271898_cached_sizze_273294 = 0;
    unsigned char *mem_271898 = NULL;
    int64_t mem_271901_cached_sizze_273295 = 0;
    unsigned char *mem_271901 = NULL;
    int64_t mem_271947_cached_sizze_273296 = 0;
    unsigned char *mem_271947 = NULL;
    int64_t mem_271950_cached_sizze_273297 = 0;
    unsigned char *mem_271950 = NULL;
    int64_t mem_271973_cached_sizze_273298 = 0;
    unsigned char *mem_271973 = NULL;
    int64_t mem_272022_cached_sizze_273299 = 0;
    unsigned char *mem_272022 = NULL;
    int64_t mem_272035_cached_sizze_273300 = 0;
    unsigned char *mem_272035 = NULL;
    int64_t mem_272048_cached_sizze_273301 = 0;
    unsigned char *mem_272048 = NULL;
    int64_t mem_272051_cached_sizze_273302 = 0;
    unsigned char *mem_272051 = NULL;
    int64_t mem_272054_cached_sizze_273303 = 0;
    unsigned char *mem_272054 = NULL;
    int64_t mem_272089_cached_sizze_273304 = 0;
    unsigned char *mem_272089 = NULL;
    int64_t mem_272102_cached_sizze_273305 = 0;
    unsigned char *mem_272102 = NULL;
    int64_t mem_272133_cached_sizze_273306 = 0;
    unsigned char *mem_272133 = NULL;
    int64_t mem_272136_cached_sizze_273307 = 0;
    unsigned char *mem_272136 = NULL;
    int64_t mem_272159_cached_sizze_273308 = 0;
    unsigned char *mem_272159 = NULL;
    int64_t mem_272208_cached_sizze_273309 = 0;
    unsigned char *mem_272208 = NULL;
    int64_t mem_272211_cached_sizze_273310 = 0;
    unsigned char *mem_272211 = NULL;
    int64_t mem_272234_cached_sizze_273311 = 0;
    unsigned char *mem_272234 = NULL;
    int64_t mem_272283_cached_sizze_273312 = 0;
    unsigned char *mem_272283 = NULL;
    int64_t mem_272286_cached_sizze_273313 = 0;
    unsigned char *mem_272286 = NULL;
    int64_t mem_272309_cached_sizze_273314 = 0;
    unsigned char *mem_272309 = NULL;
    int64_t mem_272323_cached_sizze_273315 = 0;
    unsigned char *mem_272323 = NULL;
    int64_t mem_272347_cached_sizze_273316 = 0;
    unsigned char *mem_272347 = NULL;
    int64_t mem_272378_cached_sizze_273317 = 0;
    unsigned char *mem_272378 = NULL;
    int64_t mem_272382_cached_sizze_273318 = 0;
    unsigned char *mem_272382 = NULL;
    int64_t mem_272386_cached_sizze_273319 = 0;
    unsigned char *mem_272386 = NULL;
    int64_t mem_272390_cached_sizze_273320 = 0;
    unsigned char *mem_272390 = NULL;
    int64_t mem_272394_cached_sizze_273321 = 0;
    unsigned char *mem_272394 = NULL;
    int64_t mem_272580_cached_sizze_273322 = 0;
    unsigned char *mem_272580 = NULL;
    int64_t mem_272583_cached_sizze_273323 = 0;
    unsigned char *mem_272583 = NULL;
    int64_t mem_272606_cached_sizze_273324 = 0;
    unsigned char *mem_272606 = NULL;
    int64_t mem_272655_cached_sizze_273325 = 0;
    unsigned char *mem_272655 = NULL;
    int64_t mem_272658_cached_sizze_273326 = 0;
    unsigned char *mem_272658 = NULL;
    int64_t mem_272661_cached_sizze_273327 = 0;
    unsigned char *mem_272661 = NULL;
    int64_t mem_272664_cached_sizze_273328 = 0;
    unsigned char *mem_272664 = NULL;
    int64_t mem_272667_cached_sizze_273329 = 0;
    unsigned char *mem_272667 = NULL;
    int64_t mem_272720_cached_sizze_273330 = 0;
    unsigned char *mem_272720 = NULL;
    int64_t mem_272723_cached_sizze_273331 = 0;
    unsigned char *mem_272723 = NULL;
    int64_t mem_272746_cached_sizze_273332 = 0;
    unsigned char *mem_272746 = NULL;
    int64_t mem_272749_cached_sizze_273333 = 0;
    unsigned char *mem_272749 = NULL;
    int64_t mem_272752_cached_sizze_273334 = 0;
    unsigned char *mem_272752 = NULL;
    int64_t mem_272755_cached_sizze_273335 = 0;
    unsigned char *mem_272755 = NULL;
    int64_t mem_272758_cached_sizze_273336 = 0;
    unsigned char *mem_272758 = NULL;
    int64_t mem_272811_cached_sizze_273337 = 0;
    unsigned char *mem_272811 = NULL;
    int64_t mem_272814_cached_sizze_273338 = 0;
    unsigned char *mem_272814 = NULL;
    int64_t mem_272817_cached_sizze_273339 = 0;
    unsigned char *mem_272817 = NULL;
    int64_t mem_272820_cached_sizze_273340 = 0;
    unsigned char *mem_272820 = NULL;
    int64_t mem_272823_cached_sizze_273341 = 0;
    unsigned char *mem_272823 = NULL;
    int64_t mem_272826_cached_sizze_273342 = 0;
    unsigned char *mem_272826 = NULL;
    int64_t mem_272829_cached_sizze_273343 = 0;
    unsigned char *mem_272829 = NULL;
    int64_t mem_272832_cached_sizze_273344 = 0;
    unsigned char *mem_272832 = NULL;
    int64_t mem_272835_cached_sizze_273345 = 0;
    unsigned char *mem_272835 = NULL;
    int64_t mem_272838_cached_sizze_273346 = 0;
    unsigned char *mem_272838 = NULL;
    int64_t mem_272841_cached_sizze_273347 = 0;
    unsigned char *mem_272841 = NULL;
    int64_t mem_272884_cached_sizze_273348 = 0;
    unsigned char *mem_272884 = NULL;
    int64_t mem_272887_cached_sizze_273349 = 0;
    unsigned char *mem_272887 = NULL;
    int64_t mem_272910_cached_sizze_273350 = 0;
    unsigned char *mem_272910 = NULL;
    int64_t mem_272913_cached_sizze_273351 = 0;
    unsigned char *mem_272913 = NULL;
    int64_t mem_272936_cached_sizze_273352 = 0;
    unsigned char *mem_272936 = NULL;
    int64_t mem_272949_cached_sizze_273353 = 0;
    unsigned char *mem_272949 = NULL;
    int64_t mem_272962_cached_sizze_273354 = 0;
    unsigned char *mem_272962 = NULL;
    int64_t mem_272977_cached_sizze_273355 = 0;
    unsigned char *mem_272977 = NULL;
    int64_t mem_272990_cached_sizze_273356 = 0;
    unsigned char *mem_272990 = NULL;
    int64_t mem_272992_cached_sizze_273357 = 0;
    unsigned char *mem_272992 = NULL;
    struct memblock mem_273009;
    
    mem_273009.references = NULL;
    
    struct memblock mem_272260;
    
    mem_272260.references = NULL;
    
    struct memblock mem_272247;
    
    mem_272247.references = NULL;
    
    struct memblock ext_mem_272275;
    
    ext_mem_272275.references = NULL;
    
    struct memblock ext_mem_272280;
    
    ext_mem_272280.references = NULL;
    
    struct memblock mem_272185;
    
    mem_272185.references = NULL;
    
    struct memblock mem_272172;
    
    mem_272172.references = NULL;
    
    struct memblock ext_mem_272200;
    
    ext_mem_272200.references = NULL;
    
    struct memblock ext_mem_272205;
    
    ext_mem_272205.references = NULL;
    
    struct memblock mem_272115;
    
    mem_272115.references = NULL;
    
    struct memblock ext_mem_272130;
    
    ext_mem_272130.references = NULL;
    
    struct memblock mem_param_tmp_273109;
    
    mem_param_tmp_273109.references = NULL;
    
    struct memblock mem_param_tmp_273108;
    
    mem_param_tmp_273108.references = NULL;
    
    struct memblock mem_271989;
    
    mem_271989.references = NULL;
    
    struct memblock mem_271986;
    
    mem_271986.references = NULL;
    
    struct memblock mem_param_271944;
    
    mem_param_271944.references = NULL;
    
    struct memblock mem_param_271939;
    
    mem_param_271939.references = NULL;
    
    struct memblock ext_mem_272018;
    
    ext_mem_272018.references = NULL;
    
    struct memblock ext_mem_272019;
    
    ext_mem_272019.references = NULL;
    
    struct memblock mem_271934;
    
    mem_271934.references = NULL;
    
    struct memblock mem_272632;
    
    mem_272632.references = NULL;
    
    struct memblock mem_272619;
    
    mem_272619.references = NULL;
    
    struct memblock ext_mem_272647;
    
    ext_mem_272647.references = NULL;
    
    struct memblock ext_mem_272652;
    
    ext_mem_272652.references = NULL;
    
    struct memblock mem_272086;
    
    mem_272086.references = NULL;
    
    struct memblock mem_271700;
    
    mem_271700.references = NULL;
    
    struct memblock mem_out_273038;
    
    mem_out_273038.references = NULL;
    
    int64_t prim_out_273039;
    int64_t binop_y_271607 = (int64_t) 4 * nz2084U_226339;
    int64_t bytes_271608 = smax64((int64_t) 0, binop_y_271607);
    
    if (mem_271609_cached_sizze_273275 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271609, &mem_271609_cached_sizze_273275, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271612_cached_sizze_273276 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271612, &mem_271612_cached_sizze_273276, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271615_cached_sizze_273277 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271615, &mem_271615_cached_sizze_273277, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271618_cached_sizze_273278 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271618, &mem_271618_cached_sizze_273278, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271621_cached_sizze_273279 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271621, &mem_271621_cached_sizze_273279, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271624_cached_sizze_273280 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271624, &mem_271624_cached_sizze_273280, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271627_cached_sizze_273281 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271627, &mem_271627_cached_sizze_273281, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    float defunc_0_f_res_270581;
    float defunc_0_f_res_270582;
    float defunc_0_f_res_270583;
    float defunc_0_f_res_270584;
    float defunc_0_f_res_270585;
    float defunc_0_f_res_270586;
    float redout_270657;
    float redout_270658;
    float redout_270659;
    float redout_270660;
    float redout_270661;
    float redout_270662;
    
    redout_270657 = 0.0F;
    redout_270658 = 0.0F;
    redout_270659 = 0.0F;
    redout_270660 = 0.0F;
    redout_270661 = 0.0F;
    redout_270662 = 0.0F;
    for (int64_t i_270670 = 0; i_270670 < nz2084U_226339; i_270670++) {
        float defunc_1_f_res_253450 = ((float *) locations_mem_271605.mem)[i_270670 * (int64_t) 3];
        float defunc_1_f_res_253451 = ((float *) locations_mem_271605.mem)[i_270670 * (int64_t) 3 + (int64_t) 1];
        float defunc_1_f_res_253452 = ((float *) locations_mem_271605.mem)[i_270670 * (int64_t) 3 + (int64_t) 2];
        float quaternion_arg_253453 = ((float *) orientations_mem_271606.mem)[i_270670 * (int64_t) 4 + (int64_t) 1];
        float quaternion_arg_253454 = ((float *) orientations_mem_271606.mem)[i_270670 * (int64_t) 4 + (int64_t) 2];
        float quaternion_arg_253455 = ((float *) orientations_mem_271606.mem)[i_270670 * (int64_t) 4 + (int64_t) 3];
        float quaternion_arg_253456 = ((float *) orientations_mem_271606.mem)[i_270670 * (int64_t) 4];
        float defunc_1_f_res_248847 = fmin32(defunc_1_f_res_253450, redout_270657);
        float defunc_1_f_res_248848 = fmin32(defunc_1_f_res_253451, redout_270658);
        float defunc_1_f_res_248849 = fmin32(defunc_1_f_res_253452, redout_270659);
        float defunc_1_f_res_248832 = fmax32(defunc_1_f_res_253450, redout_270660);
        float defunc_1_f_res_248833 = fmax32(defunc_1_f_res_253451, redout_270661);
        float defunc_1_f_res_248834 = fmax32(defunc_1_f_res_253452, redout_270662);
        
        ((float *) mem_271609)[i_270670] = defunc_1_f_res_253450;
        ((float *) mem_271612)[i_270670] = defunc_1_f_res_253451;
        ((float *) mem_271615)[i_270670] = defunc_1_f_res_253452;
        ((float *) mem_271618)[i_270670] = quaternion_arg_253456;
        ((float *) mem_271621)[i_270670] = quaternion_arg_253453;
        ((float *) mem_271624)[i_270670] = quaternion_arg_253454;
        ((float *) mem_271627)[i_270670] = quaternion_arg_253455;
        
        float redout_tmp_273040 = defunc_1_f_res_248847;
        float redout_tmp_273041 = defunc_1_f_res_248848;
        float redout_tmp_273042 = defunc_1_f_res_248849;
        float redout_tmp_273043 = defunc_1_f_res_248832;
        float redout_tmp_273044 = defunc_1_f_res_248833;
        float redout_tmp_273045 = defunc_1_f_res_248834;
        
        redout_270657 = redout_tmp_273040;
        redout_270658 = redout_tmp_273041;
        redout_270659 = redout_tmp_273042;
        redout_270660 = redout_tmp_273043;
        redout_270661 = redout_tmp_273044;
        redout_270662 = redout_tmp_273045;
    }
    defunc_0_f_res_270581 = redout_270657;
    defunc_0_f_res_270582 = redout_270658;
    defunc_0_f_res_270583 = redout_270659;
    defunc_0_f_res_270584 = redout_270660;
    defunc_0_f_res_270585 = redout_270661;
    defunc_0_f_res_270586 = redout_270662;
    
    float defunc_1_f_res_249190 = z30U_226344 * z30U_226344;
    float defunc_1_f_res_249191 = z30U_226345 * z30U_226345;
    float defunc_1_f_res_249192 = z30U_226346 * z30U_226346;
    float defunc_1_f_res_249193 = defunc_1_f_res_249191 + defunc_1_f_res_249192;
    float defunc_0_f_res_249194 = defunc_1_f_res_249190 + defunc_1_f_res_249193;
    float sqrt_res_249195 = futrts_sqrt32(defunc_0_f_res_249194);
    float arg_247424 = z30U_226353 + sqrt_res_249195;
    float case_res_247426 = arg_247424 + sqrt_res_249195;
    float representativeLength_res_247422;
    
    if (z30U_226340 == (int8_t) 1) {
        representativeLength_res_247422 = case_res_247426;
    } else if (z30U_226340 == (int8_t) 2) {
        representativeLength_res_247422 = z30U_226353;
    } else {
        bool hole_c_247427;
        
        if (!0) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Reached hole of type: f32", "-> #0  potential.fut:184:32-34\n   #1  futhark_interaction.fut:52:19-45\n   #2  futhark_interaction.fut:48:1-57:17\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        representativeLength_res_247422 = z30U_226353;
    }
    
    float defunc_1_f_res_248853 = defunc_0_f_res_270584 - defunc_0_f_res_270581;
    float defunc_1_f_res_248854 = defunc_0_f_res_270585 - defunc_0_f_res_270582;
    float defunc_1_f_res_248855 = defunc_0_f_res_270586 - defunc_0_f_res_270583;
    float defunc_1_f_res_248856 = representativeLength_res_247422 + defunc_1_f_res_248853;
    float defunc_1_f_res_248857 = representativeLength_res_247422 + defunc_1_f_res_248854;
    float defunc_1_f_res_248858 = representativeLength_res_247422 + defunc_1_f_res_248855;
    float defunc_1_f_res_250576 = defunc_1_f_res_248858 * defunc_1_f_res_248858;
    float sqrt_res_250579 = futrts_sqrt32(defunc_1_f_res_250576);
    float ceil_arg_250580 = sqrt_res_250579 / representativeLength_res_247422;
    float ceil_res_250581 = futrts_ceil32(ceil_arg_250580);
    int32_t defunc_0_f_res_250582 = fptosi_f32_i32(ceil_res_250581);
    float i64_res_250587 = sitofp_i32_f32(defunc_0_f_res_250582);
    float zs_res_250588 = 1.0F / i64_res_250587;
    float defunc_1_f_res_250597 = defunc_1_f_res_248858 * zs_res_250588;
    float defunc_1_f_res_250566 = defunc_1_f_res_248857 * defunc_1_f_res_248857;
    float sqrt_res_250570 = futrts_sqrt32(defunc_1_f_res_250566);
    float ceil_arg_250571 = sqrt_res_250570 / representativeLength_res_247422;
    float ceil_res_250572 = futrts_ceil32(ceil_arg_250571);
    int32_t defunc_0_f_res_250573 = fptosi_f32_i32(ceil_res_250572);
    float i64_res_250585 = sitofp_i32_f32(defunc_0_f_res_250573);
    float zs_res_250586 = 1.0F / i64_res_250585;
    float defunc_1_f_res_250593 = defunc_1_f_res_248857 * zs_res_250586;
    float arg_250789 = defunc_1_f_res_250593 * defunc_1_f_res_250597;
    float defunc_1_f_res_250556 = defunc_1_f_res_248856 * defunc_1_f_res_248856;
    float sqrt_res_250561 = futrts_sqrt32(defunc_1_f_res_250556);
    float ceil_arg_250562 = sqrt_res_250561 / representativeLength_res_247422;
    float ceil_res_250563 = futrts_ceil32(ceil_arg_250562);
    int32_t defunc_0_f_res_250564 = fptosi_f32_i32(ceil_res_250563);
    float i64_res_250583 = sitofp_i32_f32(defunc_0_f_res_250564);
    float zs_res_250584 = 1.0F / i64_res_250583;
    float defunc_1_f_res_250589 = defunc_1_f_res_248856 * zs_res_250584;
    float defunc_1_f_res_251483 = defunc_1_f_res_250589 * arg_250789;
    float arg_250754 = defunc_1_f_res_250589 * defunc_1_f_res_250593;
    float defunc_0_f_res_251496 = arg_250754 / defunc_1_f_res_251483;
    float arg_250710 = defunc_1_f_res_250589 * defunc_1_f_res_250597;
    float defunc_0_f_res_251492 = arg_250710 / defunc_1_f_res_251483;
    float defunc_0_f_res_251488 = arg_250789 / defunc_1_f_res_251483;
    
    if (memblock_alloc(ctx, &mem_271700, bytes_271608, "mem_271700")) {
        err = 1;
        goto cleanup;
    }
    if (mem_271703_cached_sizze_273282 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271703, &mem_271703_cached_sizze_273282, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271706_cached_sizze_273283 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271706, &mem_271706_cached_sizze_273283, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271709_cached_sizze_273284 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271709, &mem_271709_cached_sizze_273284, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int32_t defunc_2_reduce_res_270594;
    int32_t redout_270682 = 0;
    
    for (int64_t i_270687 = 0; i_270687 < nz2084U_226339; i_270687++) {
        float x_253391 = ((float *) mem_271609)[i_270687];
        float x_253392 = ((float *) mem_271612)[i_270687];
        float x_253393 = ((float *) mem_271615)[i_270687];
        float defunc_1_f_res_253394 = x_253391 - defunc_0_f_res_270581;
        float defunc_1_f_res_253395 = x_253392 - defunc_0_f_res_270582;
        float defunc_1_f_res_253396 = x_253393 - defunc_0_f_res_270583;
        float defunc_1_f_res_253400 = defunc_0_f_res_251488 * defunc_1_f_res_253394;
        float defunc_1_f_res_253401 = defunc_0_f_res_251492 * defunc_1_f_res_253395;
        float defunc_1_f_res_253402 = defunc_0_f_res_251496 * defunc_1_f_res_253396;
        float defunc_0_f_res_253403 = futrts_floor32(defunc_1_f_res_253400);
        int32_t defunc_0_g_res_253404 = fptosi_f32_i32(defunc_0_f_res_253403);
        float defunc_0_f_res_253405 = futrts_floor32(defunc_1_f_res_253401);
        int32_t defunc_0_g_res_253406 = fptosi_f32_i32(defunc_0_f_res_253405);
        float defunc_0_f_res_253407 = futrts_floor32(defunc_1_f_res_253402);
        int32_t defunc_0_g_res_253408 = fptosi_f32_i32(defunc_0_f_res_253407);
        int32_t arg_253409 = mul32(defunc_0_f_res_250573, defunc_0_g_res_253404);
        int32_t arg_253410 = mul32(defunc_0_f_res_250582, arg_253409);
        int32_t arg_253411 = mul32(defunc_0_f_res_250582, defunc_0_g_res_253406);
        int32_t arg_253412 = add32(arg_253410, arg_253411);
        int32_t defunc_0_g_res_253413 = add32(defunc_0_g_res_253408, arg_253412);
        int32_t unsign_arg_251531 = umax32(defunc_0_g_res_253413, redout_270682);
        
        ((int32_t *) mem_271700.mem)[i_270687] = defunc_0_g_res_253413;
        ((float *) mem_271703)[i_270687] = defunc_1_f_res_253394;
        ((float *) mem_271706)[i_270687] = defunc_1_f_res_253395;
        ((float *) mem_271709)[i_270687] = defunc_1_f_res_253396;
        
        int32_t redout_tmp_273053 = unsign_arg_251531;
        
        redout_270682 = redout_tmp_273053;
    }
    defunc_2_reduce_res_270594 = redout_270682;
    
    float defunc_1_f_res_250598 = defunc_1_f_res_250589 * defunc_1_f_res_250589;
    float sqrt_res_250603 = futrts_sqrt32(defunc_1_f_res_250598);
    float defunc_1_f_res_250605 = defunc_1_f_res_250593 * defunc_1_f_res_250593;
    float sqrt_res_250609 = futrts_sqrt32(defunc_1_f_res_250605);
    float defunc_1_f_res_250612 = defunc_1_f_res_250597 * defunc_1_f_res_250597;
    float sqrt_res_250615 = futrts_sqrt32(defunc_1_f_res_250612);
    float defunc_0_f_res_250616 = representativeLength_res_247422 / sqrt_res_250603;
    float defunc_0_f_res_250617 = representativeLength_res_247422 / sqrt_res_250609;
    float defunc_0_f_res_250618 = representativeLength_res_247422 / sqrt_res_250615;
    float defunc_0_f_res_250619 = futrts_ceil32(defunc_0_f_res_250616);
    float defunc_0_f_res_250620 = futrts_ceil32(defunc_0_f_res_250617);
    float defunc_0_f_res_250621 = futrts_ceil32(defunc_0_f_res_250618);
    int64_t defunc_0_f_res_250622 = fptosi_f32_i64(defunc_0_f_res_250619);
    int64_t defunc_0_f_res_250623 = fptosi_f32_i64(defunc_0_f_res_250620);
    int64_t defunc_0_f_res_250624 = fptosi_f32_i64(defunc_0_f_res_250621);
    int64_t defunc_0_f_res_250625 = add64((int64_t) 1, defunc_0_f_res_250622);
    int64_t defunc_0_f_res_250626 = add64((int64_t) 1, defunc_0_f_res_250623);
    int64_t defunc_0_f_res_250627 = add64((int64_t) 1, defunc_0_f_res_250624);
    int64_t defunc_0_f_res_250628 = add64((int64_t) 2, defunc_0_f_res_250622);
    int64_t defunc_0_f_res_250629 = add64((int64_t) 2, defunc_0_f_res_250623);
    int64_t defunc_0_f_res_250630 = add64((int64_t) 2, defunc_0_f_res_250624);
    int64_t nnzq_250631 = add64(defunc_0_f_res_250626, defunc_0_f_res_250629);
    int64_t range_start_250632 = sub64((int64_t) 0, defunc_0_f_res_250625);
    bool bounds_invalid_upwards_250633 = slt64(defunc_0_f_res_250628, range_start_250632);
    int64_t distance_250634 = sub64(defunc_0_f_res_250628, range_start_250632);
    bool valid_250635 = !bounds_invalid_upwards_250633;
    bool range_valid_c_250636;
    
    if (!valid_250635) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) range_start_250632, "..<", (long long) defunc_0_f_res_250628, " is invalid.", "-> #0  associations.fut:81:22-28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t range_start_250638 = sub64((int64_t) 0, defunc_0_f_res_250626);
    bool bounds_invalid_upwards_250639 = slt64(defunc_0_f_res_250629, range_start_250638);
    int64_t distance_250640 = sub64(defunc_0_f_res_250629, range_start_250638);
    bool valid_250641 = !bounds_invalid_upwards_250639;
    bool range_valid_c_250642;
    
    if (!valid_250641) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) range_start_250638, "..<", (long long) defunc_0_f_res_250629, " is invalid.", "-> #0  associations.fut:80:22-28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_250644 = slt64(defunc_0_f_res_250630, (int64_t) 1);
    int64_t distance_250645 = sub64(defunc_0_f_res_250630, (int64_t) 1);
    bool valid_250646 = !bounds_invalid_upwards_250644;
    bool range_valid_c_250647;
    
    if (!valid_250646) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) defunc_0_f_res_250630, " is invalid.", "-> #0  associations.fut:79:22-27\n   #1  associations.fut:78:43-80:29\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_250648 = defunc_0_f_res_250627 == distance_250645;
    bool empty_or_match_cert_250649;
    
    if (!dim_match_250648) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (core language) shape (", (long long) distance_250645, ") cannot match shape of type `[", (long long) defunc_0_f_res_250627, "](i64, i64, i64)`.", "-> #0  associations.fut:78:54-79:49\n   #1  associations.fut:78:43-80:29\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_x_271750 = defunc_0_f_res_250627 * distance_250640;
    int64_t binop_y_271751 = (int64_t) 8 * binop_x_271750;
    int64_t bytes_271752 = smax64((int64_t) 0, binop_y_271751);
    
    if (mem_271753_cached_sizze_273285 < bytes_271752) {
        err = lexical_realloc(ctx, &mem_271753, &mem_271753_cached_sizze_273285, bytes_271752);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270694 = 0; i_270694 < distance_250640; i_270694++) {
        int64_t index_primexp_271439 = add64(range_start_250638, i_270694);
        
        for (int64_t i_273059 = 0; i_273059 < defunc_0_f_res_250627; i_273059++) {
            ((int64_t *) mem_271753)[i_270694 * defunc_0_f_res_250627 + i_273059] = index_primexp_271439;
        }
    }
    
    bool dim_match_250654 = nnzq_250631 == distance_250640;
    bool empty_or_match_cert_250655;
    
    if (!dim_match_250654) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (core language) shape (", (long long) distance_250640, ", ", (long long) defunc_0_f_res_250627, ") cannot match shape of type `[", (long long) nnzq_250631, "][", (long long) defunc_0_f_res_250627, "](i64, i64, i64)`.", "-> #0  associations.fut:78:43-80:56\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_250669 = slt64(defunc_0_f_res_250629, (int64_t) 1);
    bool valid_250671 = !bounds_invalid_upwards_250669;
    bool range_valid_c_250672;
    
    if (!valid_250671) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) defunc_0_f_res_250629, " is invalid.", "-> #0  associations.fut:76:22-27\n   #1  associations.fut:75:29-77:29\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t distance_250670 = sub64(defunc_0_f_res_250629, (int64_t) 1);
    bool dim_match_250673 = defunc_0_f_res_250626 == distance_250670;
    bool empty_or_match_cert_250674;
    
    if (!dim_match_250673) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (core language) shape (", (long long) distance_250670, ") cannot match shape of type `[", (long long) defunc_0_f_res_250626, "](i64, i64, i64)`.", "-> #0  associations.fut:75:40-76:49\n   #1  associations.fut:75:29-77:29\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_x_271773 = defunc_0_f_res_250626 * distance_250634;
    int64_t binop_y_271774 = (int64_t) 8 * binop_x_271773;
    int64_t bytes_271775 = smax64((int64_t) 0, binop_y_271774);
    
    if (mem_271776_cached_sizze_273286 < bytes_271775) {
        err = lexical_realloc(ctx, &mem_271776, &mem_271776_cached_sizze_273286, bytes_271775);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t binop_x_271777 = nnzq_250631 * distance_250634;
    int64_t binop_x_271778 = defunc_0_f_res_250627 * binop_x_271777;
    int64_t binop_y_271779 = (int64_t) 8 * binop_x_271778;
    int64_t bytes_271780 = smax64((int64_t) 0, binop_y_271779);
    
    if (mem_271781_cached_sizze_273287 < bytes_271780) {
        err = lexical_realloc(ctx, &mem_271781, &mem_271781_cached_sizze_273287, bytes_271780);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t ixfun_arg_271801 = defunc_0_f_res_250627 * nnzq_250631;
    
    for (int64_t i_270700 = 0; i_270700 < distance_250634; i_270700++) {
        int64_t index_primexp_271437 = add64(range_start_250632, i_270700);
        
        for (int64_t i_273062 = 0; i_273062 < nnzq_250631; i_273062++) {
            for (int64_t i_273063 = 0; i_273063 < defunc_0_f_res_250627; i_273063++) {
                ((int64_t *) mem_271781)[i_270700 * ixfun_arg_271801 + (i_273062 * defunc_0_f_res_250627 + i_273063)] = index_primexp_271437;
            }
        }
        for (int64_t i_273064 = 0; i_273064 < defunc_0_f_res_250626; i_273064++) {
            ((int64_t *) mem_271776)[i_270700 * defunc_0_f_res_250626 + i_273064] = index_primexp_271437;
        }
    }
    
    bool bounds_invalid_upwards_250685 = slt64(defunc_0_f_res_250628, (int64_t) 1);
    int64_t distance_250686 = sub64(defunc_0_f_res_250628, (int64_t) 1);
    bool valid_250687 = !bounds_invalid_upwards_250685;
    bool range_valid_c_250688;
    
    if (!valid_250687) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) defunc_0_f_res_250628, " is invalid.", "-> #0  associations.fut:74:40-45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t conc_tmp_250691 = distance_250686 + binop_x_271773;
    int64_t conc_tmp_250692 = conc_tmp_250691 + binop_x_271778;
    float defunc_0_f_res_250697 = 0.0F - defunc_1_f_res_250589;
    float defunc_0_f_res_250701 = 0.0F - defunc_1_f_res_250593;
    float defunc_0_f_res_250705 = 0.0F - defunc_1_f_res_250597;
    float arg_250706 = representativeLength_res_247422 * representativeLength_res_247422;
    float arg_250719 = defunc_1_f_res_250597 * arg_250710;
    float arg_250728 = defunc_1_f_res_250589 * arg_250710;
    float defunc_1_f_res_250735 = defunc_1_f_res_250589 * arg_250719;
    float defunc_0_f_res_250740 = arg_250719 / defunc_1_f_res_250735;
    float defunc_0_f_res_250744 = arg_250710 / defunc_1_f_res_250735;
    float defunc_0_f_res_250745 = arg_250728 / defunc_1_f_res_250735;
    float arg_250757 = defunc_1_f_res_250593 * arg_250754;
    float arg_250766 = defunc_1_f_res_250589 * arg_250754;
    float defunc_1_f_res_250775 = defunc_1_f_res_250589 * arg_250757;
    float defunc_0_f_res_250780 = arg_250757 / defunc_1_f_res_250775;
    float defunc_0_f_res_250784 = arg_250766 / defunc_1_f_res_250775;
    float defunc_0_f_res_250788 = arg_250754 / defunc_1_f_res_250775;
    float arg_250804 = defunc_1_f_res_250597 * arg_250789;
    float arg_250813 = defunc_1_f_res_250593 * arg_250789;
    float defunc_1_f_res_250818 = arg_250789 * arg_250789;
    float defunc_0_f_res_250823 = arg_250789 / defunc_1_f_res_250818;
    float defunc_0_f_res_250824 = arg_250804 / defunc_1_f_res_250818;
    float defunc_0_f_res_250828 = arg_250813 / defunc_1_f_res_250818;
    int64_t binop_y_271828 = (int64_t) 8 * conc_tmp_250692;
    int64_t bytes_271829 = smax64((int64_t) 0, binop_y_271828);
    
    if (mem_271830_cached_sizze_273288 < bytes_271829) {
        err = lexical_realloc(ctx, &mem_271830, &mem_271830_cached_sizze_273288, bytes_271829);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271833_cached_sizze_273289 < bytes_271829) {
        err = lexical_realloc(ctx, &mem_271833, &mem_271833_cached_sizze_273289, bytes_271829);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t discard_270711;
    int64_t scanacc_270705 = (int64_t) 0;
    
    for (int64_t i_270708 = 0; i_270708 < conc_tmp_250692; i_270708++) {
        bool index_concat_cmp_271427 = sle64(conc_tmp_250691, i_270708);
        int64_t index_concat_branch_271435;
        
        if (index_concat_cmp_271427 == 1) {
            int64_t index_concat_i_271428 = sub64(i_270708, conc_tmp_250691);
            int64_t new_index_271542 = squot64(index_concat_i_271428, ixfun_arg_271801);
            int64_t binop_y_271546 = new_index_271542 * ixfun_arg_271801;
            int64_t binop_x_271547 = index_concat_i_271428 - binop_y_271546;
            int64_t new_index_271548 = squot64(binop_x_271547, defunc_0_f_res_250627);
            int64_t binop_y_271560 = defunc_0_f_res_250627 * new_index_271548;
            int64_t new_index_271561 = binop_x_271547 - binop_y_271560;
            int64_t index_concat_271429 = ((int64_t *) mem_271781)[new_index_271542 * ixfun_arg_271801 + new_index_271548 * defunc_0_f_res_250627 + new_index_271561];
            
            index_concat_branch_271435 = index_concat_271429;
        } else {
            bool index_concat_cmp_271430 = sle64(distance_250686, i_270708);
            int64_t index_concat_branch_271434;
            
            if (index_concat_cmp_271430 == 1) {
                int64_t index_concat_i_271431 = sub64(i_270708, distance_250686);
                int64_t new_index_271562 = squot64(index_concat_i_271431, defunc_0_f_res_250626);
                int64_t binop_y_271564 = defunc_0_f_res_250626 * new_index_271562;
                int64_t new_index_271565 = index_concat_i_271431 - binop_y_271564;
                int64_t index_concat_271432 = ((int64_t *) mem_271776)[new_index_271562 * defunc_0_f_res_250626 + new_index_271565];
                
                index_concat_branch_271434 = index_concat_271432;
            } else {
                int64_t index_primexp_271567 = add64((int64_t) 1, i_270708);
                
                index_concat_branch_271434 = index_primexp_271567;
            }
            index_concat_branch_271435 = index_concat_branch_271434;
        }
        
        int64_t index_concat_branch_271424;
        
        if (index_concat_cmp_271427 == 1) {
            int64_t index_concat_i_271417 = sub64(i_270708, conc_tmp_250691);
            int64_t binop_x_271517 = squot64(index_concat_i_271417, ixfun_arg_271801);
            int64_t binop_y_271519 = binop_x_271517 * ixfun_arg_271801;
            int64_t binop_x_271520 = index_concat_i_271417 - binop_y_271519;
            int64_t new_index_271521 = squot64(binop_x_271520, defunc_0_f_res_250627);
            int64_t binop_y_271533 = defunc_0_f_res_250627 * new_index_271521;
            int64_t new_index_271534 = binop_x_271520 - binop_y_271533;
            int64_t index_concat_271418 = ((int64_t *) mem_271753)[new_index_271521 * defunc_0_f_res_250627 + new_index_271534];
            
            index_concat_branch_271424 = index_concat_271418;
        } else {
            bool index_concat_cmp_271419 = sle64(distance_250686, i_270708);
            int64_t index_concat_branch_271423;
            
            if (index_concat_cmp_271419 == 1) {
                int64_t index_concat_i_271420 = sub64(i_270708, distance_250686);
                int64_t binop_x_271536 = squot64(index_concat_i_271420, defunc_0_f_res_250626);
                int64_t binop_y_271537 = defunc_0_f_res_250626 * binop_x_271536;
                int64_t new_index_271538 = index_concat_i_271420 - binop_y_271537;
                int64_t index_primexp_271540 = add64((int64_t) 1, new_index_271538);
                
                index_concat_branch_271423 = index_primexp_271540;
            } else {
                index_concat_branch_271423 = (int64_t) 0;
            }
            index_concat_branch_271424 = index_concat_branch_271423;
        }
        
        int64_t index_concat_branch_271413;
        
        if (index_concat_cmp_271427 == 1) {
            int64_t index_concat_i_271410 = sub64(i_270708, conc_tmp_250691);
            int64_t binop_x_271509 = squot64(index_concat_i_271410, defunc_0_f_res_250627);
            int64_t binop_y_271510 = defunc_0_f_res_250627 * binop_x_271509;
            int64_t new_index_271511 = index_concat_i_271410 - binop_y_271510;
            int64_t index_primexp_271513 = add64((int64_t) 1, new_index_271511);
            
            index_concat_branch_271413 = index_primexp_271513;
        } else {
            index_concat_branch_271413 = (int64_t) 0;
        }
        
        float defunc_0_f_res_253156 = sitofp_i64_f32(index_concat_branch_271435);
        float defunc_0_f_res_253157 = sitofp_i64_f32(index_concat_branch_271424);
        float defunc_0_f_res_253158 = sitofp_i64_f32(index_concat_branch_271413);
        float defunc_1_f_res_253159 = defunc_1_f_res_250589 * defunc_0_f_res_253156;
        float defunc_1_f_res_253160 = defunc_1_f_res_250593 * defunc_0_f_res_253157;
        float defunc_1_f_res_253161 = defunc_1_f_res_250597 * defunc_0_f_res_253158;
        float defunc_1_f_res_253162 = defunc_1_f_res_253160 - defunc_0_f_res_250701;
        float defunc_1_f_res_253163 = defunc_0_f_res_250745 * defunc_1_f_res_253161;
        float defunc_1_f_res_253164 = defunc_0_f_res_250740 * defunc_1_f_res_253159;
        float defunc_1_f_res_253165 = defunc_0_f_res_250744 * defunc_1_f_res_253162;
        bool cond_253166 = -1.0F < defunc_1_f_res_253163;
        bool cond_t_res_253167 = defunc_1_f_res_253163 < 1.0F;
        bool x_253168 = cond_253166 && cond_t_res_253167;
        bool cond_t_res_253169 = -1.0F < defunc_1_f_res_253164;
        bool x_253170 = x_253168 && cond_t_res_253169;
        bool cond_t_res_253171 = defunc_1_f_res_253164 < 1.0F;
        bool x_253172 = x_253170 && cond_t_res_253171;
        float planeDD_res_253173;
        
        if (x_253172 == 1) {
            float arg_268445 = defunc_1_f_res_253165 * defunc_1_f_res_253165;
            float defunc_1_f_res_268446 = arg_250710 * arg_250710;
            float planeDD_res_t_res_268447 = arg_268445 * defunc_1_f_res_268446;
            
            planeDD_res_253173 = planeDD_res_t_res_268447;
        } else {
            planeDD_res_253173 = INFINITY;
        }
        
        float defunc_1_f_res_253177 = defunc_1_f_res_253160 - defunc_1_f_res_250593;
        float defunc_1_f_res_253178 = defunc_0_f_res_250744 * defunc_1_f_res_253177;
        float planeDD_res_253179;
        
        if (x_253172 == 1) {
            float arg_268448 = defunc_1_f_res_253178 * defunc_1_f_res_253178;
            float defunc_1_f_res_268449 = arg_250710 * arg_250710;
            float planeDD_res_t_res_268450 = arg_268448 * defunc_1_f_res_268449;
            
            planeDD_res_253179 = planeDD_res_t_res_268450;
        } else {
            planeDD_res_253179 = INFINITY;
        }
        
        float defunc_1_f_res_253183 = defunc_1_f_res_253161 - defunc_0_f_res_250705;
        float defunc_1_f_res_253184 = defunc_0_f_res_250780 * defunc_1_f_res_253159;
        float defunc_1_f_res_253185 = defunc_0_f_res_250784 * defunc_1_f_res_253160;
        float defunc_1_f_res_253186 = defunc_0_f_res_250788 * defunc_1_f_res_253183;
        bool cond_253187 = -1.0F < defunc_1_f_res_253184;
        bool cond_t_res_253188 = defunc_1_f_res_253184 < 1.0F;
        bool x_253189 = cond_253187 && cond_t_res_253188;
        bool cond_t_res_253190 = -1.0F < defunc_1_f_res_253185;
        bool x_253191 = x_253189 && cond_t_res_253190;
        bool cond_t_res_253192 = defunc_1_f_res_253185 < 1.0F;
        bool x_253193 = x_253191 && cond_t_res_253192;
        float planeDD_res_253194;
        
        if (x_253193 == 1) {
            float arg_268451 = defunc_1_f_res_253186 * defunc_1_f_res_253186;
            float defunc_1_f_res_268452 = arg_250754 * arg_250754;
            float planeDD_res_t_res_268453 = arg_268451 * defunc_1_f_res_268452;
            
            planeDD_res_253194 = planeDD_res_t_res_268453;
        } else {
            planeDD_res_253194 = INFINITY;
        }
        
        float defunc_1_f_res_253198 = defunc_1_f_res_253161 - defunc_1_f_res_250597;
        float defunc_1_f_res_253199 = defunc_0_f_res_250788 * defunc_1_f_res_253198;
        float planeDD_res_253200;
        
        if (x_253193 == 1) {
            float arg_268454 = defunc_1_f_res_253199 * defunc_1_f_res_253199;
            float defunc_1_f_res_268455 = arg_250754 * arg_250754;
            float planeDD_res_t_res_268456 = arg_268454 * defunc_1_f_res_268455;
            
            planeDD_res_253200 = planeDD_res_t_res_268456;
        } else {
            planeDD_res_253200 = INFINITY;
        }
        
        float defunc_1_f_res_253204 = defunc_1_f_res_253159 - defunc_0_f_res_250697;
        float defunc_1_f_res_253205 = defunc_0_f_res_250824 * defunc_1_f_res_253160;
        float defunc_1_f_res_253206 = defunc_0_f_res_250828 * defunc_1_f_res_253161;
        float defunc_1_f_res_253207 = defunc_0_f_res_250823 * defunc_1_f_res_253204;
        bool cond_253208 = -1.0F < defunc_1_f_res_253205;
        bool cond_t_res_253209 = defunc_1_f_res_253205 < 1.0F;
        bool x_253210 = cond_253208 && cond_t_res_253209;
        bool cond_t_res_253211 = -1.0F < defunc_1_f_res_253206;
        bool x_253212 = x_253210 && cond_t_res_253211;
        bool cond_t_res_253213 = defunc_1_f_res_253206 < 1.0F;
        bool x_253214 = x_253212 && cond_t_res_253213;
        float planeDD_res_253215;
        
        if (x_253214 == 1) {
            float arg_268457 = defunc_1_f_res_253207 * defunc_1_f_res_253207;
            float planeDD_res_t_res_268459 = defunc_1_f_res_250818 * arg_268457;
            
            planeDD_res_253215 = planeDD_res_t_res_268459;
        } else {
            planeDD_res_253215 = INFINITY;
        }
        
        float defunc_1_f_res_253219 = defunc_1_f_res_253159 - defunc_1_f_res_250589;
        float defunc_1_f_res_253220 = defunc_0_f_res_250823 * defunc_1_f_res_253219;
        float planeDD_res_253221;
        
        if (x_253214 == 1) {
            float arg_268460 = defunc_1_f_res_253220 * defunc_1_f_res_253220;
            float planeDD_res_t_res_268462 = defunc_1_f_res_250818 * arg_268460;
            
            planeDD_res_253221 = planeDD_res_t_res_268462;
        } else {
            planeDD_res_253221 = INFINITY;
        }
        
        float defunc_1_f_res_253225 = defunc_1_f_res_250589 * defunc_1_f_res_253159;
        float a_253226 = defunc_1_f_res_253225 / defunc_1_f_res_250598;
        bool cond_253227 = -1.0F < a_253226;
        bool cond_t_res_253228 = a_253226 < 1.0F;
        bool x_253229 = cond_253227 && cond_t_res_253228;
        float edgeDD_res_253230;
        
        if (x_253229 == 1) {
            float defunc_0_f_res_268463 = defunc_1_f_res_250589 * a_253226;
            float defunc_1_f_res_268464 = defunc_1_f_res_253159 - defunc_0_f_res_268463;
            float defunc_1_f_res_268465 = defunc_1_f_res_268464 * defunc_1_f_res_268464;
            float defunc_1_f_res_268466 = defunc_1_f_res_253162 * defunc_1_f_res_253162;
            float defunc_1_f_res_268467 = defunc_1_f_res_253183 * defunc_1_f_res_253183;
            float defunc_1_f_res_268468 = defunc_1_f_res_268466 + defunc_1_f_res_268467;
            float defunc_0_f_res_268469 = defunc_1_f_res_268465 + defunc_1_f_res_268468;
            
            edgeDD_res_253230 = defunc_0_f_res_268469;
        } else {
            edgeDD_res_253230 = INFINITY;
        }
        
        float edgeDD_res_253238;
        
        if (x_253229 == 1) {
            float defunc_0_f_res_268470 = defunc_1_f_res_250589 * a_253226;
            float defunc_1_f_res_268471 = defunc_1_f_res_253159 - defunc_0_f_res_268470;
            float defunc_1_f_res_268472 = defunc_1_f_res_268471 * defunc_1_f_res_268471;
            float defunc_1_f_res_268473 = defunc_1_f_res_253177 * defunc_1_f_res_253177;
            float defunc_1_f_res_268474 = defunc_1_f_res_253183 * defunc_1_f_res_253183;
            float defunc_1_f_res_268475 = defunc_1_f_res_268473 + defunc_1_f_res_268474;
            float defunc_0_f_res_268476 = defunc_1_f_res_268472 + defunc_1_f_res_268475;
            
            edgeDD_res_253238 = defunc_0_f_res_268476;
        } else {
            edgeDD_res_253238 = INFINITY;
        }
        
        float edgeDD_res_253246;
        
        if (x_253229 == 1) {
            float defunc_0_f_res_268477 = defunc_1_f_res_250589 * a_253226;
            float defunc_1_f_res_268478 = defunc_1_f_res_253159 - defunc_0_f_res_268477;
            float defunc_1_f_res_268479 = defunc_1_f_res_268478 * defunc_1_f_res_268478;
            float defunc_1_f_res_268480 = defunc_1_f_res_253162 * defunc_1_f_res_253162;
            float defunc_1_f_res_268481 = defunc_1_f_res_253198 * defunc_1_f_res_253198;
            float defunc_1_f_res_268482 = defunc_1_f_res_268480 + defunc_1_f_res_268481;
            float defunc_0_f_res_268483 = defunc_1_f_res_268479 + defunc_1_f_res_268482;
            
            edgeDD_res_253246 = defunc_0_f_res_268483;
        } else {
            edgeDD_res_253246 = INFINITY;
        }
        
        float edgeDD_res_253254;
        
        if (x_253229 == 1) {
            float defunc_0_f_res_268484 = defunc_1_f_res_250589 * a_253226;
            float defunc_1_f_res_268485 = defunc_1_f_res_253159 - defunc_0_f_res_268484;
            float defunc_1_f_res_268486 = defunc_1_f_res_268485 * defunc_1_f_res_268485;
            float defunc_1_f_res_268487 = defunc_1_f_res_253177 * defunc_1_f_res_253177;
            float defunc_1_f_res_268488 = defunc_1_f_res_253198 * defunc_1_f_res_253198;
            float defunc_1_f_res_268489 = defunc_1_f_res_268487 + defunc_1_f_res_268488;
            float defunc_0_f_res_268490 = defunc_1_f_res_268486 + defunc_1_f_res_268489;
            
            edgeDD_res_253254 = defunc_0_f_res_268490;
        } else {
            edgeDD_res_253254 = INFINITY;
        }
        
        float defunc_1_f_res_253262 = defunc_1_f_res_250593 * defunc_1_f_res_253160;
        float a_253263 = defunc_1_f_res_253262 / defunc_1_f_res_250605;
        bool cond_253264 = -1.0F < a_253263;
        bool cond_t_res_253265 = a_253263 < 1.0F;
        bool x_253266 = cond_253264 && cond_t_res_253265;
        float edgeDD_res_253267;
        
        if (x_253266 == 1) {
            float defunc_0_f_res_268491 = defunc_1_f_res_250593 * a_253263;
            float defunc_1_f_res_268492 = defunc_1_f_res_253160 - defunc_0_f_res_268491;
            float defunc_1_f_res_268493 = defunc_1_f_res_253204 * defunc_1_f_res_253204;
            float defunc_1_f_res_268494 = defunc_1_f_res_268492 * defunc_1_f_res_268492;
            float defunc_1_f_res_268495 = defunc_1_f_res_253183 * defunc_1_f_res_253183;
            float defunc_1_f_res_268496 = defunc_1_f_res_268494 + defunc_1_f_res_268495;
            float defunc_0_f_res_268497 = defunc_1_f_res_268493 + defunc_1_f_res_268496;
            
            edgeDD_res_253267 = defunc_0_f_res_268497;
        } else {
            edgeDD_res_253267 = INFINITY;
        }
        
        float edgeDD_res_253275;
        
        if (x_253266 == 1) {
            float defunc_0_f_res_268498 = defunc_1_f_res_250593 * a_253263;
            float defunc_1_f_res_268499 = defunc_1_f_res_253160 - defunc_0_f_res_268498;
            float defunc_1_f_res_268500 = defunc_1_f_res_253204 * defunc_1_f_res_253204;
            float defunc_1_f_res_268501 = defunc_1_f_res_268499 * defunc_1_f_res_268499;
            float defunc_1_f_res_268502 = defunc_1_f_res_253198 * defunc_1_f_res_253198;
            float defunc_1_f_res_268503 = defunc_1_f_res_268501 + defunc_1_f_res_268502;
            float defunc_0_f_res_268504 = defunc_1_f_res_268500 + defunc_1_f_res_268503;
            
            edgeDD_res_253275 = defunc_0_f_res_268504;
        } else {
            edgeDD_res_253275 = INFINITY;
        }
        
        float edgeDD_res_253283;
        
        if (x_253266 == 1) {
            float defunc_0_f_res_268505 = defunc_1_f_res_250593 * a_253263;
            float defunc_1_f_res_268506 = defunc_1_f_res_253160 - defunc_0_f_res_268505;
            float defunc_1_f_res_268507 = defunc_1_f_res_253219 * defunc_1_f_res_253219;
            float defunc_1_f_res_268508 = defunc_1_f_res_268506 * defunc_1_f_res_268506;
            float defunc_1_f_res_268509 = defunc_1_f_res_253183 * defunc_1_f_res_253183;
            float defunc_1_f_res_268510 = defunc_1_f_res_268508 + defunc_1_f_res_268509;
            float defunc_0_f_res_268511 = defunc_1_f_res_268507 + defunc_1_f_res_268510;
            
            edgeDD_res_253283 = defunc_0_f_res_268511;
        } else {
            edgeDD_res_253283 = INFINITY;
        }
        
        float edgeDD_res_253291;
        
        if (x_253266 == 1) {
            float defunc_0_f_res_268512 = defunc_1_f_res_250593 * a_253263;
            float defunc_1_f_res_268513 = defunc_1_f_res_253160 - defunc_0_f_res_268512;
            float defunc_1_f_res_268514 = defunc_1_f_res_253219 * defunc_1_f_res_253219;
            float defunc_1_f_res_268515 = defunc_1_f_res_268513 * defunc_1_f_res_268513;
            float defunc_1_f_res_268516 = defunc_1_f_res_253198 * defunc_1_f_res_253198;
            float defunc_1_f_res_268517 = defunc_1_f_res_268515 + defunc_1_f_res_268516;
            float defunc_0_f_res_268518 = defunc_1_f_res_268514 + defunc_1_f_res_268517;
            
            edgeDD_res_253291 = defunc_0_f_res_268518;
        } else {
            edgeDD_res_253291 = INFINITY;
        }
        
        float defunc_1_f_res_253299 = defunc_1_f_res_250597 * defunc_1_f_res_253161;
        float a_253300 = defunc_1_f_res_253299 / defunc_1_f_res_250612;
        bool cond_253301 = -1.0F < a_253300;
        bool cond_t_res_253302 = a_253300 < 1.0F;
        bool x_253303 = cond_253301 && cond_t_res_253302;
        float edgeDD_res_253304;
        
        if (x_253303 == 1) {
            float defunc_0_f_res_268519 = defunc_1_f_res_250597 * a_253300;
            float defunc_1_f_res_268520 = defunc_1_f_res_253161 - defunc_0_f_res_268519;
            float defunc_1_f_res_268521 = defunc_1_f_res_253204 * defunc_1_f_res_253204;
            float defunc_1_f_res_268522 = defunc_1_f_res_253162 * defunc_1_f_res_253162;
            float defunc_1_f_res_268523 = defunc_1_f_res_268520 * defunc_1_f_res_268520;
            float defunc_1_f_res_268524 = defunc_1_f_res_268522 + defunc_1_f_res_268523;
            float defunc_0_f_res_268525 = defunc_1_f_res_268521 + defunc_1_f_res_268524;
            
            edgeDD_res_253304 = defunc_0_f_res_268525;
        } else {
            edgeDD_res_253304 = INFINITY;
        }
        
        float edgeDD_res_253312;
        
        if (x_253303 == 1) {
            float defunc_0_f_res_268526 = defunc_1_f_res_250597 * a_253300;
            float defunc_1_f_res_268527 = defunc_1_f_res_253161 - defunc_0_f_res_268526;
            float defunc_1_f_res_268528 = defunc_1_f_res_253219 * defunc_1_f_res_253219;
            float defunc_1_f_res_268529 = defunc_1_f_res_253162 * defunc_1_f_res_253162;
            float defunc_1_f_res_268530 = defunc_1_f_res_268527 * defunc_1_f_res_268527;
            float defunc_1_f_res_268531 = defunc_1_f_res_268529 + defunc_1_f_res_268530;
            float defunc_0_f_res_268532 = defunc_1_f_res_268528 + defunc_1_f_res_268531;
            
            edgeDD_res_253312 = defunc_0_f_res_268532;
        } else {
            edgeDD_res_253312 = INFINITY;
        }
        
        float edgeDD_res_253320;
        
        if (x_253303 == 1) {
            float defunc_0_f_res_268533 = defunc_1_f_res_250597 * a_253300;
            float defunc_1_f_res_268534 = defunc_1_f_res_253161 - defunc_0_f_res_268533;
            float defunc_1_f_res_268535 = defunc_1_f_res_253204 * defunc_1_f_res_253204;
            float defunc_1_f_res_268536 = defunc_1_f_res_253177 * defunc_1_f_res_253177;
            float defunc_1_f_res_268537 = defunc_1_f_res_268534 * defunc_1_f_res_268534;
            float defunc_1_f_res_268538 = defunc_1_f_res_268536 + defunc_1_f_res_268537;
            float defunc_0_f_res_268539 = defunc_1_f_res_268535 + defunc_1_f_res_268538;
            
            edgeDD_res_253320 = defunc_0_f_res_268539;
        } else {
            edgeDD_res_253320 = INFINITY;
        }
        
        float edgeDD_res_253328;
        
        if (x_253303 == 1) {
            float defunc_0_f_res_268540 = defunc_1_f_res_250597 * a_253300;
            float defunc_1_f_res_268541 = defunc_1_f_res_253161 - defunc_0_f_res_268540;
            float defunc_1_f_res_268542 = defunc_1_f_res_253219 * defunc_1_f_res_253219;
            float defunc_1_f_res_268543 = defunc_1_f_res_253177 * defunc_1_f_res_253177;
            float defunc_1_f_res_268544 = defunc_1_f_res_268541 * defunc_1_f_res_268541;
            float defunc_1_f_res_268545 = defunc_1_f_res_268543 + defunc_1_f_res_268544;
            float defunc_0_f_res_268546 = defunc_1_f_res_268542 + defunc_1_f_res_268545;
            
            edgeDD_res_253328 = defunc_0_f_res_268546;
        } else {
            edgeDD_res_253328 = INFINITY;
        }
        
        float defunc_1_f_res_253336 = defunc_1_f_res_253204 * defunc_1_f_res_253204;
        float defunc_1_f_res_253337 = defunc_1_f_res_253162 * defunc_1_f_res_253162;
        float defunc_1_f_res_253338 = defunc_1_f_res_253183 * defunc_1_f_res_253183;
        float defunc_1_f_res_253339 = defunc_1_f_res_253337 + defunc_1_f_res_253338;
        float defunc_0_f_res_253340 = defunc_1_f_res_253336 + defunc_1_f_res_253339;
        float defunc_1_f_res_253341 = defunc_1_f_res_253219 * defunc_1_f_res_253219;
        float defunc_0_f_res_253342 = defunc_1_f_res_253339 + defunc_1_f_res_253341;
        float defunc_1_f_res_253343 = defunc_1_f_res_253177 * defunc_1_f_res_253177;
        float defunc_1_f_res_253344 = defunc_1_f_res_253338 + defunc_1_f_res_253343;
        float defunc_0_f_res_253345 = defunc_1_f_res_253336 + defunc_1_f_res_253344;
        float defunc_0_f_res_253346 = defunc_1_f_res_253341 + defunc_1_f_res_253344;
        float defunc_1_f_res_253347 = defunc_1_f_res_253198 * defunc_1_f_res_253198;
        float defunc_1_f_res_253348 = defunc_1_f_res_253337 + defunc_1_f_res_253347;
        float defunc_0_f_res_253349 = defunc_1_f_res_253336 + defunc_1_f_res_253348;
        float defunc_0_f_res_253350 = defunc_1_f_res_253341 + defunc_1_f_res_253348;
        float defunc_1_f_res_253351 = defunc_1_f_res_253343 + defunc_1_f_res_253347;
        float defunc_0_f_res_253352 = defunc_1_f_res_253336 + defunc_1_f_res_253351;
        float defunc_0_f_res_253353 = defunc_1_f_res_253341 + defunc_1_f_res_253351;
        float min_res_253354 = fmin32(INFINITY, defunc_0_f_res_253353);
        float min_res_253355 = fmin32(defunc_0_f_res_253352, min_res_253354);
        float min_res_253356 = fmin32(defunc_0_f_res_253350, min_res_253355);
        float min_res_253357 = fmin32(defunc_0_f_res_253349, min_res_253356);
        float min_res_253358 = fmin32(defunc_0_f_res_253346, min_res_253357);
        float min_res_253359 = fmin32(defunc_0_f_res_253345, min_res_253358);
        float min_res_253360 = fmin32(defunc_0_f_res_253342, min_res_253359);
        float min_res_253361 = fmin32(defunc_0_f_res_253340, min_res_253360);
        float min_res_253362 = fmin32(edgeDD_res_253328, min_res_253361);
        float min_res_253363 = fmin32(edgeDD_res_253320, min_res_253362);
        float min_res_253364 = fmin32(edgeDD_res_253312, min_res_253363);
        float min_res_253365 = fmin32(edgeDD_res_253304, min_res_253364);
        float min_res_253366 = fmin32(edgeDD_res_253291, min_res_253365);
        float min_res_253367 = fmin32(edgeDD_res_253283, min_res_253366);
        float min_res_253368 = fmin32(edgeDD_res_253275, min_res_253367);
        float min_res_253369 = fmin32(edgeDD_res_253267, min_res_253368);
        float min_res_253370 = fmin32(edgeDD_res_253254, min_res_253369);
        float min_res_253371 = fmin32(edgeDD_res_253246, min_res_253370);
        float min_res_253372 = fmin32(edgeDD_res_253238, min_res_253371);
        float min_res_253373 = fmin32(edgeDD_res_253230, min_res_253372);
        float min_res_253374 = fmin32(planeDD_res_253221, min_res_253373);
        float min_res_253375 = fmin32(planeDD_res_253215, min_res_253374);
        float min_res_253376 = fmin32(planeDD_res_253200, min_res_253375);
        float min_res_253377 = fmin32(planeDD_res_253194, min_res_253376);
        float min_res_253378 = fmin32(planeDD_res_253179, min_res_253377);
        float min_res_253379 = fmin32(planeDD_res_253173, min_res_253378);
        bool not_arg_253380 = arg_250706 < min_res_253379;
        int64_t defunc_1_lifted_lambda_res_253381 = btoi_bool_i64(not_arg_253380);
        bool is_i_253382 = defunc_1_lifted_lambda_res_253381 == (int64_t) 0;
        bool cond_neg_253383 = !is_i_253382;
        int64_t part_res_253384 = btoi_bool_i64(cond_neg_253383);
        int64_t part_res_253385 = btoi_bool_i64(is_i_253382);
        int64_t zz_251438 = part_res_253385 + scanacc_270705;
        
        ((int64_t *) mem_271830)[i_270708] = zz_251438;
        ((int64_t *) mem_271833)[i_270708] = part_res_253384;
        
        int64_t scanacc_tmp_273065 = zz_251438;
        
        scanacc_270705 = scanacc_tmp_273065;
    }
    discard_270711 = scanacc_270705;
    
    int64_t last_index_251440 = conc_tmp_250692 - (int64_t) 1;
    bool is_empty_251441 = conc_tmp_250692 == (int64_t) 0;
    bool x_251442 = !is_empty_251441;
    int64_t last_offset_251443;
    
    if (x_251442 == 1) {
        int64_t x_268547 = ((int64_t *) mem_271830)[last_index_251440];
        
        last_offset_251443 = x_268547;
    } else {
        last_offset_251443 = (int64_t) 0;
    }
    
    int64_t partition_sizze_251445;
    
    if (is_empty_251441 == 1) {
        partition_sizze_251445 = (int64_t) 0;
    } else {
        partition_sizze_251445 = last_offset_251443;
    }
    if (mem_271856_cached_sizze_273290 < bytes_271829) {
        err = lexical_realloc(ctx, &mem_271856, &mem_271856_cached_sizze_273290, bytes_271829);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271859_cached_sizze_273291 < bytes_271829) {
        err = lexical_realloc(ctx, &mem_271859, &mem_271859_cached_sizze_273291, bytes_271829);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271862_cached_sizze_273292 < bytes_271829) {
        err = lexical_realloc(ctx, &mem_271862, &mem_271862_cached_sizze_273292, bytes_271829);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t write_iter_270712 = 0; write_iter_270712 < conc_tmp_250692; write_iter_270712++) {
        int64_t write_iv_270716 = ((int64_t *) mem_271833)[write_iter_270712];
        int64_t write_iv_270717 = ((int64_t *) mem_271830)[write_iter_270712];
        bool index_concat_cmp_271399 = sle64(conc_tmp_250691, write_iter_270712);
        int64_t index_concat_branch_271407;
        
        if (index_concat_cmp_271399 == 1) {
            int64_t index_concat_i_271400 = sub64(write_iter_270712, conc_tmp_250691);
            int64_t new_index_271482 = squot64(index_concat_i_271400, ixfun_arg_271801);
            int64_t binop_y_271486 = new_index_271482 * ixfun_arg_271801;
            int64_t binop_x_271487 = index_concat_i_271400 - binop_y_271486;
            int64_t new_index_271488 = squot64(binop_x_271487, defunc_0_f_res_250627);
            int64_t binop_y_271500 = defunc_0_f_res_250627 * new_index_271488;
            int64_t new_index_271501 = binop_x_271487 - binop_y_271500;
            int64_t index_concat_271401 = ((int64_t *) mem_271781)[new_index_271482 * ixfun_arg_271801 + new_index_271488 * defunc_0_f_res_250627 + new_index_271501];
            
            index_concat_branch_271407 = index_concat_271401;
        } else {
            bool index_concat_cmp_271402 = sle64(distance_250686, write_iter_270712);
            int64_t index_concat_branch_271406;
            
            if (index_concat_cmp_271402 == 1) {
                int64_t index_concat_i_271403 = sub64(write_iter_270712, distance_250686);
                int64_t new_index_271502 = squot64(index_concat_i_271403, defunc_0_f_res_250626);
                int64_t binop_y_271504 = defunc_0_f_res_250626 * new_index_271502;
                int64_t new_index_271505 = index_concat_i_271403 - binop_y_271504;
                int64_t index_concat_271404 = ((int64_t *) mem_271776)[new_index_271502 * defunc_0_f_res_250626 + new_index_271505];
                
                index_concat_branch_271406 = index_concat_271404;
            } else {
                int64_t index_primexp_271507 = add64((int64_t) 1, write_iter_270712);
                
                index_concat_branch_271406 = index_primexp_271507;
            }
            index_concat_branch_271407 = index_concat_branch_271406;
        }
        
        int64_t index_concat_branch_271396;
        
        if (index_concat_cmp_271399 == 1) {
            int64_t index_concat_i_271389 = sub64(write_iter_270712, conc_tmp_250691);
            int64_t binop_x_271457 = squot64(index_concat_i_271389, ixfun_arg_271801);
            int64_t binop_y_271459 = binop_x_271457 * ixfun_arg_271801;
            int64_t binop_x_271460 = index_concat_i_271389 - binop_y_271459;
            int64_t new_index_271461 = squot64(binop_x_271460, defunc_0_f_res_250627);
            int64_t binop_y_271473 = defunc_0_f_res_250627 * new_index_271461;
            int64_t new_index_271474 = binop_x_271460 - binop_y_271473;
            int64_t index_concat_271390 = ((int64_t *) mem_271753)[new_index_271461 * defunc_0_f_res_250627 + new_index_271474];
            
            index_concat_branch_271396 = index_concat_271390;
        } else {
            bool index_concat_cmp_271391 = sle64(distance_250686, write_iter_270712);
            int64_t index_concat_branch_271395;
            
            if (index_concat_cmp_271391 == 1) {
                int64_t index_concat_i_271392 = sub64(write_iter_270712, distance_250686);
                int64_t binop_x_271476 = squot64(index_concat_i_271392, defunc_0_f_res_250626);
                int64_t binop_y_271477 = defunc_0_f_res_250626 * binop_x_271476;
                int64_t new_index_271478 = index_concat_i_271392 - binop_y_271477;
                int64_t index_primexp_271480 = add64((int64_t) 1, new_index_271478);
                
                index_concat_branch_271395 = index_primexp_271480;
            } else {
                index_concat_branch_271395 = (int64_t) 0;
            }
            index_concat_branch_271396 = index_concat_branch_271395;
        }
        
        int64_t index_concat_branch_271385;
        
        if (index_concat_cmp_271399 == 1) {
            int64_t index_concat_i_271382 = sub64(write_iter_270712, conc_tmp_250691);
            int64_t binop_x_271449 = squot64(index_concat_i_271382, defunc_0_f_res_250627);
            int64_t binop_y_271450 = defunc_0_f_res_250627 * binop_x_271449;
            int64_t new_index_271451 = index_concat_i_271382 - binop_y_271450;
            int64_t index_primexp_271453 = add64((int64_t) 1, new_index_271451);
            
            index_concat_branch_271385 = index_primexp_271453;
        } else {
            index_concat_branch_271385 = (int64_t) 0;
        }
        
        bool is_this_one_251457 = write_iv_270716 == (int64_t) 0;
        int64_t this_offset_251458 = (int64_t) -1 + write_iv_270717;
        int64_t total_res_251459;
        
        if (is_this_one_251457 == 1) {
            total_res_251459 = this_offset_251458;
        } else {
            total_res_251459 = (int64_t) -1;
        }
        if (sle64((int64_t) 0, total_res_251459) && slt64(total_res_251459, conc_tmp_250692)) {
            ((int64_t *) mem_271856)[total_res_251459] = index_concat_branch_271407;
        }
        if (sle64((int64_t) 0, total_res_251459) && slt64(total_res_251459, conc_tmp_250692)) {
            ((int64_t *) mem_271859)[total_res_251459] = index_concat_branch_271396;
        }
        if (sle64((int64_t) 0, total_res_251459) && slt64(total_res_251459, conc_tmp_250692)) {
            ((int64_t *) mem_271862)[total_res_251459] = index_concat_branch_271385;
        }
    }
    
    bool eq_x_zz_251460 = (int64_t) 0 == last_offset_251443;
    bool p_and_eq_x_y_251461 = x_251442 && eq_x_zz_251460;
    bool empty_slice_251462 = is_empty_251441 || p_and_eq_x_y_251461;
    int64_t m_251463 = sub64(partition_sizze_251445, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_251464 = sle64((int64_t) 0, m_251463);
    bool i_p_m_t_s_leq_w_251465 = slt64(m_251463, conc_tmp_250692);
    bool i_lte_j_251466 = sle64((int64_t) 0, partition_sizze_251445);
    bool y_251467 = zzero_leq_i_p_m_t_s_251464 && i_p_m_t_s_leq_w_251465;
    bool y_251468 = i_lte_j_251466 && y_251467;
    bool ok_or_empty_251469 = empty_slice_251462 || y_251468;
    bool index_certs_251470;
    
    if (!ok_or_empty_251469) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) partition_sizze_251445, "] out of bounds for array of shape [", (long long) conc_tmp_250692, "].", "-> #0  /prelude/soacs.fut:173:6-16\n   #1  /prelude/functional.fut:9:42-44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_271893 = (int64_t) 4 * partition_sizze_251445;
    int64_t bytes_271894 = smax64((int64_t) 0, binop_y_271893);
    
    if (mem_271895_cached_sizze_273293 < bytes_271894) {
        err = lexical_realloc(ctx, &mem_271895, &mem_271895_cached_sizze_273293, bytes_271894);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271898_cached_sizze_273294 < bytes_271894) {
        err = lexical_realloc(ctx, &mem_271898, &mem_271898_cached_sizze_273294, bytes_271894);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271901_cached_sizze_273295 < bytes_271894) {
        err = lexical_realloc(ctx, &mem_271901, &mem_271901_cached_sizze_273295, bytes_271894);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270730 = 0; i_270730 < partition_sizze_251445; i_270730++) {
        int64_t x_251477 = ((int64_t *) mem_271856)[i_270730];
        int64_t x_251478 = ((int64_t *) mem_271859)[i_270730];
        int64_t x_251479 = ((int64_t *) mem_271862)[i_270730];
        int32_t defunc_0_f_res_251480 = sext_i64_i32(x_251477);
        int32_t defunc_0_f_res_251481 = sext_i64_i32(x_251478);
        int32_t defunc_0_f_res_251482 = sext_i64_i32(x_251479);
        
        ((int32_t *) mem_271895)[i_270730] = defunc_0_f_res_251480;
        ((int32_t *) mem_271898)[i_270730] = defunc_0_f_res_251481;
        ((int32_t *) mem_271901)[i_270730] = defunc_0_f_res_251482;
    }
    
    int64_t binop_y_271932 = (int64_t) 8 * nz2084U_226339;
    int64_t bytes_271933 = smax64((int64_t) 0, binop_y_271932);
    int32_t defunc_1_f_res_251602 = mul32(defunc_0_f_res_250573, defunc_0_f_res_250582);
    int32_t defunc_0_f_res_251603 = mul32(defunc_0_f_res_250564, defunc_1_f_res_251602);
    int64_t defunc_0_f_res_251604 = sext_i32_i64(defunc_0_f_res_251603);
    int64_t binop_y_272033 = (int64_t) 4 * defunc_0_f_res_251604;
    int64_t bytes_272034 = smax64((int64_t) 0, binop_y_272033);
    
    if (mem_272035_cached_sizze_273300 < bytes_272034) {
        err = lexical_realloc(ctx, &mem_272035, &mem_272035_cached_sizze_273300, bytes_272034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273074 = 0; i_273074 < defunc_0_f_res_251604; i_273074++) {
        ((int32_t *) mem_272035)[i_273074] = 0;
    }
    for (int64_t iter_270775 = 0; iter_270775 < nz2084U_226339; iter_270775++) {
        int32_t pixel_270777 = ((int32_t *) mem_271700.mem)[iter_270775];
        int64_t defunc_0_f_res_253130 = sext_i32_i64(pixel_270777);
        bool less_than_zzero_270779 = slt64(defunc_0_f_res_253130, (int64_t) 0);
        bool greater_than_sizze_270780 = sle64(defunc_0_f_res_251604, defunc_0_f_res_253130);
        bool outside_bounds_dim_270781 = less_than_zzero_270779 || greater_than_sizze_270780;
        
        if (!(outside_bounds_dim_270781 == 1)) {
            int32_t read_hist_270783 = ((int32_t *) mem_272035)[defunc_0_f_res_253130];
            int32_t defunc_1_f_res_251609 = add32(1, read_hist_270783);
            
            ((int32_t *) mem_272035)[defunc_0_f_res_253130] = defunc_1_f_res_251609;
        }
    }
    if (mem_272048_cached_sizze_273301 < bytes_272034) {
        err = lexical_realloc(ctx, &mem_272048, &mem_272048_cached_sizze_273301, bytes_272034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272051_cached_sizze_273302 < bytes_272034) {
        err = lexical_realloc(ctx, &mem_272051, &mem_272051_cached_sizze_273302, bytes_272034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272054_cached_sizze_273303 < bytes_272034) {
        err = lexical_realloc(ctx, &mem_272054, &mem_272054_cached_sizze_273303, bytes_272034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int32_t inpacc_270612;
    int32_t defunc_2_reduce_res_270613;
    int32_t inpacc_270614;
    int32_t inpacc_253540;
    int32_t inpacc_253541;
    int32_t inpacc_253542;
    
    inpacc_253540 = 0;
    inpacc_253541 = 0;
    inpacc_253542 = 0;
    for (int64_t i_270814 = 0; i_270814 < defunc_0_f_res_251604; i_270814++) {
        int32_t x_271319 = ((int32_t *) mem_272035)[i_270814];
        int32_t defunc_1_op_res_271336 = add32(inpacc_253540, x_271319);
        int32_t defunc_1_op_res_271338 = add32(inpacc_253542, x_271319);
        int32_t arg_271340 = sub32(x_271319, 1);
        int32_t arg_271341 = mul32(x_271319, arg_271340);
        int32_t defunc_0_f_res_271342 = sdiv32(arg_271341, 2);
        int32_t defunc_1_op_res_253581 = add32(inpacc_253541, defunc_0_f_res_271342);
        
        ((int32_t *) mem_272048)[i_270814] = inpacc_253542;
        ((int32_t *) mem_272051)[i_270814] = defunc_0_f_res_271342;
        ((int32_t *) mem_272054)[i_270814] = inpacc_253540;
        
        int32_t inpacc_tmp_273076 = defunc_1_op_res_271336;
        int32_t inpacc_tmp_273077 = defunc_1_op_res_253581;
        int32_t inpacc_tmp_273078 = defunc_1_op_res_271338;
        
        inpacc_253540 = inpacc_tmp_273076;
        inpacc_253541 = inpacc_tmp_273077;
        inpacc_253542 = inpacc_tmp_273078;
    }
    inpacc_270612 = inpacc_253540;
    defunc_2_reduce_res_270613 = inpacc_253541;
    inpacc_270614 = inpacc_253542;
    
    int64_t i32_res_251631 = sext_i32_i64(defunc_2_reduce_res_270613);
    
    if (memblock_alloc(ctx, &mem_272086, (int64_t) 0, "mem_272086")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t binop_y_272281 = (int64_t) 4 * i32_res_251631;
    int64_t bytes_272282 = smax64((int64_t) 0, binop_y_272281);
    int64_t i32_res_251823 = sext_i32_i64(defunc_0_f_res_250582);
    int64_t i32_res_251824 = sext_i32_i64(defunc_0_f_res_250573);
    int64_t i32_res_251825 = sext_i32_i64(defunc_0_f_res_250564);
    bool bounds_invalid_upwards_251826 = slt64(i32_res_251825, (int64_t) 0);
    bool valid_251827 = !bounds_invalid_upwards_251826;
    bool range_valid_c_251828;
    
    if (!valid_251827) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) i32_res_251825, " is invalid.", "-> #0  /prelude/array.fut:95:3-10\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_251830 = slt64(i32_res_251824, (int64_t) 0);
    bool valid_251831 = !bounds_invalid_upwards_251830;
    bool range_valid_c_251832;
    
    if (!valid_251831) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) i32_res_251824, " is invalid.", "-> #0  /prelude/array.fut:95:3-10\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_251834 = slt64(i32_res_251823, (int64_t) 0);
    bool valid_251835 = !bounds_invalid_upwards_251834;
    bool range_valid_c_251836;
    
    if (!valid_251835) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) i32_res_251823, " is invalid.", "-> #0  /prelude/array.fut:95:3-10\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_272307 = (int64_t) 4 * i32_res_251823;
    int64_t bytes_272308 = smax64((int64_t) 0, binop_y_272307);
    
    if (mem_272309_cached_sizze_273314 < bytes_272308) {
        err = lexical_realloc(ctx, &mem_272309, &mem_272309_cached_sizze_273314, bytes_272308);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270932 = 0; i_270932 < i32_res_251823; i_270932++) {
        int32_t defunc_0_f_res_251840 = sext_i64_i32(i_270932);
        
        ((int32_t *) mem_272309)[i_270932] = defunc_0_f_res_251840;
    }
    
    int64_t binop_x_272320 = i32_res_251823 * i32_res_251824;
    int64_t binop_y_272321 = (int64_t) 4 * binop_x_272320;
    int64_t bytes_272322 = smax64((int64_t) 0, binop_y_272321);
    
    if (mem_272323_cached_sizze_273315 < bytes_272322) {
        err = lexical_realloc(ctx, &mem_272323, &mem_272323_cached_sizze_273315, bytes_272322);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270936 = 0; i_270936 < i32_res_251824; i_270936++) {
        int32_t defunc_0_f_res_251843 = sext_i64_i32(i_270936);
        
        for (int64_t i_273084 = 0; i_273084 < i32_res_251823; i_273084++) {
            ((int32_t *) mem_272323)[i_270936 * i32_res_251823 + i_273084] = defunc_0_f_res_251843;
        }
    }
    
    bool zzero_251862 = defunc_0_f_res_250582 == 0;
    bool nonzzero_251863 = !zzero_251862;
    bool nonzzero_cert_251864;
    
    if (!nonzzero_251863) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  associations.fut:98:22-27\n   #1  algebra.fut:37:94-102\n   #2  /prelude/functional.fut:46:62-64\n   #3  associations.fut:107:12-30\n   #4  associations.fut:112:8-35\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool zzero_251859 = defunc_0_f_res_250573 == 0;
    bool nonzzero_251860 = !zzero_251859;
    bool nonzzero_cert_251861;
    
    if (!nonzzero_251860) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  associations.fut:98:22-27\n   #1  algebra.fut:37:83-91\n   #2  /prelude/functional.fut:46:62-64\n   #3  associations.fut:107:12-30\n   #4  associations.fut:112:8-35\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool zzero_251856 = defunc_0_f_res_250564 == 0;
    bool nonzzero_251857 = !zzero_251856;
    bool nonzzero_cert_251858;
    
    if (!nonzzero_251857) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  associations.fut:98:22-27\n   #1  algebra.fut:37:72-80\n   #2  /prelude/functional.fut:46:62-64\n   #3  associations.fut:107:12-30\n   #4  associations.fut:112:8-35\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t flat_dim_251850 = i32_res_251824 * i32_res_251825;
    int64_t flat_dim_251852 = i32_res_251823 * flat_dim_251850;
    int64_t binop_y_272345 = (int64_t) 4 * flat_dim_251852;
    int64_t bytes_272346 = smax64((int64_t) 0, binop_y_272345);
    
    if (mem_272347_cached_sizze_273316 < bytes_272346) {
        err = lexical_realloc(ctx, &mem_272347, &mem_272347_cached_sizze_273316, bytes_272346);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270940 = 0; i_270940 < i32_res_251825; i_270940++) {
        int32_t defunc_0_f_res_251848 = sext_i64_i32(i_270940);
        
        for (int64_t i_273086 = 0; i_273086 < i32_res_251824; i_273086++) {
            for (int64_t i_273087 = 0; i_273087 < i32_res_251823; i_273087++) {
                ((int32_t *) mem_272347)[i_270940 * binop_x_272320 + (i_273086 * i32_res_251823 + i_273087)] = defunc_0_f_res_251848;
            }
        }
    }
    
    int64_t binop_x_272375 = partition_sizze_251445 * flat_dim_251852;
    int64_t binop_y_272376 = (int64_t) 4 * binop_x_272375;
    int64_t bytes_272377 = smax64((int64_t) 0, binop_y_272376);
    
    if (mem_272378_cached_sizze_273317 < bytes_272377) {
        err = lexical_realloc(ctx, &mem_272378, &mem_272378_cached_sizze_273317, bytes_272377);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272382_cached_sizze_273318 < bytes_272377) {
        err = lexical_realloc(ctx, &mem_272382, &mem_272382_cached_sizze_273318, bytes_272377);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272386_cached_sizze_273319 < bytes_272377) {
        err = lexical_realloc(ctx, &mem_272386, &mem_272386_cached_sizze_273319, bytes_272377);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272390_cached_sizze_273320 < bytes_272377) {
        err = lexical_realloc(ctx, &mem_272390, &mem_272390_cached_sizze_273320, bytes_272377);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272394_cached_sizze_273321 < bytes_272377) {
        err = lexical_realloc(ctx, &mem_272394, &mem_272394_cached_sizze_273321, bytes_272377);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270965 = 0; i_270965 < flat_dim_251852; i_270965++) {
        int64_t new_index_271225 = squot64(i_270965, binop_x_272320);
        int64_t binop_y_271229 = new_index_271225 * binop_x_272320;
        int64_t binop_x_271230 = i_270965 - binop_y_271229;
        int64_t new_index_271231 = squot64(binop_x_271230, i32_res_251823);
        int64_t binop_y_271243 = i32_res_251823 * new_index_271231;
        int64_t new_index_271244 = binop_x_271230 - binop_y_271243;
        int32_t x_251870 = ((int32_t *) mem_272347)[new_index_271225 * binop_x_272320 + new_index_271231 * i32_res_251823 + new_index_271244];
        int32_t x_251871 = ((int32_t *) mem_272323)[new_index_271231 * i32_res_251823 + new_index_271244];
        int64_t binop_x_271267 = squot64(i_270965, i32_res_251823);
        int64_t binop_y_271268 = i32_res_251823 * binop_x_271267;
        int64_t new_index_271269 = i_270965 - binop_y_271268;
        int32_t x_251872 = ((int32_t *) mem_272309)[new_index_271269];
        
        for (int64_t i_270950 = 0; i_270950 < partition_sizze_251445; i_270950++) {
            int32_t x_254282 = ((int32_t *) mem_271895)[i_270950];
            int32_t x_254283 = ((int32_t *) mem_271898)[i_270950];
            int32_t x_254284 = ((int32_t *) mem_271901)[i_270950];
            int32_t defunc_1_f_res_254285 = add32(x_251870, x_254282);
            int32_t defunc_1_f_res_254286 = add32(x_251871, x_254283);
            int32_t defunc_1_f_res_254287 = add32(x_251872, x_254284);
            int32_t azq_254291 = srem32(defunc_1_f_res_254285, defunc_0_f_res_250564);
            bool cond_254292 = slt32(azq_254291, 0);
            int32_t azqzq_254293;
            
            if (cond_254292 == 1) {
                int32_t azqzq_t_res_268588 = add32(defunc_0_f_res_250564, azq_254291);
                
                azqzq_254293 = azqzq_t_res_268588;
            } else {
                azqzq_254293 = azq_254291;
            }
            
            int32_t arg_254295 = sub32(defunc_1_f_res_254285, azqzq_254293);
            int32_t j_254296 = squot32(arg_254295, defunc_0_f_res_250564);
            int32_t azq_254297 = srem32(defunc_1_f_res_254286, defunc_0_f_res_250573);
            bool cond_254298 = slt32(azq_254297, 0);
            int32_t azqzq_254299;
            
            if (cond_254298 == 1) {
                int32_t azqzq_t_res_268589 = add32(defunc_0_f_res_250573, azq_254297);
                
                azqzq_254299 = azqzq_t_res_268589;
            } else {
                azqzq_254299 = azq_254297;
            }
            
            int32_t arg_254301 = sub32(defunc_1_f_res_254286, azqzq_254299);
            int32_t j_254302 = squot32(arg_254301, defunc_0_f_res_250573);
            int32_t azq_254303 = srem32(defunc_1_f_res_254287, defunc_0_f_res_250582);
            bool cond_254304 = slt32(azq_254303, 0);
            int32_t azqzq_254305;
            
            if (cond_254304 == 1) {
                int32_t azqzq_t_res_268590 = add32(defunc_0_f_res_250582, azq_254303);
                
                azqzq_254305 = azqzq_t_res_268590;
            } else {
                azqzq_254305 = azq_254303;
            }
            
            int32_t arg_254307 = sub32(defunc_1_f_res_254287, azqzq_254305);
            int32_t j_254308 = squot32(arg_254307, defunc_0_f_res_250582);
            int32_t arg_254309 = mul32(defunc_0_f_res_250573, azqzq_254293);
            int32_t arg_254310 = mul32(defunc_0_f_res_250582, arg_254309);
            int32_t arg_254311 = mul32(defunc_0_f_res_250582, azqzq_254299);
            int32_t arg_254312 = add32(arg_254310, arg_254311);
            int32_t defunc_0_f_res_254313 = add32(azqzq_254305, arg_254312);
            
            ((int32_t *) mem_272382)[i_270965 * partition_sizze_251445 + i_270950] = defunc_0_f_res_254313;
            ((int32_t *) mem_272386)[i_270965 * partition_sizze_251445 + i_270950] = j_254296;
            ((int32_t *) mem_272390)[i_270965 * partition_sizze_251445 + i_270950] = j_254302;
            ((int32_t *) mem_272394)[i_270965 * partition_sizze_251445 + i_270950] = j_254308;
        }
        
        int32_t arg_251882 = mul32(defunc_0_f_res_250573, x_251870);
        int32_t arg_251883 = mul32(defunc_0_f_res_250582, arg_251882);
        int32_t arg_251884 = mul32(defunc_0_f_res_250582, x_251871);
        int32_t arg_251885 = add32(arg_251883, arg_251884);
        int32_t toLinear_res_251886 = add32(x_251872, arg_251885);
        
        for (int64_t i_273097 = 0; i_273097 < partition_sizze_251445; i_273097++) {
            ((int32_t *) mem_272378)[i_270965 * partition_sizze_251445 + i_273097] = toLinear_res_251886;
        }
    }
    
    int64_t i_251938 = sub64(binop_x_272375, (int64_t) 1);
    bool y_251940 = slt64(i_251938, binop_x_272375);
    bool x_251939 = sle64((int64_t) 0, i_251938);
    bool bounds_check_251941 = x_251939 && y_251940;
    bool cond_251937 = binop_x_272375 == (int64_t) 0;
    bool protect_assert_disj_251942 = cond_251937 || bounds_check_251941;
    bool index_certs_251943;
    
    if (!protect_assert_disj_251942) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251938, "] out of bounds for array of shape [", (long long) binop_x_272375, "].", "-> #0  /prelude/array.fut:26:29-34\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t ext_272649;
    int64_t ext_272648;
    int64_t ext_272644;
    int64_t ext_272643;
    int64_t replSegmIota_res_251944;
    int64_t replSegmIota_res_251945;
    
    if (cond_251937 == 1) {
        if (memblock_set(ctx, &ext_mem_272652, &mem_272086, "mem_272086") != 0)
            return 1;
        ext_272649 = (int64_t) 0;
        ext_272648 = (int64_t) 0;
        if (memblock_set(ctx, &ext_mem_272647, &mem_272086, "mem_272086") != 0)
            return 1;
        ext_272644 = (int64_t) 0;
        ext_272643 = (int64_t) 0;
        replSegmIota_res_251944 = (int64_t) 0;
        replSegmIota_res_251945 = (int64_t) 0;
    } else {
        if (mem_272580_cached_sizze_273322 < bytes_272377) {
            err = lexical_realloc(ctx, &mem_272580, &mem_272580_cached_sizze_273322, bytes_272377);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_272583_cached_sizze_273323 < bytes_272377) {
            err = lexical_realloc(ctx, &mem_272583, &mem_272583_cached_sizze_273323, bytes_272377);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        
        int32_t inpacc_268601;
        int32_t inpacc_262100 = 0;
        
        for (int64_t i_270991 = 0; i_270991 < binop_x_272375; i_270991++) {
            int64_t new_index_271440 = squot64(i_270991, partition_sizze_251445);
            int64_t binop_y_271442 = partition_sizze_251445 * new_index_271440;
            int64_t new_index_271443 = i_270991 - binop_y_271442;
            int32_t x_271195 = ((int32_t *) mem_272378)[new_index_271440 * partition_sizze_251445 + new_index_271443];
            int32_t x_271196 = ((int32_t *) mem_272382)[new_index_271440 * partition_sizze_251445 + new_index_271443];
            int64_t i_271197 = sext_i32_i64(x_271195);
            bool x_271198 = sle64((int64_t) 0, i_271197);
            bool y_271199 = slt64(i_271197, defunc_0_f_res_251604);
            bool bounds_check_271200 = x_271198 && y_271199;
            bool index_certs_271201;
            
            if (!bounds_check_271200) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_271197, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:53:38-43\n   #1  associations.fut:53:17-64\n   #2  associations.fut:128:29-85\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t arg_271202 = ((int32_t *) mem_272035)[i_271197];
            int64_t j_271203 = sext_i32_i64(x_271196);
            bool x_271204 = sle64((int64_t) 0, j_271203);
            bool y_271205 = slt64(j_271203, defunc_0_f_res_251604);
            bool bounds_check_271206 = x_271204 && y_271205;
            bool index_certs_271207;
            
            if (!bounds_check_271206) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_271203, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:53:45-50\n   #1  associations.fut:53:17-64\n   #2  associations.fut:128:29-85\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t arg_271208 = ((int32_t *) mem_272035)[j_271203];
            int32_t defunc_0_f_res_271209 = mul32(arg_271202, arg_271208);
            int32_t defunc_1_op_res_271220 = add32(inpacc_262100, defunc_0_f_res_271209);
            
            ((int32_t *) mem_272580)[i_270991] = inpacc_262100;
            ((int32_t *) mem_272583)[i_270991] = defunc_1_op_res_271220;
            
            int32_t inpacc_tmp_273098 = defunc_1_op_res_271220;
            
            inpacc_262100 = inpacc_tmp_273098;
        }
        inpacc_268601 = inpacc_262100;
        
        int32_t last_res_251957 = ((int32_t *) mem_272583)[i_251938];
        int64_t i32_res_251962 = sext_i32_i64(last_res_251957);
        int64_t binop_y_272604 = (int64_t) 4 * i32_res_251962;
        int64_t bytes_272605 = smax64((int64_t) 0, binop_y_272604);
        
        if (mem_272606_cached_sizze_273324 < bytes_272605) {
            err = lexical_realloc(ctx, &mem_272606, &mem_272606_cached_sizze_273324, bytes_272605);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_273101 = 0; i_273101 < i32_res_251962; i_273101++) {
            ((int32_t *) mem_272606)[i_273101] = 0;
        }
        for (int64_t iter_270994 = 0; iter_270994 < binop_x_272375; iter_270994++) {
            int32_t pixel_270996 = ((int32_t *) mem_272583)[iter_270994];
            int64_t defunc_0_f_res_254352 = sext_i32_i64(pixel_270996);
            bool less_than_zzero_270998 = slt64(defunc_0_f_res_254352, (int64_t) 0);
            bool greater_than_sizze_270999 = sle64(i32_res_251962, defunc_0_f_res_254352);
            bool outside_bounds_dim_271000 = less_than_zzero_270998 || greater_than_sizze_270999;
            
            if (!(outside_bounds_dim_271000 == 1)) {
                int32_t read_hist_271002 = ((int32_t *) mem_272606)[defunc_0_f_res_254352];
                int32_t defunc_1_f_res_251967 = add32(1, read_hist_271002);
                
                ((int32_t *) mem_272606)[defunc_0_f_res_254352] = defunc_1_f_res_251967;
            }
        }
        if (memblock_alloc(ctx, &mem_272619, bytes_272605, "mem_272619")) {
            err = 1;
            goto cleanup;
        }
        
        int32_t discard_271010;
        int32_t scanacc_271006 = 0;
        
        for (int64_t i_271008 = 0; i_271008 < i32_res_251962; i_271008++) {
            int32_t x_251974 = ((int32_t *) mem_272606)[i_271008];
            int32_t defunc_1_op_res_251973 = add32(x_251974, scanacc_271006);
            
            ((int32_t *) mem_272619.mem)[i_271008] = defunc_1_op_res_251973;
            
            int32_t scanacc_tmp_273103 = defunc_1_op_res_251973;
            
            scanacc_271006 = scanacc_tmp_273103;
        }
        discard_271010 = scanacc_271006;
        if (memblock_alloc(ctx, &mem_272632, bytes_272605, "mem_272632")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_271013 = 0; i_271013 < i32_res_251962; i_271013++) {
            int32_t i64_res_251978 = sext_i64_i32(i_271013);
            int32_t i_251983 = ((int32_t *) mem_272619.mem)[i_271013];
            int64_t i_251984 = sext_i32_i64(i_251983);
            bool x_251985 = sle64((int64_t) 0, i_251984);
            bool y_251986 = slt64(i_251984, binop_x_272375);
            bool bounds_check_251987 = x_251985 && y_251986;
            bool index_certs_251988;
            
            if (!bounds_check_251987) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251984, "] out of bounds for array of shape [", (long long) binop_x_272375, "].", "-> #0  associations.fut:26:57-71\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:200:3-17\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t arg_251989 = ((int32_t *) mem_272580)[i_251984];
            int32_t defunc_0_f_res_251990 = sub32(i64_res_251978, arg_251989);
            
            ((int32_t *) mem_272632.mem)[i_271013] = defunc_0_f_res_251990;
        }
        if (memblock_set(ctx, &ext_mem_272652, &mem_272619, "mem_272619") != 0)
            return 1;
        ext_272649 = i32_res_251962;
        ext_272648 = i32_res_251962;
        if (memblock_set(ctx, &ext_mem_272647, &mem_272632, "mem_272632") != 0)
            return 1;
        ext_272644 = i32_res_251962;
        ext_272643 = i32_res_251962;
        replSegmIota_res_251944 = i32_res_251962;
        replSegmIota_res_251945 = i32_res_251962;
    }
    
    int64_t binop_y_272653 = (int64_t) 4 * replSegmIota_res_251944;
    int64_t bytes_272654 = smax64((int64_t) 0, binop_y_272653);
    int64_t conc_tmp_252059 = i32_res_251631 + replSegmIota_res_251944;
    int64_t binop_y_272718 = (int64_t) 8 * conc_tmp_252059;
    int64_t bytes_272719 = smax64((int64_t) 0, binop_y_272718);
    int64_t binop_y_272744 = (int64_t) 4 * conc_tmp_252059;
    int64_t bytes_272745 = smax64((int64_t) 0, binop_y_272744);
    int64_t binop_y_272830 = (int64_t) 4 * dz2080U_226337;
    int64_t bytes_272831 = smax64((int64_t) 0, binop_y_272830);
    int64_t binop_y_272882 = (int64_t) 4 * dz2081U_226338;
    int64_t bytes_272883 = smax64((int64_t) 0, binop_y_272882);
    int64_t binop_y_272975 = (int64_t) 24 * nz2084U_226339;
    int64_t bytes_272976 = smax64((int64_t) 0, binop_y_272975);
    
    if (memblock_alloc(ctx, &mem_271934, bytes_271933, "mem_271934")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_273106 = 0; i_273106 < nz2084U_226339; i_273106++) {
        int64_t x_273107 = (int64_t) 0 + i_273106 * (int64_t) 1;
        
        ((int64_t *) mem_271934.mem)[i_273106] = x_273107;
    }
    
    int32_t clzz_res_251533 = futrts_clzz32(defunc_2_reduce_res_270594);
    int32_t defunc_0_f_res_251534 = sub32(32, clzz_res_251533);
    
    if (mem_271947_cached_sizze_273296 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271947, &mem_271947_cached_sizze_273296, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271950_cached_sizze_273297 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271950, &mem_271950_cached_sizze_273297, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_271973_cached_sizze_273298 < bytes_271933) {
        err = lexical_realloc(ctx, &mem_271973, &mem_271973_cached_sizze_273298, bytes_271933);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_set(ctx, &mem_param_271939, &mem_271700, "mem_271700") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_271944, &mem_271934, "mem_271934") != 0)
        return 1;
    for (int32_t bit_251537 = 0; bit_251537 < defunc_0_f_res_251534; bit_251537++) {
        int32_t defunc_2_reduce_res_268551;
        int32_t redout_270736 = 0;
        
        for (int64_t i_270739 = 0; i_270739 < nz2084U_226339; i_270739++) {
            int32_t x_253985 = ((int32_t *) mem_param_271939.mem)[i_270739];
            int32_t arg_253986 = lshr32(x_253985, bit_251537);
            int32_t u32_arg_253987 = 1 & arg_253986;
            int32_t defunc_0_f_res_253989 = sub32(1, u32_arg_253987);
            int32_t defunc_1_op_res_251550 = add32(defunc_0_f_res_253989, redout_270736);
            
            ((int32_t *) mem_271947)[i_270739] = defunc_0_f_res_253989;
            ((int32_t *) mem_271950)[i_270739] = u32_arg_253987;
            
            int32_t redout_tmp_273112 = defunc_1_op_res_251550;
            
            redout_270736 = redout_tmp_273112;
        }
        defunc_2_reduce_res_268551 = redout_270736;
        
        int32_t inpacc_268554;
        int32_t inpacc_268555;
        int32_t inpacc_253920;
        int32_t inpacc_253921;
        
        inpacc_253920 = 0;
        inpacc_253921 = 0;
        for (int64_t i_270760 = 0; i_270760 < nz2084U_226339; i_270760++) {
            int32_t x_271352 = ((int32_t *) mem_271950)[i_270760];
            int32_t x_271360 = ((int32_t *) mem_271947)[i_270760];
            int32_t defunc_1_op_res_271371 = add32(inpacc_253920, x_271352);
            int32_t defunc_0_f_res_271372 = add32(defunc_2_reduce_res_268551, defunc_1_op_res_271371);
            int32_t defunc_1_f_res_271373 = mul32(x_271352, defunc_0_f_res_271372);
            int32_t defunc_1_op_res_271374 = add32(inpacc_253921, x_271360);
            int32_t defunc_1_f_res_271375 = mul32(x_271360, defunc_1_op_res_271374);
            int32_t defunc_1_f_res_271376 = add32(defunc_1_f_res_271373, defunc_1_f_res_271375);
            int32_t defunc_0_f_res_271377 = sub32(defunc_1_f_res_271376, 1);
            int64_t defunc_0_f_res_271378 = sext_i32_i64(defunc_0_f_res_271377);
            
            ((int64_t *) mem_271973)[i_270760] = defunc_0_f_res_271378;
            
            int32_t inpacc_tmp_273115 = defunc_1_op_res_271371;
            int32_t inpacc_tmp_273116 = defunc_1_op_res_271374;
            
            inpacc_253920 = inpacc_tmp_273115;
            inpacc_253921 = inpacc_tmp_273116;
        }
        inpacc_268554 = inpacc_253920;
        inpacc_268555 = inpacc_253921;
        if (memblock_alloc(ctx, &mem_271986, bytes_271608, "mem_271986")) {
            err = 1;
            goto cleanup;
        }
        if (nz2084U_226339 * (int64_t) 4 > 0)
            memmove(mem_271986.mem + (int64_t) 0, mem_param_271939.mem + (int64_t) 0, nz2084U_226339 * (int64_t) 4);
        if (memblock_alloc(ctx, &mem_271989, bytes_271933, "mem_271989")) {
            err = 1;
            goto cleanup;
        }
        if (nz2084U_226339 * (int64_t) 8 > 0)
            memmove(mem_271989.mem + (int64_t) 0, mem_param_271944.mem + (int64_t) 0, nz2084U_226339 * (int64_t) 8);
        for (int64_t write_iter_270762 = 0; write_iter_270762 < nz2084U_226339; write_iter_270762++) {
            int64_t write_iv_270765 = ((int64_t *) mem_271973)[write_iter_270762];
            int64_t write_iv_270766 = ((int64_t *) mem_param_271944.mem)[write_iter_270762];
            int32_t write_iv_270768 = ((int32_t *) mem_param_271939.mem)[write_iter_270762];
            
            if (sle64((int64_t) 0, write_iv_270765) && slt64(write_iv_270765, nz2084U_226339)) {
                ((int64_t *) mem_271989.mem)[write_iv_270765] = write_iv_270766;
            }
            if (sle64((int64_t) 0, write_iv_270765) && slt64(write_iv_270765, nz2084U_226339)) {
                ((int32_t *) mem_271986.mem)[write_iv_270765] = write_iv_270768;
            }
        }
        if (memblock_set(ctx, &mem_param_tmp_273108, &mem_271986, "mem_271986") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_273109, &mem_271989, "mem_271989") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_271939, &mem_param_tmp_273108, "mem_param_tmp_273108") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_271944, &mem_param_tmp_273109, "mem_param_tmp_273109") != 0)
            return 1;
    }
    if (memblock_set(ctx, &ext_mem_272019, &mem_param_271939, "mem_param_271939") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_272018, &mem_param_271944, "mem_param_271944") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_271700, "mem_271700") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_271934, "mem_271934") != 0)
        return 1;
    if (mem_272022_cached_sizze_273299 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_272022, &mem_272022_cached_sizze_273299, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270773 = 0; i_270773 < nz2084U_226339; i_270773++) {
        int64_t x_251592 = ((int64_t *) ext_mem_272018.mem)[i_270773];
        bool x_251593 = sle64((int64_t) 0, x_251592);
        bool y_251594 = slt64(x_251592, nz2084U_226339);
        bool bounds_check_251595 = x_251593 && y_251594;
        bool index_certs_251596;
        
        if (!bounds_check_251595) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) x_251592, "] out of bounds for array of shape [", (long long) nz2084U_226339, "].", "-> #0  sorting.fut:15:19-23\n   #1  sorting.fut:15:8-27\n   #2  /prelude/functional.fut:9:42-44\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t index_primexp_251597 = sext_i64_i32(x_251592);
        
        ((int32_t *) mem_272022)[i_270773] = index_primexp_251597;
    }
    if (memblock_unref(ctx, &ext_mem_272018, "ext_mem_272018") != 0)
        return 1;
    
    bool cond_251632 = defunc_0_f_res_251604 == (int64_t) 0;
    int64_t i_251634 = sub64(defunc_0_f_res_251604, (int64_t) 1);
    bool x_251635 = sle64((int64_t) 0, i_251634);
    bool y_251636 = slt64(i_251634, defunc_0_f_res_251604);
    bool bounds_check_251637 = x_251635 && y_251636;
    bool protect_assert_disj_251638 = cond_251632 || bounds_check_251637;
    bool index_certs_251639;
    
    if (!protect_assert_disj_251638) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251634, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  /prelude/array.fut:26:29-34\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t ext_272127;
    int64_t ext_272126;
    int64_t repl_iota_res_251640;
    
    if (cond_251632 == 1) {
        if (memblock_set(ctx, &ext_mem_272130, &mem_272086, "mem_272086") != 0)
            return 1;
        ext_272127 = (int64_t) 0;
        ext_272126 = (int64_t) 0;
        repl_iota_res_251640 = (int64_t) 0;
    } else {
        if (mem_272089_cached_sizze_273304 < bytes_272034) {
            err = lexical_realloc(ctx, &mem_272089, &mem_272089_cached_sizze_273304, bytes_272034);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        
        int32_t discard_270823;
        int32_t scanacc_270819 = 0;
        
        for (int64_t i_270821 = 0; i_270821 < defunc_0_f_res_251604; i_270821++) {
            int32_t x_251646 = ((int32_t *) mem_272051)[i_270821];
            int32_t defunc_1_op_res_251645 = add32(x_251646, scanacc_270819);
            
            ((int32_t *) mem_272089)[i_270821] = defunc_1_op_res_251645;
            
            int32_t scanacc_tmp_273121 = defunc_1_op_res_251645;
            
            scanacc_270819 = scanacc_tmp_273121;
        }
        discard_270823 = scanacc_270819;
        
        int32_t last_res_251647 = ((int32_t *) mem_272089)[i_251634];
        int64_t i32_res_251652 = sext_i32_i64(last_res_251647);
        int64_t binop_y_272100 = (int64_t) 4 * i32_res_251652;
        int64_t bytes_272101 = smax64((int64_t) 0, binop_y_272100);
        
        if (mem_272102_cached_sizze_273305 < bytes_272101) {
            err = lexical_realloc(ctx, &mem_272102, &mem_272102_cached_sizze_273305, bytes_272101);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_273123 = 0; i_273123 < i32_res_251652; i_273123++) {
            ((int32_t *) mem_272102)[i_273123] = 0;
        }
        for (int64_t iter_270824 = 0; iter_270824 < defunc_0_f_res_251604; iter_270824++) {
            int32_t pixel_270826 = ((int32_t *) mem_272089)[iter_270824];
            int64_t defunc_0_f_res_254120 = sext_i32_i64(pixel_270826);
            bool less_than_zzero_270828 = slt64(defunc_0_f_res_254120, (int64_t) 0);
            bool greater_than_sizze_270829 = sle64(i32_res_251652, defunc_0_f_res_254120);
            bool outside_bounds_dim_270830 = less_than_zzero_270828 || greater_than_sizze_270829;
            
            if (!(outside_bounds_dim_270830 == 1)) {
                int32_t read_hist_270832 = ((int32_t *) mem_272102)[defunc_0_f_res_254120];
                int32_t defunc_1_f_res_251657 = add32(1, read_hist_270832);
                
                ((int32_t *) mem_272102)[defunc_0_f_res_254120] = defunc_1_f_res_251657;
            }
        }
        if (memblock_alloc(ctx, &mem_272115, bytes_272101, "mem_272115")) {
            err = 1;
            goto cleanup;
        }
        
        int32_t discard_270840;
        int32_t scanacc_270836 = 0;
        
        for (int64_t i_270838 = 0; i_270838 < i32_res_251652; i_270838++) {
            int32_t x_251664 = ((int32_t *) mem_272102)[i_270838];
            int32_t defunc_1_op_res_251663 = add32(x_251664, scanacc_270836);
            
            ((int32_t *) mem_272115.mem)[i_270838] = defunc_1_op_res_251663;
            
            int32_t scanacc_tmp_273125 = defunc_1_op_res_251663;
            
            scanacc_270836 = scanacc_tmp_273125;
        }
        discard_270840 = scanacc_270836;
        if (memblock_set(ctx, &ext_mem_272130, &mem_272115, "mem_272115") != 0)
            return 1;
        ext_272127 = i32_res_251652;
        ext_272126 = i32_res_251652;
        repl_iota_res_251640 = i32_res_251652;
    }
    
    bool dim_match_251665 = i32_res_251631 == repl_iota_res_251640;
    bool empty_or_match_cert_251666;
    
    if (!dim_match_251665) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (core language) shape (", (long long) repl_iota_res_251640, ") cannot match shape of type `[", (long long) i32_res_251631, "]i32`.", "-> #0  associations.fut:44:20-47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t ext_272202;
    int64_t ext_272201;
    int64_t ext_272197;
    int64_t ext_272196;
    int64_t replSegmIota_res_251668;
    int64_t replSegmIota_res_251669;
    
    if (cond_251632 == 1) {
        if (memblock_set(ctx, &ext_mem_272205, &mem_272086, "mem_272086") != 0)
            return 1;
        ext_272202 = (int64_t) 0;
        ext_272201 = (int64_t) 0;
        if (memblock_set(ctx, &ext_mem_272200, &mem_272086, "mem_272086") != 0)
            return 1;
        ext_272197 = (int64_t) 0;
        ext_272196 = (int64_t) 0;
        replSegmIota_res_251668 = (int64_t) 0;
        replSegmIota_res_251669 = (int64_t) 0;
    } else {
        if (mem_272133_cached_sizze_273306 < bytes_272034) {
            err = lexical_realloc(ctx, &mem_272133, &mem_272133_cached_sizze_273306, bytes_272034);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_272136_cached_sizze_273307 < bytes_272034) {
            err = lexical_realloc(ctx, &mem_272136, &mem_272136_cached_sizze_273307, bytes_272034);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        
        int32_t inpacc_268571;
        int32_t inpacc_254159 = 0;
        
        for (int64_t i_270858 = 0; i_270858 < defunc_0_f_res_251604; i_270858++) {
            int32_t x_271300 = ((int32_t *) mem_272035)[i_270858];
            int32_t defunc_1_op_res_271310 = add32(inpacc_254159, x_271300);
            
            ((int32_t *) mem_272133)[i_270858] = inpacc_254159;
            ((int32_t *) mem_272136)[i_270858] = defunc_1_op_res_271310;
            
            int32_t inpacc_tmp_273127 = defunc_1_op_res_271310;
            
            inpacc_254159 = inpacc_tmp_273127;
        }
        inpacc_268571 = inpacc_254159;
        
        int32_t last_res_251681 = ((int32_t *) mem_272136)[i_251634];
        int64_t i32_res_251686 = sext_i32_i64(last_res_251681);
        int64_t binop_y_272157 = (int64_t) 4 * i32_res_251686;
        int64_t bytes_272158 = smax64((int64_t) 0, binop_y_272157);
        
        if (mem_272159_cached_sizze_273308 < bytes_272158) {
            err = lexical_realloc(ctx, &mem_272159, &mem_272159_cached_sizze_273308, bytes_272158);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_273130 = 0; i_273130 < i32_res_251686; i_273130++) {
            ((int32_t *) mem_272159)[i_273130] = 0;
        }
        for (int64_t iter_270861 = 0; iter_270861 < defunc_0_f_res_251604; iter_270861++) {
            int32_t pixel_270863 = ((int32_t *) mem_272136)[iter_270861];
            int64_t defunc_0_f_res_254128 = sext_i32_i64(pixel_270863);
            bool less_than_zzero_270865 = slt64(defunc_0_f_res_254128, (int64_t) 0);
            bool greater_than_sizze_270866 = sle64(i32_res_251686, defunc_0_f_res_254128);
            bool outside_bounds_dim_270867 = less_than_zzero_270865 || greater_than_sizze_270866;
            
            if (!(outside_bounds_dim_270867 == 1)) {
                int32_t read_hist_270869 = ((int32_t *) mem_272159)[defunc_0_f_res_254128];
                int32_t defunc_1_f_res_251691 = add32(1, read_hist_270869);
                
                ((int32_t *) mem_272159)[defunc_0_f_res_254128] = defunc_1_f_res_251691;
            }
        }
        if (memblock_alloc(ctx, &mem_272172, bytes_272158, "mem_272172")) {
            err = 1;
            goto cleanup;
        }
        
        int32_t discard_270877;
        int32_t scanacc_270873 = 0;
        
        for (int64_t i_270875 = 0; i_270875 < i32_res_251686; i_270875++) {
            int32_t x_251698 = ((int32_t *) mem_272159)[i_270875];
            int32_t defunc_1_op_res_251697 = add32(x_251698, scanacc_270873);
            
            ((int32_t *) mem_272172.mem)[i_270875] = defunc_1_op_res_251697;
            
            int32_t scanacc_tmp_273132 = defunc_1_op_res_251697;
            
            scanacc_270873 = scanacc_tmp_273132;
        }
        discard_270877 = scanacc_270873;
        if (memblock_alloc(ctx, &mem_272185, bytes_272158, "mem_272185")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_270880 = 0; i_270880 < i32_res_251686; i_270880++) {
            int32_t i64_res_251702 = sext_i64_i32(i_270880);
            int32_t i_251707 = ((int32_t *) mem_272172.mem)[i_270880];
            int64_t i_251708 = sext_i32_i64(i_251707);
            bool x_251709 = sle64((int64_t) 0, i_251708);
            bool y_251710 = slt64(i_251708, defunc_0_f_res_251604);
            bool bounds_check_251711 = x_251709 && y_251710;
            bool index_certs_251712;
            
            if (!bounds_check_251711) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251708, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:26:57-71\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:200:3-17\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t arg_251713 = ((int32_t *) mem_272133)[i_251708];
            int32_t defunc_0_f_res_251714 = sub32(i64_res_251702, arg_251713);
            
            ((int32_t *) mem_272185.mem)[i_270880] = defunc_0_f_res_251714;
        }
        if (memblock_set(ctx, &ext_mem_272205, &mem_272172, "mem_272172") != 0)
            return 1;
        ext_272202 = i32_res_251686;
        ext_272201 = i32_res_251686;
        if (memblock_set(ctx, &ext_mem_272200, &mem_272185, "mem_272185") != 0)
            return 1;
        ext_272197 = i32_res_251686;
        ext_272196 = i32_res_251686;
        replSegmIota_res_251668 = i32_res_251686;
        replSegmIota_res_251669 = i32_res_251686;
    }
    
    int64_t i_251719 = sub64(replSegmIota_res_251668, (int64_t) 1);
    bool y_251721 = slt64(i_251719, replSegmIota_res_251668);
    bool x_251720 = sle64((int64_t) 0, i_251719);
    bool bounds_check_251722 = x_251720 && y_251721;
    bool cond_251718 = replSegmIota_res_251668 == (int64_t) 0;
    bool protect_assert_disj_251723 = cond_251718 || bounds_check_251722;
    bool index_certs_251724;
    
    if (!protect_assert_disj_251723) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251719, "] out of bounds for array of shape [", (long long) replSegmIota_res_251668, "].", "-> #0  /prelude/array.fut:26:29-34\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_251715 = replSegmIota_res_251668 == replSegmIota_res_251669;
    bool empty_or_match_cert_251716;
    
    if (!dim_match_251715) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Function return value does not match shape of declared return type.", "-> #0  associations.fut:19:1-27:22\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_272206 = (int64_t) 4 * replSegmIota_res_251668;
    int64_t bytes_272207 = smax64((int64_t) 0, binop_y_272206);
    int64_t ext_272277;
    int64_t ext_272276;
    int64_t ext_272272;
    int64_t ext_272271;
    int64_t replSegmIota_res_251725;
    int64_t replSegmIota_res_251726;
    
    if (cond_251718 == 1) {
        if (memblock_set(ctx, &ext_mem_272280, &mem_272086, "mem_272086") != 0)
            return 1;
        ext_272277 = (int64_t) 0;
        ext_272276 = (int64_t) 0;
        if (memblock_set(ctx, &ext_mem_272275, &mem_272086, "mem_272086") != 0)
            return 1;
        ext_272272 = (int64_t) 0;
        ext_272271 = (int64_t) 0;
        replSegmIota_res_251725 = (int64_t) 0;
        replSegmIota_res_251726 = (int64_t) 0;
    } else {
        if (mem_272208_cached_sizze_273309 < bytes_272207) {
            err = lexical_realloc(ctx, &mem_272208, &mem_272208_cached_sizze_273309, bytes_272207);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_272211_cached_sizze_273310 < bytes_272207) {
            err = lexical_realloc(ctx, &mem_272211, &mem_272211_cached_sizze_273310, bytes_272207);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        
        int32_t inpacc_268581;
        int32_t inpacc_254236 = 0;
        
        for (int64_t i_270899 = 0; i_270899 < replSegmIota_res_251668; i_270899++) {
            int32_t x_271281 = ((int32_t *) ext_mem_272200.mem)[i_270899];
            int32_t defunc_1_op_res_271291 = add32(inpacc_254236, x_271281);
            
            ((int32_t *) mem_272208)[i_270899] = inpacc_254236;
            ((int32_t *) mem_272211)[i_270899] = defunc_1_op_res_271291;
            
            int32_t inpacc_tmp_273135 = defunc_1_op_res_271291;
            
            inpacc_254236 = inpacc_tmp_273135;
        }
        inpacc_268581 = inpacc_254236;
        
        int32_t last_res_251738 = ((int32_t *) mem_272211)[i_251719];
        int64_t i32_res_251743 = sext_i32_i64(last_res_251738);
        int64_t binop_y_272232 = (int64_t) 4 * i32_res_251743;
        int64_t bytes_272233 = smax64((int64_t) 0, binop_y_272232);
        
        if (mem_272234_cached_sizze_273311 < bytes_272233) {
            err = lexical_realloc(ctx, &mem_272234, &mem_272234_cached_sizze_273311, bytes_272233);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_273138 = 0; i_273138 < i32_res_251743; i_273138++) {
            ((int32_t *) mem_272234)[i_273138] = 0;
        }
        for (int64_t iter_270902 = 0; iter_270902 < replSegmIota_res_251668; iter_270902++) {
            int32_t pixel_270904 = ((int32_t *) mem_272211)[iter_270902];
            int64_t defunc_0_f_res_254205 = sext_i32_i64(pixel_270904);
            bool less_than_zzero_270906 = slt64(defunc_0_f_res_254205, (int64_t) 0);
            bool greater_than_sizze_270907 = sle64(i32_res_251743, defunc_0_f_res_254205);
            bool outside_bounds_dim_270908 = less_than_zzero_270906 || greater_than_sizze_270907;
            
            if (!(outside_bounds_dim_270908 == 1)) {
                int32_t read_hist_270910 = ((int32_t *) mem_272234)[defunc_0_f_res_254205];
                int32_t defunc_1_f_res_251748 = add32(1, read_hist_270910);
                
                ((int32_t *) mem_272234)[defunc_0_f_res_254205] = defunc_1_f_res_251748;
            }
        }
        if (memblock_alloc(ctx, &mem_272247, bytes_272233, "mem_272247")) {
            err = 1;
            goto cleanup;
        }
        
        int32_t discard_270918;
        int32_t scanacc_270914 = 0;
        
        for (int64_t i_270916 = 0; i_270916 < i32_res_251743; i_270916++) {
            int32_t x_251755 = ((int32_t *) mem_272234)[i_270916];
            int32_t defunc_1_op_res_251754 = add32(x_251755, scanacc_270914);
            
            ((int32_t *) mem_272247.mem)[i_270916] = defunc_1_op_res_251754;
            
            int32_t scanacc_tmp_273140 = defunc_1_op_res_251754;
            
            scanacc_270914 = scanacc_tmp_273140;
        }
        discard_270918 = scanacc_270914;
        if (memblock_alloc(ctx, &mem_272260, bytes_272233, "mem_272260")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_270921 = 0; i_270921 < i32_res_251743; i_270921++) {
            int32_t i64_res_251759 = sext_i64_i32(i_270921);
            int32_t i_251764 = ((int32_t *) mem_272247.mem)[i_270921];
            int64_t i_251765 = sext_i32_i64(i_251764);
            bool x_251766 = sle64((int64_t) 0, i_251765);
            bool y_251767 = slt64(i_251765, replSegmIota_res_251668);
            bool bounds_check_251768 = x_251766 && y_251767;
            bool index_certs_251769;
            
            if (!bounds_check_251768) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_251765, "] out of bounds for array of shape [", (long long) replSegmIota_res_251668, "].", "-> #0  associations.fut:26:57-71\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:200:3-17\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t arg_251770 = ((int32_t *) mem_272208)[i_251765];
            int32_t defunc_0_f_res_251771 = sub32(i64_res_251759, arg_251770);
            
            ((int32_t *) mem_272260.mem)[i_270921] = defunc_0_f_res_251771;
        }
        if (memblock_set(ctx, &ext_mem_272280, &mem_272247, "mem_272247") != 0)
            return 1;
        ext_272277 = i32_res_251743;
        ext_272276 = i32_res_251743;
        if (memblock_set(ctx, &ext_mem_272275, &mem_272260, "mem_272260") != 0)
            return 1;
        ext_272272 = i32_res_251743;
        ext_272271 = i32_res_251743;
        replSegmIota_res_251725 = i32_res_251743;
        replSegmIota_res_251726 = i32_res_251743;
    }
    if (memblock_unref(ctx, &mem_272086, "mem_272086") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_272200, "ext_mem_272200") != 0)
        return 1;
    
    bool dim_match_251774 = i32_res_251631 == replSegmIota_res_251725;
    bool empty_or_match_cert_251775;
    
    if (!dim_match_251774) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (core language) shape (", (long long) replSegmIota_res_251725, ") cannot match shape of type `[", (long long) i32_res_251631, "](i32, i32)`.", "-> #0  associations.fut:46:15-53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_251772 = replSegmIota_res_251725 == replSegmIota_res_251726;
    bool empty_or_match_cert_251773;
    
    if (!dim_match_251772) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Function return value does not match shape of declared return type.", "-> #0  associations.fut:19:1-27:22\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (mem_272283_cached_sizze_273312 < bytes_272282) {
        err = lexical_realloc(ctx, &mem_272283, &mem_272283_cached_sizze_273312, bytes_272282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272286_cached_sizze_273313 < bytes_272282) {
        err = lexical_realloc(ctx, &mem_272286, &mem_272286_cached_sizze_273313, bytes_272282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270927 = 0; i_270927 < i32_res_251631; i_270927++) {
        int32_t x_252983 = ((int32_t *) ext_mem_272280.mem)[i_270927];
        int32_t x_252984 = ((int32_t *) ext_mem_272130.mem)[i_270927];
        int32_t x_252985 = ((int32_t *) ext_mem_272275.mem)[i_270927];
        int64_t j_252987 = sext_i32_i64(x_252984);
        bool x_252988 = sle64((int64_t) 0, j_252987);
        bool y_252989 = slt64(j_252987, defunc_0_f_res_251604);
        bool bounds_check_252990 = x_252988 && y_252989;
        bool index_certs_252991;
        
        if (!bounds_check_252990) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_252987, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:49:33-41\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  associations.fut:49:15-54\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t arg_252992 = ((int32_t *) mem_272048)[j_252987];
        int32_t defunc_1_f_res_252993 = sub32(x_252983, arg_252992);
        bool index_certs_252999;
        
        if (!bounds_check_252990) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_252987, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:125:37-50\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t arg_253000 = ((int32_t *) mem_272054)[j_252987];
        int32_t i_253001 = add32(defunc_1_f_res_252993, arg_253000);
        int64_t i_253002 = sext_i32_i64(i_253001);
        bool x_253003 = sle64((int64_t) 0, i_253002);
        bool y_253004 = slt64(i_253002, nz2084U_226339);
        bool bounds_check_253005 = x_253003 && y_253004;
        bool index_certs_253006;
        
        if (!bounds_check_253005) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_253002, "] out of bounds for array of shape [", (long long) nz2084U_226339, "].", "-> #0  associations.fut:125:29-57\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t lifted_index_res_253007 = ((int32_t *) mem_272022)[i_253002];
        int32_t i_253008 = add32(x_252985, arg_253000);
        int64_t i_253009 = sext_i32_i64(i_253008);
        bool x_253010 = sle64((int64_t) 0, i_253009);
        bool y_253011 = slt64(i_253009, nz2084U_226339);
        bool bounds_check_253012 = x_253010 && y_253011;
        bool index_certs_253013;
        
        if (!bounds_check_253012) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_253009, "] out of bounds for array of shape [", (long long) nz2084U_226339, "].", "-> #0  associations.fut:125:29-57\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t lifted_index_res_253014 = ((int32_t *) mem_272022)[i_253009];
        
        ((int32_t *) mem_272283)[i_270927] = lifted_index_res_253007;
        ((int32_t *) mem_272286)[i_270927] = lifted_index_res_253014;
    }
    if (memblock_unref(ctx, &ext_mem_272130, "ext_mem_272130") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_272275, "ext_mem_272275") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_272280, "ext_mem_272280") != 0)
        return 1;
    
    bool dim_match_251991 = replSegmIota_res_251944 == replSegmIota_res_251945;
    bool empty_or_match_cert_251992;
    
    if (!dim_match_251991) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Function return value does not match shape of declared return type.", "-> #0  associations.fut:19:1-27:22\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (mem_272655_cached_sizze_273325 < bytes_272654) {
        err = lexical_realloc(ctx, &mem_272655, &mem_272655_cached_sizze_273325, bytes_272654);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272658_cached_sizze_273326 < bytes_272654) {
        err = lexical_realloc(ctx, &mem_272658, &mem_272658_cached_sizze_273326, bytes_272654);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272661_cached_sizze_273327 < bytes_272654) {
        err = lexical_realloc(ctx, &mem_272661, &mem_272661_cached_sizze_273327, bytes_272654);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272664_cached_sizze_273328 < bytes_272654) {
        err = lexical_realloc(ctx, &mem_272664, &mem_272664_cached_sizze_273328, bytes_272654);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272667_cached_sizze_273329 < bytes_272654) {
        err = lexical_realloc(ctx, &mem_272667, &mem_272667_cached_sizze_273329, bytes_272654);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_271025 = 0; i_271025 < replSegmIota_res_251944; i_271025++) {
        int32_t x_252923 = ((int32_t *) ext_mem_272652.mem)[i_271025];
        int32_t x_252924 = ((int32_t *) ext_mem_272647.mem)[i_271025];
        int64_t associationI_252925 = sext_i32_i64(x_252923);
        bool x_252926 = sle64((int64_t) 0, associationI_252925);
        bool y_252927 = slt64(associationI_252925, binop_x_272375);
        bool bounds_check_252928 = x_252926 && y_252927;
        bool index_certs_252929;
        
        if (!bounds_check_252928) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) associationI_252925, "] out of bounds for array of shape [", (long long) binop_x_272375, "].", "-> #0  associations.fut:55:59-84\n   #1  /prelude/functional.fut:9:42-44\n   #2  associations.fut:54:8-58:54\n   #3  associations.fut:128:29-85\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t new_index_252930 = squot64(associationI_252925, partition_sizze_251445);
        int64_t binop_y_252931 = partition_sizze_251445 * new_index_252930;
        int64_t new_index_252932 = associationI_252925 - binop_y_252931;
        int32_t defunc_0_f_res_252933 = ((int32_t *) mem_272378)[new_index_252930 * partition_sizze_251445 + new_index_252932];
        int32_t defunc_0_f_res_252934 = ((int32_t *) mem_272382)[new_index_252930 * partition_sizze_251445 + new_index_252932];
        int32_t defunc_0_f_res_252935 = ((int32_t *) mem_272386)[new_index_252930 * partition_sizze_251445 + new_index_252932];
        int32_t defunc_0_f_res_252936 = ((int32_t *) mem_272390)[new_index_252930 * partition_sizze_251445 + new_index_252932];
        int32_t defunc_0_f_res_252937 = ((int32_t *) mem_272394)[new_index_252930 * partition_sizze_251445 + new_index_252932];
        int64_t i_252938 = sext_i32_i64(defunc_0_f_res_252933);
        bool x_252939 = sle64((int64_t) 0, i_252938);
        bool y_252940 = slt64(i_252938, defunc_0_f_res_251604);
        bool bounds_check_252941 = x_252939 && y_252940;
        bool index_certs_252942;
        
        if (!bounds_check_252941) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252938, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:56:50-55\n   #1  /prelude/functional.fut:9:42-44\n   #2  associations.fut:54:8-58:54\n   #3  associations.fut:128:29-85\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t arg_252943 = ((int32_t *) mem_272035)[i_252938];
        bool zzero_252944 = arg_252943 == 0;
        bool nonzzero_252945 = !zzero_252944;
        bool nonzzero_cert_252946;
        
        if (!nonzzero_252945) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  associations.fut:56:41-55\n   #1  /prelude/functional.fut:9:42-44\n   #2  associations.fut:54:8-58:54\n   #3  associations.fut:128:29-85\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t a_252947 = smod32(x_252924, arg_252943);
        int32_t b_252948 = sdiv32(x_252924, arg_252943);
        bool index_certs_252960;
        
        if (!bounds_check_252941) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252938, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:125:37-50\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t arg_252961 = ((int32_t *) mem_272054)[i_252938];
        int32_t i_252962 = add32(a_252947, arg_252961);
        int64_t i_252963 = sext_i32_i64(i_252962);
        bool x_252964 = sle64((int64_t) 0, i_252963);
        bool y_252965 = slt64(i_252963, nz2084U_226339);
        bool bounds_check_252966 = x_252964 && y_252965;
        bool index_certs_252967;
        
        if (!bounds_check_252966) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252963, "] out of bounds for array of shape [", (long long) nz2084U_226339, "].", "-> #0  associations.fut:125:29-57\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t lifted_index_res_252968 = ((int32_t *) mem_272022)[i_252963];
        int64_t gridI_252969 = sext_i32_i64(defunc_0_f_res_252934);
        bool x_252970 = sle64((int64_t) 0, gridI_252969);
        bool y_252971 = slt64(gridI_252969, defunc_0_f_res_251604);
        bool bounds_check_252972 = x_252970 && y_252971;
        bool index_certs_252973;
        
        if (!bounds_check_252972) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gridI_252969, "] out of bounds for array of shape [", (long long) defunc_0_f_res_251604, "].", "-> #0  associations.fut:125:37-50\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t arg_252974 = ((int32_t *) mem_272054)[gridI_252969];
        int32_t i_252975 = add32(b_252948, arg_252974);
        int64_t i_252976 = sext_i32_i64(i_252975);
        bool x_252977 = sle64((int64_t) 0, i_252976);
        bool y_252978 = slt64(i_252976, nz2084U_226339);
        bool bounds_check_252979 = x_252977 && y_252978;
        bool index_certs_252980;
        
        if (!bounds_check_252979) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252976, "] out of bounds for array of shape [", (long long) nz2084U_226339, "].", "-> #0  associations.fut:125:29-57\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t lifted_index_res_252981 = ((int32_t *) mem_272022)[i_252976];
        
        ((int32_t *) mem_272655)[i_271025] = lifted_index_res_252968;
        ((int32_t *) mem_272658)[i_271025] = lifted_index_res_252981;
        ((int32_t *) mem_272661)[i_271025] = defunc_0_f_res_252935;
        ((int32_t *) mem_272664)[i_271025] = defunc_0_f_res_252936;
        ((int32_t *) mem_272667)[i_271025] = defunc_0_f_res_252937;
    }
    if (memblock_unref(ctx, &ext_mem_272647, "ext_mem_272647") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_272652, "ext_mem_272652") != 0)
        return 1;
    
    bool match_val_247460 = z30U_226340 == (int8_t) 2;
    bool match_val_247461 = z30U_226340 == (int8_t) 1;
    bool x_247462 = match_val_247460 || match_val_247461;
    bool hole_c_247463;
    
    if (!x_247462) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Reached hole of type: f32", "-> #0  potential.fut:141:59-61\n   #1  potential.fut:190:26-47\n   #2  potential.fut:192:48-72\n   #3  /prelude/functional.fut:9:42-44\n   #4  associations.fut:144:12-35\n   #5  /prelude/soacs.fut:172:53-55\n   #6  /prelude/functional.fut:9:42-44\n   #7  associations.fut:230:7-231:29\n   #8  futhark_interaction.fut:55:8-105\n   #9  futhark_interaction.fut:48:1-57:17\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    float defunc_1_f_res_248878 = z30U_226341 * z30U_226341;
    float defunc_1_f_res_248879 = z30U_226342 * z30U_226342;
    float defunc_1_f_res_248880 = z30U_226343 * z30U_226343;
    float defunc_1_f_res_248881 = defunc_1_f_res_248879 + defunc_1_f_res_248880;
    float defunc_0_f_res_248882 = defunc_1_f_res_248878 + defunc_1_f_res_248881;
    
    if (mem_272720_cached_sizze_273330 < bytes_272719) {
        err = lexical_realloc(ctx, &mem_272720, &mem_272720_cached_sizze_273330, bytes_272719);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272723_cached_sizze_273331 < bytes_272719) {
        err = lexical_realloc(ctx, &mem_272723, &mem_272723_cached_sizze_273331, bytes_272719);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t discard_271039;
    int64_t scanacc_271033 = (int64_t) 0;
    
    for (int64_t i_271036 = 0; i_271036 < conc_tmp_252059; i_271036++) {
        bool index_concat_cmp_271184 = sle64(i32_res_251631, i_271036);
        int32_t index_concat_branch_271188;
        
        if (index_concat_cmp_271184 == 1) {
            int64_t index_concat_i_271185 = sub64(i_271036, i32_res_251631);
            int32_t index_concat_271186 = ((int32_t *) mem_272655)[index_concat_i_271185];
            
            index_concat_branch_271188 = index_concat_271186;
        } else {
            int32_t index_concat_271187 = ((int32_t *) mem_272283)[i_271036];
            
            index_concat_branch_271188 = index_concat_271187;
        }
        
        int32_t index_concat_branch_271182;
        
        if (index_concat_cmp_271184 == 1) {
            int64_t index_concat_i_271179 = sub64(i_271036, i32_res_251631);
            int32_t index_concat_271180 = ((int32_t *) mem_272658)[index_concat_i_271179];
            
            index_concat_branch_271182 = index_concat_271180;
        } else {
            int32_t index_concat_271181 = ((int32_t *) mem_272286)[i_271036];
            
            index_concat_branch_271182 = index_concat_271181;
        }
        
        int32_t index_concat_branch_271176;
        
        if (index_concat_cmp_271184 == 1) {
            int64_t index_concat_i_271173 = sub64(i_271036, i32_res_251631);
            int32_t index_concat_271174 = ((int32_t *) mem_272661)[index_concat_i_271173];
            
            index_concat_branch_271176 = index_concat_271174;
        } else {
            index_concat_branch_271176 = 0;
        }
        
        int32_t index_concat_branch_271170;
        
        if (index_concat_cmp_271184 == 1) {
            int64_t index_concat_i_271167 = sub64(i_271036, i32_res_251631);
            int32_t index_concat_271168 = ((int32_t *) mem_272664)[index_concat_i_271167];
            
            index_concat_branch_271170 = index_concat_271168;
        } else {
            index_concat_branch_271170 = 0;
        }
        
        int32_t index_concat_branch_271164;
        
        if (index_concat_cmp_271184 == 1) {
            int64_t index_concat_i_271161 = sub64(i_271036, i32_res_251631);
            int32_t index_concat_271162 = ((int32_t *) mem_272667)[index_concat_i_271161];
            
            index_concat_branch_271164 = index_concat_271162;
        } else {
            index_concat_branch_271164 = 0;
        }
        
        int64_t i_252542 = sext_i32_i64(index_concat_branch_271188);
        bool x_252543 = sle64((int64_t) 0, i_252542);
        bool y_252544 = slt64(i_252542, nz2084U_226339);
        bool bounds_check_252545 = x_252543 && y_252544;
        bool index_certs_252546;
        
        if (!bounds_check_252545) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_252542, "] out of bounds for array of shape [", (long long) nz2084U_226339, "].", "-> #0  associations.fut:142:18-31\n   #1  /prelude/soacs.fut:172:53-55\n   #2  /prelude/functional.fut:9:42-44\n   #3  associations.fut:230:7-231:29\n   #4  futhark_interaction.fut:55:8-105\n   #5  futhark_interaction.fut:48:1-57:17\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        float defunc_0_p_res_252547 = ((float *) mem_271703)[i_252542];
        float defunc_0_p_res_252548 = ((float *) mem_271706)[i_252542];
        float defunc_0_p_res_252549 = ((float *) mem_271709)[i_252542];
        float defunc_0_p_res_252550 = ((float *) mem_271618)[i_252542];
        float defunc_0_p_res_252551 = ((float *) mem_271621)[i_252542];
        float defunc_0_p_res_252552 = ((float *) mem_271624)[i_252542];
        float defunc_0_p_res_252553 = ((float *) mem_271627)[i_252542];
        float defunc_0_f_res_252554 = sitofp_i32_f32(index_concat_branch_271176);
        float defunc_0_f_res_252555 = sitofp_i32_f32(index_concat_branch_271170);
        float defunc_0_f_res_252556 = sitofp_i32_f32(index_concat_branch_271164);
        float defunc_1_f_res_252557 = defunc_1_f_res_248856 * defunc_0_f_res_252554;
        float defunc_1_f_res_252558 = defunc_1_f_res_248857 * defunc_0_f_res_252555;
        float defunc_1_f_res_252559 = defunc_1_f_res_248858 * defunc_0_f_res_252556;
        int64_t j_252560 = sext_i32_i64(index_concat_branch_271182);
        bool x_252561 = sle64((int64_t) 0, j_252560);
        bool y_252562 = slt64(j_252560, nz2084U_226339);
        bool bounds_check_252563 = x_252561 && y_252562;
        bool index_certs_252564;
        
        if (!bounds_check_252563) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_252560, "] out of bounds for array of shape [", (long long) nz2084U_226339, "].", "-> #0  associations.fut:143:69-82\n   #1  /prelude/soacs.fut:172:53-55\n   #2  /prelude/functional.fut:9:42-44\n   #3  associations.fut:230:7-231:29\n   #4  futhark_interaction.fut:55:8-105\n   #5  futhark_interaction.fut:48:1-57:17\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        float dyn_translate_arg_252565 = ((float *) mem_271703)[j_252560];
        float dyn_translate_arg_252566 = ((float *) mem_271706)[j_252560];
        float dyn_translate_arg_252567 = ((float *) mem_271709)[j_252560];
        float dyn_translate_arg_252568 = ((float *) mem_271618)[j_252560];
        float dyn_translate_arg_252569 = ((float *) mem_271621)[j_252560];
        float dyn_translate_arg_252570 = ((float *) mem_271624)[j_252560];
        float dyn_translate_arg_252571 = ((float *) mem_271627)[j_252560];
        float defunc_1_f_res_252572 = defunc_1_f_res_252557 + dyn_translate_arg_252565;
        float defunc_1_f_res_252573 = defunc_1_f_res_252558 + dyn_translate_arg_252566;
        float defunc_1_f_res_252574 = defunc_1_f_res_252559 + dyn_translate_arg_252567;
        float defunc_1_f_res_252575 = defunc_1_f_res_252572 - defunc_0_p_res_252547;
        float defunc_1_f_res_252576 = defunc_1_f_res_252573 - defunc_0_p_res_252548;
        float defunc_1_f_res_252577 = defunc_1_f_res_252574 - defunc_0_p_res_252549;
        float defunc_0_f_res_252578 = 0.0F - defunc_0_p_res_252551;
        float defunc_0_f_res_252579 = 0.0F - defunc_0_p_res_252552;
        float defunc_0_f_res_252580 = 0.0F - defunc_0_p_res_252553;
        float defunc_0_f_res_252581 = 0.0F - defunc_0_f_res_252578;
        float defunc_0_f_res_252582 = 0.0F - defunc_0_f_res_252579;
        float defunc_0_f_res_252583 = 0.0F - defunc_0_f_res_252580;
        float defunc_1_f_res_252584 = defunc_1_f_res_252575 * defunc_0_f_res_252578;
        float defunc_1_f_res_252585 = defunc_1_f_res_252576 * defunc_0_f_res_252579;
        float defunc_1_f_res_252586 = defunc_1_f_res_252577 * defunc_0_f_res_252580;
        float defunc_1_f_res_252587 = defunc_1_f_res_252585 + defunc_1_f_res_252586;
        float defunc_0_f_res_252588 = defunc_1_f_res_252584 + defunc_1_f_res_252587;
        float qMult_res_252589 = 0.0F - defunc_0_f_res_252588;
        float arg_252590 = defunc_1_f_res_252577 * defunc_0_f_res_252579;
        float arg_252591 = defunc_1_f_res_252576 * defunc_0_f_res_252580;
        float cross_res_252592 = arg_252590 - arg_252591;
        float arg_252593 = defunc_1_f_res_252575 * defunc_0_f_res_252580;
        float arg_252594 = defunc_1_f_res_252577 * defunc_0_f_res_252578;
        float cross_res_252595 = arg_252593 - arg_252594;
        float arg_252596 = defunc_1_f_res_252576 * defunc_0_f_res_252578;
        float arg_252597 = defunc_1_f_res_252575 * defunc_0_f_res_252579;
        float cross_res_252598 = arg_252596 - arg_252597;
        float defunc_0_f_res_252599 = defunc_0_p_res_252550 * defunc_1_f_res_252575;
        float defunc_0_f_res_252600 = defunc_0_p_res_252550 * defunc_1_f_res_252576;
        float defunc_0_f_res_252601 = defunc_0_p_res_252550 * defunc_1_f_res_252577;
        float defunc_1_f_res_252602 = cross_res_252592 + defunc_0_f_res_252599;
        float defunc_1_f_res_252603 = cross_res_252595 + defunc_0_f_res_252600;
        float defunc_1_f_res_252604 = cross_res_252598 + defunc_0_f_res_252601;
        float arg_252605 = defunc_0_f_res_252583 * defunc_1_f_res_252603;
        float arg_252606 = defunc_0_f_res_252582 * defunc_1_f_res_252604;
        float cross_res_252607 = arg_252605 - arg_252606;
        float arg_252608 = defunc_0_f_res_252581 * defunc_1_f_res_252604;
        float arg_252609 = defunc_0_f_res_252583 * defunc_1_f_res_252602;
        float cross_res_252610 = arg_252608 - arg_252609;
        float arg_252611 = defunc_0_f_res_252582 * defunc_1_f_res_252602;
        float arg_252612 = defunc_0_f_res_252581 * defunc_1_f_res_252603;
        float cross_res_252613 = arg_252611 - arg_252612;
        float defunc_0_f_res_252614 = defunc_0_p_res_252550 * defunc_1_f_res_252602;
        float defunc_0_f_res_252615 = defunc_0_p_res_252550 * defunc_1_f_res_252603;
        float defunc_0_f_res_252616 = defunc_0_p_res_252550 * defunc_1_f_res_252604;
        float defunc_0_f_res_252617 = defunc_0_f_res_252581 * qMult_res_252589;
        float defunc_0_f_res_252618 = defunc_0_f_res_252582 * qMult_res_252589;
        float defunc_0_f_res_252619 = defunc_0_f_res_252583 * qMult_res_252589;
        float defunc_1_f_res_252620 = defunc_0_f_res_252614 + defunc_0_f_res_252617;
        float defunc_1_f_res_252621 = defunc_0_f_res_252615 + defunc_0_f_res_252618;
        float defunc_1_f_res_252622 = defunc_0_f_res_252616 + defunc_0_f_res_252619;
        float defunc_1_f_res_252623 = cross_res_252607 + defunc_1_f_res_252620;
        float defunc_1_f_res_252624 = cross_res_252610 + defunc_1_f_res_252621;
        float defunc_1_f_res_252625 = cross_res_252613 + defunc_1_f_res_252622;
        float arg_252626 = defunc_0_p_res_252550 * dyn_translate_arg_252568;
        float defunc_1_f_res_252627 = dyn_translate_arg_252569 * defunc_0_f_res_252578;
        float defunc_1_f_res_252628 = dyn_translate_arg_252570 * defunc_0_f_res_252579;
        float defunc_1_f_res_252629 = dyn_translate_arg_252571 * defunc_0_f_res_252580;
        float defunc_1_f_res_252630 = defunc_1_f_res_252628 + defunc_1_f_res_252629;
        float defunc_0_f_res_252631 = defunc_1_f_res_252627 + defunc_1_f_res_252630;
        float qMult_res_252632 = arg_252626 - defunc_0_f_res_252631;
        float arg_252633 = dyn_translate_arg_252571 * defunc_0_f_res_252579;
        float arg_252634 = dyn_translate_arg_252570 * defunc_0_f_res_252580;
        float cross_res_252635 = arg_252633 - arg_252634;
        float arg_252636 = dyn_translate_arg_252569 * defunc_0_f_res_252580;
        float arg_252637 = dyn_translate_arg_252571 * defunc_0_f_res_252578;
        float cross_res_252638 = arg_252636 - arg_252637;
        float arg_252639 = dyn_translate_arg_252570 * defunc_0_f_res_252578;
        float arg_252640 = dyn_translate_arg_252569 * defunc_0_f_res_252579;
        float cross_res_252641 = arg_252639 - arg_252640;
        float defunc_0_f_res_252642 = dyn_translate_arg_252568 * defunc_0_f_res_252578;
        float defunc_0_f_res_252643 = dyn_translate_arg_252568 * defunc_0_f_res_252579;
        float defunc_0_f_res_252644 = dyn_translate_arg_252568 * defunc_0_f_res_252580;
        float defunc_0_f_res_252645 = defunc_0_p_res_252550 * dyn_translate_arg_252569;
        float defunc_0_f_res_252646 = defunc_0_p_res_252550 * dyn_translate_arg_252570;
        float defunc_0_f_res_252647 = defunc_0_p_res_252550 * dyn_translate_arg_252571;
        float defunc_1_f_res_252648 = defunc_0_f_res_252642 + defunc_0_f_res_252645;
        float defunc_1_f_res_252649 = defunc_0_f_res_252643 + defunc_0_f_res_252646;
        float defunc_1_f_res_252650 = defunc_0_f_res_252644 + defunc_0_f_res_252647;
        float defunc_1_f_res_252651 = cross_res_252635 + defunc_1_f_res_252648;
        float defunc_1_f_res_252652 = cross_res_252638 + defunc_1_f_res_252649;
        float defunc_1_f_res_252653 = cross_res_252641 + defunc_1_f_res_252650;
        float distanceFunction_res_252654;
        
        if (z30U_226340 == (int8_t) 1) {
            float defunc_0_f_res_268689 = 0.0F - defunc_1_f_res_252651;
            float defunc_0_f_res_268690 = 0.0F - defunc_1_f_res_252652;
            float defunc_0_f_res_268691 = 0.0F - defunc_1_f_res_252653;
            float defunc_1_f_res_268692 = z30U_226344 * defunc_1_f_res_252651;
            float defunc_1_f_res_268693 = z30U_226345 * defunc_1_f_res_252652;
            float defunc_1_f_res_268694 = z30U_226346 * defunc_1_f_res_252653;
            float defunc_1_f_res_268695 = defunc_1_f_res_268693 + defunc_1_f_res_268694;
            float defunc_0_f_res_268696 = defunc_1_f_res_268692 + defunc_1_f_res_268695;
            float qMult_res_268697 = 0.0F - defunc_0_f_res_268696;
            float arg_268698 = z30U_226346 * defunc_1_f_res_252652;
            float arg_268699 = z30U_226345 * defunc_1_f_res_252653;
            float cross_res_268700 = arg_268698 - arg_268699;
            float arg_268701 = z30U_226344 * defunc_1_f_res_252653;
            float arg_268702 = z30U_226346 * defunc_1_f_res_252651;
            float cross_res_268703 = arg_268701 - arg_268702;
            float arg_268704 = z30U_226345 * defunc_1_f_res_252651;
            float arg_268705 = z30U_226344 * defunc_1_f_res_252652;
            float cross_res_268706 = arg_268704 - arg_268705;
            float defunc_0_f_res_268707 = z30U_226344 * qMult_res_252632;
            float defunc_0_f_res_268708 = z30U_226345 * qMult_res_252632;
            float defunc_0_f_res_268709 = z30U_226346 * qMult_res_252632;
            float defunc_1_f_res_268710 = cross_res_268700 + defunc_0_f_res_268707;
            float defunc_1_f_res_268711 = cross_res_268703 + defunc_0_f_res_268708;
            float defunc_1_f_res_268712 = cross_res_268706 + defunc_0_f_res_268709;
            float arg_268713 = defunc_0_f_res_268691 * defunc_1_f_res_268711;
            float arg_268714 = defunc_0_f_res_268690 * defunc_1_f_res_268712;
            float cross_res_268715 = arg_268713 - arg_268714;
            float arg_268716 = defunc_0_f_res_268689 * defunc_1_f_res_268712;
            float arg_268717 = defunc_0_f_res_268691 * defunc_1_f_res_268710;
            float cross_res_268718 = arg_268716 - arg_268717;
            float arg_268719 = defunc_0_f_res_268690 * defunc_1_f_res_268710;
            float arg_268720 = defunc_0_f_res_268689 * defunc_1_f_res_268711;
            float cross_res_268721 = arg_268719 - arg_268720;
            float defunc_0_f_res_268722 = qMult_res_252632 * defunc_1_f_res_268710;
            float defunc_0_f_res_268723 = qMult_res_252632 * defunc_1_f_res_268711;
            float defunc_0_f_res_268724 = qMult_res_252632 * defunc_1_f_res_268712;
            float defunc_0_f_res_268725 = defunc_0_f_res_268689 * qMult_res_268697;
            float defunc_0_f_res_268726 = defunc_0_f_res_268690 * qMult_res_268697;
            float defunc_0_f_res_268727 = defunc_0_f_res_268691 * qMult_res_268697;
            float defunc_1_f_res_268728 = defunc_0_f_res_268722 + defunc_0_f_res_268725;
            float defunc_1_f_res_268729 = defunc_0_f_res_268723 + defunc_0_f_res_268726;
            float defunc_1_f_res_268730 = defunc_0_f_res_268724 + defunc_0_f_res_268727;
            float defunc_1_f_res_268731 = cross_res_268715 + defunc_1_f_res_268728;
            float defunc_1_f_res_268732 = cross_res_268718 + defunc_1_f_res_268729;
            float defunc_1_f_res_268733 = cross_res_268721 + defunc_1_f_res_268730;
            float defunc_0_f_res_268734 = 0.0F - defunc_1_f_res_252623;
            float defunc_0_f_res_268735 = 0.0F - defunc_1_f_res_252624;
            float defunc_0_f_res_268736 = 0.0F - defunc_1_f_res_252625;
            float defunc_1_f_res_268737 = z30U_226341 * defunc_1_f_res_268731;
            float defunc_1_f_res_268738 = z30U_226342 * defunc_1_f_res_268732;
            float defunc_1_f_res_268739 = z30U_226343 * defunc_1_f_res_268733;
            float defunc_1_f_res_268740 = defunc_1_f_res_268738 + defunc_1_f_res_268739;
            float defunc_0_f_res_268741 = defunc_1_f_res_268737 + defunc_1_f_res_268740;
            float defunc_1_f_res_268742 = z30U_226341 * defunc_0_f_res_268734;
            float defunc_1_f_res_268743 = z30U_226342 * defunc_0_f_res_268735;
            float defunc_1_f_res_268744 = z30U_226343 * defunc_0_f_res_268736;
            float defunc_1_f_res_268745 = defunc_1_f_res_268743 + defunc_1_f_res_268744;
            float defunc_0_f_res_268746 = defunc_1_f_res_268742 + defunc_1_f_res_268745;
            float defunc_1_f_res_268747 = defunc_1_f_res_268731 * defunc_1_f_res_268731;
            float defunc_1_f_res_268748 = defunc_1_f_res_268732 * defunc_1_f_res_268732;
            float defunc_1_f_res_268749 = defunc_1_f_res_268733 * defunc_1_f_res_268733;
            float defunc_1_f_res_268750 = defunc_1_f_res_268748 + defunc_1_f_res_268749;
            float defunc_0_f_res_268751 = defunc_1_f_res_268747 + defunc_1_f_res_268750;
            float defunc_1_f_res_268752 = defunc_1_f_res_268731 * defunc_0_f_res_268734;
            float defunc_1_f_res_268753 = defunc_1_f_res_268732 * defunc_0_f_res_268735;
            float defunc_1_f_res_268754 = defunc_1_f_res_268733 * defunc_0_f_res_268736;
            float defunc_1_f_res_268755 = defunc_1_f_res_268753 + defunc_1_f_res_268754;
            float defunc_0_f_res_268756 = defunc_1_f_res_268752 + defunc_1_f_res_268755;
            float arg_268757 = defunc_0_f_res_248882 * defunc_0_f_res_268751;
            float arg_268758 = defunc_0_f_res_268741 * defunc_0_f_res_268741;
            float det_268759 = arg_268757 - arg_268758;
            float arg_268760 = defunc_0_f_res_268746 * defunc_0_f_res_268751;
            float arg_268761 = defunc_0_f_res_268741 * defunc_0_f_res_268756;
            float arg_268762 = arg_268760 - arg_268761;
            float i_m_268763 = arg_268762 / det_268759;
            float arg_268764 = defunc_0_f_res_248882 * defunc_0_f_res_268756;
            float arg_268765 = defunc_0_f_res_268741 * defunc_0_f_res_268746;
            float arg_268766 = arg_268764 - arg_268765;
            float j_m_268767 = arg_268766 / det_268759;
            float arg_268768 = defunc_0_f_res_268746 - defunc_0_f_res_268741;
            float i_p_268769 = arg_268768 / defunc_0_f_res_248882;
            float arg_268770 = defunc_0_f_res_268741 + defunc_0_f_res_268746;
            float i_n_268771 = arg_268770 / defunc_0_f_res_248882;
            float arg_268772 = defunc_0_f_res_268756 - defunc_0_f_res_268741;
            float j_p_268773 = arg_268772 / defunc_0_f_res_268751;
            float arg_268774 = defunc_0_f_res_268741 + defunc_0_f_res_268756;
            float j_n_268775 = arg_268774 / defunc_0_f_res_268751;
            bool cond_268776 = det_268759 == 0.0F;
            bool cond_268777 = !cond_268776;
            bool cond_268778 = -1.0F <= i_m_268763;
            bool lifted_valid_res_t_res_268779 = i_m_268763 <= 1.0F;
            bool x_268780 = cond_268778 && lifted_valid_res_t_res_268779;
            bool x_268781 = cond_268777 && x_268780;
            bool cond_268782 = -1.0F <= j_m_268767;
            bool lifted_valid_res_t_res_268783 = j_m_268767 <= 1.0F;
            bool x_268784 = cond_268782 && lifted_valid_res_t_res_268783;
            bool x_268785 = x_268781 && x_268784;
            float rodDistance_res_268786;
            
            if (x_268785 == 1) {
                float defunc_0_f_res_268787 = defunc_1_f_res_268731 * j_m_268767;
                float defunc_0_f_res_268788 = defunc_1_f_res_268732 * j_m_268767;
                float defunc_0_f_res_268789 = defunc_1_f_res_268733 * j_m_268767;
                float defunc_0_f_res_268790 = z30U_226341 * i_m_268763;
                float defunc_0_f_res_268791 = z30U_226342 * i_m_268763;
                float defunc_0_f_res_268792 = z30U_226343 * i_m_268763;
                float defunc_1_f_res_268793 = defunc_0_f_res_268787 + defunc_0_f_res_268790;
                float defunc_1_f_res_268794 = defunc_0_f_res_268788 + defunc_0_f_res_268791;
                float defunc_1_f_res_268795 = defunc_0_f_res_268789 + defunc_0_f_res_268792;
                float defunc_1_f_res_268796 = defunc_1_f_res_268793 - defunc_0_f_res_268734;
                float defunc_1_f_res_268797 = defunc_1_f_res_268794 - defunc_0_f_res_268735;
                float defunc_1_f_res_268798 = defunc_1_f_res_268795 - defunc_0_f_res_268736;
                float defunc_1_f_res_268799 = defunc_1_f_res_268796 * defunc_1_f_res_268796;
                float defunc_1_f_res_268800 = defunc_1_f_res_268797 * defunc_1_f_res_268797;
                float defunc_1_f_res_268801 = defunc_1_f_res_268798 * defunc_1_f_res_268798;
                float defunc_1_f_res_268802 = defunc_1_f_res_268800 + defunc_1_f_res_268801;
                float defunc_0_f_res_268803 = defunc_1_f_res_268799 + defunc_1_f_res_268802;
                float sqrt_res_268804 = futrts_sqrt32(defunc_0_f_res_268803);
                
                rodDistance_res_268786 = sqrt_res_268804;
            } else {
                float defunc_0_f_res_268805 = -1.0F * defunc_1_f_res_268731;
                float defunc_0_f_res_268806 = -1.0F * defunc_1_f_res_268732;
                float defunc_0_f_res_268807 = -1.0F * defunc_1_f_res_268733;
                float defunc_0_f_res_268808 = -1.0F * z30U_226341;
                float defunc_0_f_res_268809 = -1.0F * z30U_226342;
                float defunc_0_f_res_268810 = -1.0F * z30U_226343;
                float defunc_1_f_res_268811 = defunc_0_f_res_268805 + defunc_0_f_res_268808;
                float defunc_1_f_res_268812 = defunc_0_f_res_268806 + defunc_0_f_res_268809;
                float defunc_1_f_res_268813 = defunc_0_f_res_268807 + defunc_0_f_res_268810;
                float defunc_1_f_res_268814 = defunc_1_f_res_268811 - defunc_0_f_res_268734;
                float defunc_1_f_res_268815 = defunc_1_f_res_268812 - defunc_0_f_res_268735;
                float defunc_1_f_res_268816 = defunc_1_f_res_268813 - defunc_0_f_res_268736;
                float defunc_1_f_res_268817 = defunc_1_f_res_268814 * defunc_1_f_res_268814;
                float defunc_1_f_res_268818 = defunc_1_f_res_268815 * defunc_1_f_res_268815;
                float defunc_1_f_res_268819 = defunc_1_f_res_268816 * defunc_1_f_res_268816;
                float defunc_1_f_res_268820 = defunc_1_f_res_268818 + defunc_1_f_res_268819;
                float defunc_0_f_res_268821 = defunc_1_f_res_268817 + defunc_1_f_res_268820;
                float defunc_1_f_res_268822 = defunc_1_f_res_268731 + defunc_0_f_res_268808;
                float defunc_1_f_res_268823 = defunc_1_f_res_268732 + defunc_0_f_res_268809;
                float defunc_1_f_res_268824 = defunc_1_f_res_268733 + defunc_0_f_res_268810;
                float defunc_1_f_res_268825 = defunc_1_f_res_268822 - defunc_0_f_res_268734;
                float defunc_1_f_res_268826 = defunc_1_f_res_268823 - defunc_0_f_res_268735;
                float defunc_1_f_res_268827 = defunc_1_f_res_268824 - defunc_0_f_res_268736;
                float defunc_1_f_res_268828 = defunc_1_f_res_268825 * defunc_1_f_res_268825;
                float defunc_1_f_res_268829 = defunc_1_f_res_268826 * defunc_1_f_res_268826;
                float defunc_1_f_res_268830 = defunc_1_f_res_268827 * defunc_1_f_res_268827;
                float defunc_1_f_res_268831 = defunc_1_f_res_268829 + defunc_1_f_res_268830;
                float defunc_0_f_res_268832 = defunc_1_f_res_268828 + defunc_1_f_res_268831;
                float defunc_1_f_res_268833 = z30U_226341 + defunc_0_f_res_268805;
                float defunc_1_f_res_268834 = z30U_226342 + defunc_0_f_res_268806;
                float defunc_1_f_res_268835 = z30U_226343 + defunc_0_f_res_268807;
                float defunc_1_f_res_268836 = defunc_1_f_res_268833 - defunc_0_f_res_268734;
                float defunc_1_f_res_268837 = defunc_1_f_res_268834 - defunc_0_f_res_268735;
                float defunc_1_f_res_268838 = defunc_1_f_res_268835 - defunc_0_f_res_268736;
                float defunc_1_f_res_268839 = defunc_1_f_res_268836 * defunc_1_f_res_268836;
                float defunc_1_f_res_268840 = defunc_1_f_res_268837 * defunc_1_f_res_268837;
                float defunc_1_f_res_268841 = defunc_1_f_res_268838 * defunc_1_f_res_268838;
                float defunc_1_f_res_268842 = defunc_1_f_res_268840 + defunc_1_f_res_268841;
                float defunc_0_f_res_268843 = defunc_1_f_res_268839 + defunc_1_f_res_268842;
                float defunc_1_f_res_268844 = z30U_226341 + defunc_1_f_res_268731;
                float defunc_1_f_res_268845 = z30U_226342 + defunc_1_f_res_268732;
                float defunc_1_f_res_268846 = z30U_226343 + defunc_1_f_res_268733;
                float defunc_1_f_res_268847 = defunc_1_f_res_268844 - defunc_0_f_res_268734;
                float defunc_1_f_res_268848 = defunc_1_f_res_268845 - defunc_0_f_res_268735;
                float defunc_1_f_res_268849 = defunc_1_f_res_268846 - defunc_0_f_res_268736;
                float defunc_1_f_res_268850 = defunc_1_f_res_268847 * defunc_1_f_res_268847;
                float defunc_1_f_res_268851 = defunc_1_f_res_268848 * defunc_1_f_res_268848;
                float defunc_1_f_res_268852 = defunc_1_f_res_268849 * defunc_1_f_res_268849;
                float defunc_1_f_res_268853 = defunc_1_f_res_268851 + defunc_1_f_res_268852;
                float defunc_0_f_res_268854 = defunc_1_f_res_268850 + defunc_1_f_res_268853;
                bool cond_268855 = -1.0F <= j_n_268775;
                bool lifted_valid_res_t_res_268856 = j_n_268775 <= 1.0F;
                bool x_268857 = cond_268855 && lifted_valid_res_t_res_268856;
                float min_arg_268858;
                
                if (x_268857 == 1) {
                    float defunc_0_f_res_268859 = defunc_1_f_res_268731 * j_n_268775;
                    float defunc_0_f_res_268860 = defunc_1_f_res_268732 * j_n_268775;
                    float defunc_0_f_res_268861 = defunc_1_f_res_268733 * j_n_268775;
                    float defunc_1_f_res_268862 = defunc_0_f_res_268808 + defunc_0_f_res_268859;
                    float defunc_1_f_res_268863 = defunc_0_f_res_268809 + defunc_0_f_res_268860;
                    float defunc_1_f_res_268864 = defunc_0_f_res_268810 + defunc_0_f_res_268861;
                    float defunc_1_f_res_268865 = defunc_1_f_res_268862 - defunc_0_f_res_268734;
                    float defunc_1_f_res_268866 = defunc_1_f_res_268863 - defunc_0_f_res_268735;
                    float defunc_1_f_res_268867 = defunc_1_f_res_268864 - defunc_0_f_res_268736;
                    float defunc_1_f_res_268868 = defunc_1_f_res_268865 * defunc_1_f_res_268865;
                    float defunc_1_f_res_268869 = defunc_1_f_res_268866 * defunc_1_f_res_268866;
                    float defunc_1_f_res_268870 = defunc_1_f_res_268867 * defunc_1_f_res_268867;
                    float defunc_1_f_res_268871 = defunc_1_f_res_268869 + defunc_1_f_res_268870;
                    float defunc_0_f_res_268872 = defunc_1_f_res_268868 + defunc_1_f_res_268871;
                    
                    min_arg_268858 = defunc_0_f_res_268872;
                } else {
                    min_arg_268858 = INFINITY;
                }
                
                bool cond_268873 = -1.0F <= j_p_268773;
                bool lifted_valid_res_t_res_268874 = j_p_268773 <= 1.0F;
                bool x_268875 = cond_268873 && lifted_valid_res_t_res_268874;
                float min_arg_268876;
                
                if (x_268875 == 1) {
                    float defunc_0_f_res_268877 = defunc_1_f_res_268731 * j_p_268773;
                    float defunc_0_f_res_268878 = defunc_1_f_res_268732 * j_p_268773;
                    float defunc_0_f_res_268879 = defunc_1_f_res_268733 * j_p_268773;
                    float defunc_1_f_res_268880 = z30U_226341 + defunc_0_f_res_268877;
                    float defunc_1_f_res_268881 = z30U_226342 + defunc_0_f_res_268878;
                    float defunc_1_f_res_268882 = z30U_226343 + defunc_0_f_res_268879;
                    float defunc_1_f_res_268883 = defunc_1_f_res_268880 - defunc_0_f_res_268734;
                    float defunc_1_f_res_268884 = defunc_1_f_res_268881 - defunc_0_f_res_268735;
                    float defunc_1_f_res_268885 = defunc_1_f_res_268882 - defunc_0_f_res_268736;
                    float defunc_1_f_res_268886 = defunc_1_f_res_268883 * defunc_1_f_res_268883;
                    float defunc_1_f_res_268887 = defunc_1_f_res_268884 * defunc_1_f_res_268884;
                    float defunc_1_f_res_268888 = defunc_1_f_res_268885 * defunc_1_f_res_268885;
                    float defunc_1_f_res_268889 = defunc_1_f_res_268887 + defunc_1_f_res_268888;
                    float defunc_0_f_res_268890 = defunc_1_f_res_268886 + defunc_1_f_res_268889;
                    
                    min_arg_268876 = defunc_0_f_res_268890;
                } else {
                    min_arg_268876 = INFINITY;
                }
                
                bool cond_268891 = -1.0F <= i_n_268771;
                bool lifted_valid_res_t_res_268892 = i_n_268771 <= 1.0F;
                bool x_268893 = cond_268891 && lifted_valid_res_t_res_268892;
                float min_arg_268894;
                
                if (x_268893 == 1) {
                    float defunc_0_f_res_268895 = z30U_226341 * i_n_268771;
                    float defunc_0_f_res_268896 = z30U_226342 * i_n_268771;
                    float defunc_0_f_res_268897 = z30U_226343 * i_n_268771;
                    float defunc_1_f_res_268898 = defunc_0_f_res_268805 + defunc_0_f_res_268895;
                    float defunc_1_f_res_268899 = defunc_0_f_res_268806 + defunc_0_f_res_268896;
                    float defunc_1_f_res_268900 = defunc_0_f_res_268807 + defunc_0_f_res_268897;
                    float defunc_1_f_res_268901 = defunc_1_f_res_268898 - defunc_0_f_res_268734;
                    float defunc_1_f_res_268902 = defunc_1_f_res_268899 - defunc_0_f_res_268735;
                    float defunc_1_f_res_268903 = defunc_1_f_res_268900 - defunc_0_f_res_268736;
                    float defunc_1_f_res_268904 = defunc_1_f_res_268901 * defunc_1_f_res_268901;
                    float defunc_1_f_res_268905 = defunc_1_f_res_268902 * defunc_1_f_res_268902;
                    float defunc_1_f_res_268906 = defunc_1_f_res_268903 * defunc_1_f_res_268903;
                    float defunc_1_f_res_268907 = defunc_1_f_res_268905 + defunc_1_f_res_268906;
                    float defunc_0_f_res_268908 = defunc_1_f_res_268904 + defunc_1_f_res_268907;
                    
                    min_arg_268894 = defunc_0_f_res_268908;
                } else {
                    min_arg_268894 = INFINITY;
                }
                
                bool cond_268909 = -1.0F <= i_p_268769;
                bool lifted_valid_res_t_res_268910 = i_p_268769 <= 1.0F;
                bool x_268911 = cond_268909 && lifted_valid_res_t_res_268910;
                float min_arg_268912;
                
                if (x_268911 == 1) {
                    float defunc_0_f_res_268913 = z30U_226341 * i_p_268769;
                    float defunc_0_f_res_268914 = z30U_226342 * i_p_268769;
                    float defunc_0_f_res_268915 = z30U_226343 * i_p_268769;
                    float defunc_1_f_res_268916 = defunc_1_f_res_268731 + defunc_0_f_res_268913;
                    float defunc_1_f_res_268917 = defunc_1_f_res_268732 + defunc_0_f_res_268914;
                    float defunc_1_f_res_268918 = defunc_1_f_res_268733 + defunc_0_f_res_268915;
                    float defunc_1_f_res_268919 = defunc_1_f_res_268916 - defunc_0_f_res_268734;
                    float defunc_1_f_res_268920 = defunc_1_f_res_268917 - defunc_0_f_res_268735;
                    float defunc_1_f_res_268921 = defunc_1_f_res_268918 - defunc_0_f_res_268736;
                    float defunc_1_f_res_268922 = defunc_1_f_res_268919 * defunc_1_f_res_268919;
                    float defunc_1_f_res_268923 = defunc_1_f_res_268920 * defunc_1_f_res_268920;
                    float defunc_1_f_res_268924 = defunc_1_f_res_268921 * defunc_1_f_res_268921;
                    float defunc_1_f_res_268925 = defunc_1_f_res_268923 + defunc_1_f_res_268924;
                    float defunc_0_f_res_268926 = defunc_1_f_res_268922 + defunc_1_f_res_268925;
                    
                    min_arg_268912 = defunc_0_f_res_268926;
                } else {
                    min_arg_268912 = INFINITY;
                }
                
                float min_res_268927 = fmin32(min_arg_268894, min_arg_268912);
                float min_res_268928 = fmin32(min_arg_268876, min_res_268927);
                float min_res_268929 = fmin32(min_arg_268858, min_res_268928);
                float min_res_268930 = fmin32(defunc_0_f_res_268854, min_res_268929);
                float min_res_268931 = fmin32(defunc_0_f_res_268843, min_res_268930);
                float min_res_268932 = fmin32(defunc_0_f_res_268832, min_res_268931);
                float min_res_268933 = fmin32(defunc_0_f_res_268821, min_res_268932);
                float sqrt_res_268934 = futrts_sqrt32(min_res_268933);
                
                rodDistance_res_268786 = sqrt_res_268934;
            }
            distanceFunction_res_252654 = rodDistance_res_268786;
        } else if (z30U_226340 == (int8_t) 2) {
            float defunc_1_f_res_268609 = defunc_1_f_res_252623 * defunc_1_f_res_252623;
            float defunc_1_f_res_268610 = defunc_1_f_res_252624 * defunc_1_f_res_252624;
            float defunc_1_f_res_268611 = defunc_1_f_res_252625 * defunc_1_f_res_252625;
            float defunc_1_f_res_268612 = defunc_1_f_res_268610 + defunc_1_f_res_268611;
            float defunc_0_f_res_268613 = defunc_1_f_res_268609 + defunc_1_f_res_268612;
            float sqrt_res_268614 = futrts_sqrt32(defunc_0_f_res_268613);
            
            distanceFunction_res_252654 = sqrt_res_268614;
        } else {
            distanceFunction_res_252654 = 0.0F;
        }
        
        bool defunc_0_f_res_252907 = distanceFunction_res_252654 <= z30U_226353;
        bool cond_neg_252908 = !defunc_0_f_res_252907;
        int64_t defunc_1_lifted_lambda_res_252909 = btoi_bool_i64(cond_neg_252908);
        bool is_i_252910 = defunc_1_lifted_lambda_res_252909 == (int64_t) 0;
        bool cond_neg_252911 = !is_i_252910;
        int64_t part_res_252912 = btoi_bool_i64(cond_neg_252911);
        int64_t part_res_252913 = btoi_bool_i64(is_i_252910);
        int64_t zz_247601 = part_res_252913 + scanacc_271033;
        
        ((int64_t *) mem_272720)[i_271036] = zz_247601;
        ((int64_t *) mem_272723)[i_271036] = part_res_252912;
        
        int64_t scanacc_tmp_273150 = zz_247601;
        
        scanacc_271033 = scanacc_tmp_273150;
    }
    discard_271039 = scanacc_271033;
    
    int64_t last_index_247603 = conc_tmp_252059 - (int64_t) 1;
    bool is_empty_247604 = conc_tmp_252059 == (int64_t) 0;
    bool x_247605 = !is_empty_247604;
    int64_t last_offset_247606;
    
    if (x_247605 == 1) {
        int64_t x_268935 = ((int64_t *) mem_272720)[last_index_247603];
        
        last_offset_247606 = x_268935;
    } else {
        last_offset_247606 = (int64_t) 0;
    }
    
    int64_t partition_sizze_247608;
    
    if (is_empty_247604 == 1) {
        partition_sizze_247608 = (int64_t) 0;
    } else {
        partition_sizze_247608 = last_offset_247606;
    }
    if (mem_272746_cached_sizze_273332 < bytes_272745) {
        err = lexical_realloc(ctx, &mem_272746, &mem_272746_cached_sizze_273332, bytes_272745);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272749_cached_sizze_273333 < bytes_272745) {
        err = lexical_realloc(ctx, &mem_272749, &mem_272749_cached_sizze_273333, bytes_272745);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272752_cached_sizze_273334 < bytes_272745) {
        err = lexical_realloc(ctx, &mem_272752, &mem_272752_cached_sizze_273334, bytes_272745);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272755_cached_sizze_273335 < bytes_272745) {
        err = lexical_realloc(ctx, &mem_272755, &mem_272755_cached_sizze_273335, bytes_272745);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272758_cached_sizze_273336 < bytes_272745) {
        err = lexical_realloc(ctx, &mem_272758, &mem_272758_cached_sizze_273336, bytes_272745);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t write_iter_271040 = 0; write_iter_271040 < conc_tmp_252059; write_iter_271040++) {
        int64_t write_iv_271046 = ((int64_t *) mem_272723)[write_iter_271040];
        int64_t write_iv_271047 = ((int64_t *) mem_272720)[write_iter_271040];
        bool index_concat_cmp_271154 = sle64(i32_res_251631, write_iter_271040);
        int32_t index_concat_branch_271158;
        
        if (index_concat_cmp_271154 == 1) {
            int64_t index_concat_i_271155 = sub64(write_iter_271040, i32_res_251631);
            int32_t index_concat_271156 = ((int32_t *) mem_272655)[index_concat_i_271155];
            
            index_concat_branch_271158 = index_concat_271156;
        } else {
            int32_t index_concat_271157 = ((int32_t *) mem_272283)[write_iter_271040];
            
            index_concat_branch_271158 = index_concat_271157;
        }
        
        int32_t index_concat_branch_271152;
        
        if (index_concat_cmp_271154 == 1) {
            int64_t index_concat_i_271149 = sub64(write_iter_271040, i32_res_251631);
            int32_t index_concat_271150 = ((int32_t *) mem_272658)[index_concat_i_271149];
            
            index_concat_branch_271152 = index_concat_271150;
        } else {
            int32_t index_concat_271151 = ((int32_t *) mem_272286)[write_iter_271040];
            
            index_concat_branch_271152 = index_concat_271151;
        }
        
        int32_t index_concat_branch_271146;
        
        if (index_concat_cmp_271154 == 1) {
            int64_t index_concat_i_271143 = sub64(write_iter_271040, i32_res_251631);
            int32_t index_concat_271144 = ((int32_t *) mem_272661)[index_concat_i_271143];
            
            index_concat_branch_271146 = index_concat_271144;
        } else {
            index_concat_branch_271146 = 0;
        }
        
        int32_t index_concat_branch_271140;
        
        if (index_concat_cmp_271154 == 1) {
            int64_t index_concat_i_271137 = sub64(write_iter_271040, i32_res_251631);
            int32_t index_concat_271138 = ((int32_t *) mem_272664)[index_concat_i_271137];
            
            index_concat_branch_271140 = index_concat_271138;
        } else {
            index_concat_branch_271140 = 0;
        }
        
        int32_t index_concat_branch_271134;
        
        if (index_concat_cmp_271154 == 1) {
            int64_t index_concat_i_271131 = sub64(write_iter_271040, i32_res_251631);
            int32_t index_concat_271132 = ((int32_t *) mem_272667)[index_concat_i_271131];
            
            index_concat_branch_271134 = index_concat_271132;
        } else {
            index_concat_branch_271134 = 0;
        }
        
        bool is_this_one_247626 = write_iv_271046 == (int64_t) 0;
        int64_t this_offset_247627 = (int64_t) -1 + write_iv_271047;
        int64_t total_res_247628;
        
        if (is_this_one_247626 == 1) {
            total_res_247628 = this_offset_247627;
        } else {
            total_res_247628 = (int64_t) -1;
        }
        if (sle64((int64_t) 0, total_res_247628) && slt64(total_res_247628, conc_tmp_252059)) {
            ((int32_t *) mem_272746)[total_res_247628] = index_concat_branch_271158;
        }
        if (sle64((int64_t) 0, total_res_247628) && slt64(total_res_247628, conc_tmp_252059)) {
            ((int32_t *) mem_272749)[total_res_247628] = index_concat_branch_271152;
        }
        if (sle64((int64_t) 0, total_res_247628) && slt64(total_res_247628, conc_tmp_252059)) {
            ((int32_t *) mem_272752)[total_res_247628] = index_concat_branch_271146;
        }
        if (sle64((int64_t) 0, total_res_247628) && slt64(total_res_247628, conc_tmp_252059)) {
            ((int32_t *) mem_272755)[total_res_247628] = index_concat_branch_271140;
        }
        if (sle64((int64_t) 0, total_res_247628) && slt64(total_res_247628, conc_tmp_252059)) {
            ((int32_t *) mem_272758)[total_res_247628] = index_concat_branch_271134;
        }
    }
    
    bool eq_x_zz_247629 = (int64_t) 0 == last_offset_247606;
    bool p_and_eq_x_y_247630 = x_247605 && eq_x_zz_247629;
    bool empty_slice_247631 = is_empty_247604 || p_and_eq_x_y_247630;
    int64_t m_247632 = sub64(partition_sizze_247608, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_247633 = sle64((int64_t) 0, m_247632);
    bool i_p_m_t_s_leq_w_247634 = slt64(m_247632, conc_tmp_252059);
    bool i_lte_j_247635 = sle64((int64_t) 0, partition_sizze_247608);
    bool y_247636 = zzero_leq_i_p_m_t_s_247633 && i_p_m_t_s_leq_w_247634;
    bool y_247637 = i_lte_j_247635 && y_247636;
    bool ok_or_empty_247638 = empty_slice_247631 || y_247637;
    bool index_certs_247639;
    
    if (!ok_or_empty_247638) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) partition_sizze_247608, "] out of bounds for array of shape [", (long long) conc_tmp_252059, "].", "-> #0  /prelude/soacs.fut:173:6-16\n   #1  /prelude/functional.fut:9:42-44\n   #2  associations.fut:230:7-231:29\n   #3  futhark_interaction.fut:55:8-105\n   #4  futhark_interaction.fut:48:1-57:17\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (mem_272811_cached_sizze_273337 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_272811, &mem_272811_cached_sizze_273337, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273158 = 0; i_273158 < nz2084U_226339; i_273158++) {
        ((float *) mem_272811)[i_273158] = 0.0F;
    }
    if (mem_272814_cached_sizze_273338 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_272814, &mem_272814_cached_sizze_273338, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273159 = 0; i_273159 < nz2084U_226339; i_273159++) {
        ((float *) mem_272814)[i_273159] = 0.0F;
    }
    if (mem_272817_cached_sizze_273339 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_272817, &mem_272817_cached_sizze_273339, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273160 = 0; i_273160 < nz2084U_226339; i_273160++) {
        ((float *) mem_272817)[i_273160] = 0.0F;
    }
    if (mem_272820_cached_sizze_273340 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_272820, &mem_272820_cached_sizze_273340, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273161 = 0; i_273161 < nz2084U_226339; i_273161++) {
        ((float *) mem_272820)[i_273161] = 0.0F;
    }
    if (mem_272823_cached_sizze_273341 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_272823, &mem_272823_cached_sizze_273341, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273162 = 0; i_273162 < nz2084U_226339; i_273162++) {
        ((float *) mem_272823)[i_273162] = 0.0F;
    }
    if (mem_272826_cached_sizze_273342 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_272826, &mem_272826_cached_sizze_273342, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273163 = 0; i_273163 < nz2084U_226339; i_273163++) {
        ((float *) mem_272826)[i_273163] = 0.0F;
    }
    if (mem_272829_cached_sizze_273343 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_272829, &mem_272829_cached_sizze_273343, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_273164 = 0; i_273164 < nz2084U_226339; i_273164++) {
        ((float *) mem_272829)[i_273164] = 0.0F;
    }
    
    bool hole_c_247655;
    
    if (!x_247462) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Reached hole of type: f32", "-> #0  potential.fut:141:59-61\n   #1  potential.fut:190:26-47\n   #2  potential.fut:434:57-81\n   #3  network.fut:25:28-32\n   #4  network.fut:152:24-42\n   #5  network.fut:110:23-40\n   #6  network.fut:140:23-41\n   #7  network.fut:109:23-40\n   #8  network.fut:128:23-41\n   #9  potential.fut:373:24-69\n   #10 /prelude/functional.fut:9:42-44\n   #11 potential.fut:137:19-47\n   #12 associations.fut:200:43-77\n   #13 associations.fut:203:21-208:24\n   #14 /prelude/functional.fut:9:42-44\n   #15 associations.fut:230:7-232:54\n   #16 futhark_interaction.fut:55:8-105\n   #17 futhark_interaction.fut:48:1-57:17\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    float i32_res_248527 = sitofp_i32_f32(z30U_226354);
    bool hole_c_248098;
    
    if (!x_247462) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Reached hole of type: f32", "-> #0  potential.fut:141:59-61\n   #1  potential.fut:190:26-47\n   #2  potential.fut:434:57-81\n   #3  network.fut:25:57-61\n   #4  /prelude/ad.fut:23:4-14\n   #5  network.fut:25:41-71\n   #6  network.fut:155:29-34\n   #7  network.fut:112:28-32\n   #8  network.fut:142:29-33\n   #9  network.fut:113:28-32\n   #10 network.fut:130:29-33\n   #11 potential.fut:374:26-32\n   #12 /prelude/functional.fut:9:42-44\n   #13 potential.fut:137:19-47\n   #14 associations.fut:200:43-77\n   #15 associations.fut:203:21-208:24\n   #16 /prelude/functional.fut:9:42-44\n   #17 associations.fut:230:7-232:54\n   #18 futhark_interaction.fut:55:8-105\n   #19 futhark_interaction.fut:48:1-57:17\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    float binop_y_258362 = 1.0F / z30U_226353;
    float binop_y_261241 = 1.0F / defunc_0_f_res_248882;
    
    if (mem_272832_cached_sizze_273344 < bytes_272831) {
        err = lexical_realloc(ctx, &mem_272832, &mem_272832_cached_sizze_273344, bytes_272831);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272835_cached_sizze_273345 < bytes_272831) {
        err = lexical_realloc(ctx, &mem_272835, &mem_272835_cached_sizze_273345, bytes_272831);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272838_cached_sizze_273346 < bytes_272831) {
        err = lexical_realloc(ctx, &mem_272838, &mem_272838_cached_sizze_273346, bytes_272831);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272841_cached_sizze_273347 < bytes_272831) {
        err = lexical_realloc(ctx, &mem_272841, &mem_272841_cached_sizze_273347, bytes_272831);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272884_cached_sizze_273348 < bytes_272883) {
        err = lexical_realloc(ctx, &mem_272884, &mem_272884_cached_sizze_273348, bytes_272883);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272887_cached_sizze_273349 < bytes_272883) {
        err = lexical_realloc(ctx, &mem_272887, &mem_272887_cached_sizze_273349, bytes_272883);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272910_cached_sizze_273350 < bytes_272883) {
        err = lexical_realloc(ctx, &mem_272910, &mem_272910_cached_sizze_273350, bytes_272883);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272913_cached_sizze_273351 < bytes_272883) {
        err = lexical_realloc(ctx, &mem_272913, &mem_272913_cached_sizze_273351, bytes_272883);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272936_cached_sizze_273352 < bytes_272883) {
        err = lexical_realloc(ctx, &mem_272936, &mem_272936_cached_sizze_273352, bytes_272883);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272949_cached_sizze_273353 < bytes_272883) {
        err = lexical_realloc(ctx, &mem_272949, &mem_272949_cached_sizze_273353, bytes_272883);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272962_cached_sizze_273354 < bytes_272883) {
        err = lexical_realloc(ctx, &mem_272962, &mem_272962_cached_sizze_273354, bytes_272883);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    bool acc_cert_247774;
    
    for (int64_t i_271124 = 0; i_271124 < partition_sizze_247608; i_271124++) {
        int32_t x_247778 = ((int32_t *) mem_272746)[i_271124];
        int32_t x_247779 = ((int32_t *) mem_272749)[i_271124];
        int32_t x_247780 = ((int32_t *) mem_272752)[i_271124];
        int32_t x_247781 = ((int32_t *) mem_272755)[i_271124];
        int32_t x_247782 = ((int32_t *) mem_272758)[i_271124];
        int64_t i_247783 = sext_i32_i64(x_247778);
        bool x_247784 = sle64((int64_t) 0, i_247783);
        bool y_247785 = slt64(i_247783, nz2084U_226339);
        bool bounds_check_247786 = x_247784 && y_247785;
        bool index_certs_247787;
        
        if (!bounds_check_247786) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_247783, "] out of bounds for array of shape [", (long long) nz2084U_226339, "].", "-> #0  associations.fut:198:18-31\n   #1  associations.fut:203:21-208:24\n   #2  /prelude/functional.fut:9:42-44\n   #3  associations.fut:230:7-232:54\n   #4  futhark_interaction.fut:55:8-105\n   #5  futhark_interaction.fut:48:1-57:17\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        float defunc_1_f_res_247788 = ((float *) mem_271703)[i_247783];
        float defunc_1_f_res_247789 = ((float *) mem_271706)[i_247783];
        float defunc_1_f_res_247790 = ((float *) mem_271709)[i_247783];
        float defunc_1_f_res_247791 = ((float *) mem_271618)[i_247783];
        float defunc_1_f_res_247792 = ((float *) mem_271621)[i_247783];
        float defunc_1_f_res_247793 = ((float *) mem_271624)[i_247783];
        float defunc_1_f_res_247794 = ((float *) mem_271627)[i_247783];
        float defunc_0_f_res_247795 = sitofp_i32_f32(x_247780);
        float defunc_0_f_res_247796 = sitofp_i32_f32(x_247781);
        float defunc_0_f_res_247797 = sitofp_i32_f32(x_247782);
        float defunc_1_f_res_248465 = defunc_0_f_res_247795 * defunc_1_f_res_248856;
        float defunc_1_f_res_248475 = defunc_0_f_res_247796 * defunc_1_f_res_248857;
        float defunc_1_f_res_248485 = defunc_0_f_res_247797 * defunc_1_f_res_248858;
        int64_t j_247813 = sext_i32_i64(x_247779);
        bool x_247814 = sle64((int64_t) 0, j_247813);
        bool y_247815 = slt64(j_247813, nz2084U_226339);
        bool bounds_check_247816 = x_247814 && y_247815;
        bool index_certs_247817;
        
        if (!bounds_check_247816) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_247813, "] out of bounds for array of shape [", (long long) nz2084U_226339, "].", "-> #0  associations.fut:199:69-82\n   #1  associations.fut:203:21-208:24\n   #2  /prelude/functional.fut:9:42-44\n   #3  associations.fut:230:7-232:54\n   #4  futhark_interaction.fut:55:8-105\n   #5  futhark_interaction.fut:48:1-57:17\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        float dyn_translate_arg_247818 = ((float *) mem_271703)[j_247813];
        float dyn_translate_arg_247819 = ((float *) mem_271706)[j_247813];
        float dyn_translate_arg_247820 = ((float *) mem_271709)[j_247813];
        float dyn_translate_arg_247821 = ((float *) mem_271618)[j_247813];
        float dyn_translate_arg_247822 = ((float *) mem_271621)[j_247813];
        float dyn_translate_arg_247823 = ((float *) mem_271624)[j_247813];
        float dyn_translate_arg_247824 = ((float *) mem_271627)[j_247813];
        float defunc_1_f_res_248492 = dyn_translate_arg_247818 + defunc_1_f_res_248465;
        float defunc_1_f_res_248493 = dyn_translate_arg_247819 + defunc_1_f_res_248475;
        float defunc_1_f_res_248494 = dyn_translate_arg_247820 + defunc_1_f_res_248485;
        float defunc_1_f_res_252328 = defunc_1_f_res_248492 - defunc_1_f_res_247788;
        float defunc_1_f_res_252329 = defunc_1_f_res_248493 - defunc_1_f_res_247789;
        float defunc_1_f_res_252330 = defunc_1_f_res_248494 - defunc_1_f_res_247790;
        float defunc_0_f_res_252331 = 0.0F - defunc_1_f_res_247792;
        float defunc_0_f_res_252332 = 0.0F - defunc_1_f_res_247793;
        float defunc_0_f_res_252333 = 0.0F - defunc_1_f_res_247794;
        float defunc_0_f_res_252334 = 0.0F - defunc_0_f_res_252331;
        float defunc_0_f_res_252335 = 0.0F - defunc_0_f_res_252332;
        float defunc_0_f_res_252336 = 0.0F - defunc_0_f_res_252333;
        float defunc_1_f_res_252337 = defunc_1_f_res_252328 * defunc_0_f_res_252331;
        float defunc_1_f_res_252338 = defunc_1_f_res_252329 * defunc_0_f_res_252332;
        float defunc_1_f_res_252339 = defunc_1_f_res_252330 * defunc_0_f_res_252333;
        float defunc_1_f_res_252340 = defunc_1_f_res_252338 + defunc_1_f_res_252339;
        float defunc_0_f_res_252341 = defunc_1_f_res_252337 + defunc_1_f_res_252340;
        float qMult_res_252342 = 0.0F - defunc_0_f_res_252341;
        float arg_252343 = defunc_1_f_res_252330 * defunc_0_f_res_252332;
        float arg_252344 = defunc_1_f_res_252329 * defunc_0_f_res_252333;
        float cross_res_252345 = arg_252343 - arg_252344;
        float arg_252346 = defunc_1_f_res_252328 * defunc_0_f_res_252333;
        float arg_252347 = defunc_1_f_res_252330 * defunc_0_f_res_252331;
        float cross_res_252348 = arg_252346 - arg_252347;
        float arg_252349 = defunc_1_f_res_252329 * defunc_0_f_res_252331;
        float arg_252350 = defunc_1_f_res_252328 * defunc_0_f_res_252332;
        float cross_res_252351 = arg_252349 - arg_252350;
        float defunc_0_f_res_252352 = defunc_1_f_res_247791 * defunc_1_f_res_252328;
        float defunc_0_f_res_252353 = defunc_1_f_res_247791 * defunc_1_f_res_252329;
        float defunc_0_f_res_252354 = defunc_1_f_res_247791 * defunc_1_f_res_252330;
        float defunc_1_f_res_252355 = cross_res_252345 + defunc_0_f_res_252352;
        float defunc_1_f_res_252356 = cross_res_252348 + defunc_0_f_res_252353;
        float defunc_1_f_res_252357 = cross_res_252351 + defunc_0_f_res_252354;
        float arg_252358 = defunc_0_f_res_252336 * defunc_1_f_res_252356;
        float arg_252359 = defunc_0_f_res_252335 * defunc_1_f_res_252357;
        float cross_res_252360 = arg_252358 - arg_252359;
        float arg_252361 = defunc_0_f_res_252334 * defunc_1_f_res_252357;
        float arg_252362 = defunc_0_f_res_252336 * defunc_1_f_res_252355;
        float cross_res_252363 = arg_252361 - arg_252362;
        float arg_252364 = defunc_0_f_res_252335 * defunc_1_f_res_252355;
        float arg_252365 = defunc_0_f_res_252334 * defunc_1_f_res_252356;
        float cross_res_252366 = arg_252364 - arg_252365;
        float defunc_0_f_res_252367 = defunc_1_f_res_247791 * defunc_1_f_res_252355;
        float defunc_0_f_res_252368 = defunc_1_f_res_247791 * defunc_1_f_res_252356;
        float defunc_0_f_res_252369 = defunc_1_f_res_247791 * defunc_1_f_res_252357;
        float defunc_0_f_res_252370 = defunc_0_f_res_252334 * qMult_res_252342;
        float defunc_0_f_res_252371 = defunc_0_f_res_252335 * qMult_res_252342;
        float defunc_0_f_res_252372 = defunc_0_f_res_252336 * qMult_res_252342;
        float defunc_1_f_res_252373 = defunc_0_f_res_252367 + defunc_0_f_res_252370;
        float defunc_1_f_res_252374 = defunc_0_f_res_252368 + defunc_0_f_res_252371;
        float defunc_1_f_res_252375 = defunc_0_f_res_252369 + defunc_0_f_res_252372;
        float defunc_1_f_res_252376 = cross_res_252360 + defunc_1_f_res_252373;
        float defunc_1_f_res_252377 = cross_res_252363 + defunc_1_f_res_252374;
        float defunc_1_f_res_252378 = cross_res_252366 + defunc_1_f_res_252375;
        float arg_252379 = defunc_1_f_res_247791 * dyn_translate_arg_247821;
        float defunc_1_f_res_252380 = dyn_translate_arg_247822 * defunc_0_f_res_252331;
        float defunc_1_f_res_252381 = dyn_translate_arg_247823 * defunc_0_f_res_252332;
        float defunc_1_f_res_252382 = dyn_translate_arg_247824 * defunc_0_f_res_252333;
        float defunc_1_f_res_252383 = defunc_1_f_res_252381 + defunc_1_f_res_252382;
        float defunc_0_f_res_252384 = defunc_1_f_res_252380 + defunc_1_f_res_252383;
        float qMult_res_252385 = arg_252379 - defunc_0_f_res_252384;
        float arg_252386 = dyn_translate_arg_247824 * defunc_0_f_res_252332;
        float arg_252387 = dyn_translate_arg_247823 * defunc_0_f_res_252333;
        float cross_res_252388 = arg_252386 - arg_252387;
        float arg_252389 = dyn_translate_arg_247822 * defunc_0_f_res_252333;
        float arg_252390 = dyn_translate_arg_247824 * defunc_0_f_res_252331;
        float cross_res_252391 = arg_252389 - arg_252390;
        float arg_252392 = dyn_translate_arg_247823 * defunc_0_f_res_252331;
        float arg_252393 = dyn_translate_arg_247822 * defunc_0_f_res_252332;
        float cross_res_252394 = arg_252392 - arg_252393;
        float defunc_0_f_res_252395 = dyn_translate_arg_247821 * defunc_0_f_res_252331;
        float defunc_0_f_res_252396 = dyn_translate_arg_247821 * defunc_0_f_res_252332;
        float defunc_0_f_res_252397 = dyn_translate_arg_247821 * defunc_0_f_res_252333;
        float defunc_0_f_res_252398 = defunc_1_f_res_247791 * dyn_translate_arg_247822;
        float defunc_0_f_res_252399 = defunc_1_f_res_247791 * dyn_translate_arg_247823;
        float defunc_0_f_res_252400 = defunc_1_f_res_247791 * dyn_translate_arg_247824;
        float defunc_1_f_res_252401 = defunc_0_f_res_252395 + defunc_0_f_res_252398;
        float defunc_1_f_res_252402 = defunc_0_f_res_252396 + defunc_0_f_res_252399;
        float defunc_1_f_res_252403 = defunc_0_f_res_252397 + defunc_0_f_res_252400;
        float defunc_1_f_res_252404 = cross_res_252388 + defunc_1_f_res_252401;
        float defunc_1_f_res_252405 = cross_res_252391 + defunc_1_f_res_252402;
        float defunc_1_f_res_252406 = cross_res_252394 + defunc_1_f_res_252403;
        float distanceFunction_res_247835;
        
        if (z30U_226340 == (int8_t) 1) {
            float defunc_0_f_res_269016 = 0.0F - defunc_1_f_res_252404;
            float defunc_0_f_res_269017 = 0.0F - defunc_1_f_res_252405;
            float defunc_0_f_res_269018 = 0.0F - defunc_1_f_res_252406;
            float defunc_1_f_res_269019 = z30U_226344 * defunc_1_f_res_252404;
            float defunc_1_f_res_269020 = z30U_226345 * defunc_1_f_res_252405;
            float defunc_1_f_res_269021 = z30U_226346 * defunc_1_f_res_252406;
            float defunc_1_f_res_269022 = defunc_1_f_res_269020 + defunc_1_f_res_269021;
            float defunc_0_f_res_269023 = defunc_1_f_res_269019 + defunc_1_f_res_269022;
            float qMult_res_269024 = 0.0F - defunc_0_f_res_269023;
            float arg_269025 = z30U_226346 * defunc_1_f_res_252405;
            float arg_269026 = z30U_226345 * defunc_1_f_res_252406;
            float cross_res_269027 = arg_269025 - arg_269026;
            float arg_269028 = z30U_226344 * defunc_1_f_res_252406;
            float arg_269029 = z30U_226346 * defunc_1_f_res_252404;
            float cross_res_269030 = arg_269028 - arg_269029;
            float arg_269031 = z30U_226345 * defunc_1_f_res_252404;
            float arg_269032 = z30U_226344 * defunc_1_f_res_252405;
            float cross_res_269033 = arg_269031 - arg_269032;
            float defunc_0_f_res_269034 = z30U_226344 * qMult_res_252385;
            float defunc_0_f_res_269035 = z30U_226345 * qMult_res_252385;
            float defunc_0_f_res_269036 = z30U_226346 * qMult_res_252385;
            float defunc_1_f_res_269037 = cross_res_269027 + defunc_0_f_res_269034;
            float defunc_1_f_res_269038 = cross_res_269030 + defunc_0_f_res_269035;
            float defunc_1_f_res_269039 = cross_res_269033 + defunc_0_f_res_269036;
            float arg_269040 = defunc_0_f_res_269018 * defunc_1_f_res_269038;
            float arg_269041 = defunc_0_f_res_269017 * defunc_1_f_res_269039;
            float cross_res_269042 = arg_269040 - arg_269041;
            float arg_269043 = defunc_0_f_res_269016 * defunc_1_f_res_269039;
            float arg_269044 = defunc_0_f_res_269018 * defunc_1_f_res_269037;
            float cross_res_269045 = arg_269043 - arg_269044;
            float arg_269046 = defunc_0_f_res_269017 * defunc_1_f_res_269037;
            float arg_269047 = defunc_0_f_res_269016 * defunc_1_f_res_269038;
            float cross_res_269048 = arg_269046 - arg_269047;
            float defunc_0_f_res_269049 = qMult_res_252385 * defunc_1_f_res_269037;
            float defunc_0_f_res_269050 = qMult_res_252385 * defunc_1_f_res_269038;
            float defunc_0_f_res_269051 = qMult_res_252385 * defunc_1_f_res_269039;
            float defunc_0_f_res_269052 = defunc_0_f_res_269016 * qMult_res_269024;
            float defunc_0_f_res_269053 = defunc_0_f_res_269017 * qMult_res_269024;
            float defunc_0_f_res_269054 = defunc_0_f_res_269018 * qMult_res_269024;
            float defunc_1_f_res_269055 = defunc_0_f_res_269049 + defunc_0_f_res_269052;
            float defunc_1_f_res_269056 = defunc_0_f_res_269050 + defunc_0_f_res_269053;
            float defunc_1_f_res_269057 = defunc_0_f_res_269051 + defunc_0_f_res_269054;
            float defunc_1_f_res_269058 = cross_res_269042 + defunc_1_f_res_269055;
            float defunc_1_f_res_269059 = cross_res_269045 + defunc_1_f_res_269056;
            float defunc_1_f_res_269060 = cross_res_269048 + defunc_1_f_res_269057;
            float defunc_0_f_res_269061 = 0.0F - defunc_1_f_res_252376;
            float defunc_0_f_res_269062 = 0.0F - defunc_1_f_res_252377;
            float defunc_0_f_res_269063 = 0.0F - defunc_1_f_res_252378;
            float defunc_1_f_res_269064 = z30U_226341 * defunc_1_f_res_269058;
            float defunc_1_f_res_269065 = z30U_226342 * defunc_1_f_res_269059;
            float defunc_1_f_res_269066 = z30U_226343 * defunc_1_f_res_269060;
            float defunc_1_f_res_269067 = defunc_1_f_res_269065 + defunc_1_f_res_269066;
            float defunc_0_f_res_269068 = defunc_1_f_res_269064 + defunc_1_f_res_269067;
            float defunc_1_f_res_269069 = z30U_226341 * defunc_0_f_res_269061;
            float defunc_1_f_res_269070 = z30U_226342 * defunc_0_f_res_269062;
            float defunc_1_f_res_269071 = z30U_226343 * defunc_0_f_res_269063;
            float defunc_1_f_res_269072 = defunc_1_f_res_269070 + defunc_1_f_res_269071;
            float defunc_0_f_res_269073 = defunc_1_f_res_269069 + defunc_1_f_res_269072;
            float defunc_1_f_res_269074 = defunc_1_f_res_269058 * defunc_1_f_res_269058;
            float defunc_1_f_res_269075 = defunc_1_f_res_269059 * defunc_1_f_res_269059;
            float defunc_1_f_res_269076 = defunc_1_f_res_269060 * defunc_1_f_res_269060;
            float defunc_1_f_res_269077 = defunc_1_f_res_269075 + defunc_1_f_res_269076;
            float defunc_0_f_res_269078 = defunc_1_f_res_269074 + defunc_1_f_res_269077;
            float defunc_1_f_res_269079 = defunc_1_f_res_269058 * defunc_0_f_res_269061;
            float defunc_1_f_res_269080 = defunc_1_f_res_269059 * defunc_0_f_res_269062;
            float defunc_1_f_res_269081 = defunc_1_f_res_269060 * defunc_0_f_res_269063;
            float defunc_1_f_res_269082 = defunc_1_f_res_269080 + defunc_1_f_res_269081;
            float defunc_0_f_res_269083 = defunc_1_f_res_269079 + defunc_1_f_res_269082;
            float arg_269084 = defunc_0_f_res_248882 * defunc_0_f_res_269078;
            float arg_269085 = defunc_0_f_res_269068 * defunc_0_f_res_269068;
            float det_269086 = arg_269084 - arg_269085;
            float arg_269087 = defunc_0_f_res_269073 * defunc_0_f_res_269078;
            float arg_269088 = defunc_0_f_res_269068 * defunc_0_f_res_269083;
            float arg_269089 = arg_269087 - arg_269088;
            float i_m_269090 = arg_269089 / det_269086;
            float arg_269091 = defunc_0_f_res_248882 * defunc_0_f_res_269083;
            float arg_269092 = defunc_0_f_res_269068 * defunc_0_f_res_269073;
            float arg_269093 = arg_269091 - arg_269092;
            float j_m_269094 = arg_269093 / det_269086;
            float arg_269095 = defunc_0_f_res_269073 - defunc_0_f_res_269068;
            float i_p_269096 = arg_269095 / defunc_0_f_res_248882;
            float arg_269097 = defunc_0_f_res_269068 + defunc_0_f_res_269073;
            float i_n_269098 = arg_269097 / defunc_0_f_res_248882;
            float arg_269099 = defunc_0_f_res_269083 - defunc_0_f_res_269068;
            float j_p_269100 = arg_269099 / defunc_0_f_res_269078;
            float arg_269101 = defunc_0_f_res_269068 + defunc_0_f_res_269083;
            float j_n_269102 = arg_269101 / defunc_0_f_res_269078;
            bool cond_269103 = det_269086 == 0.0F;
            bool cond_269104 = !cond_269103;
            bool cond_269105 = -1.0F <= i_m_269090;
            bool lifted_valid_res_t_res_269106 = i_m_269090 <= 1.0F;
            bool x_269107 = cond_269105 && lifted_valid_res_t_res_269106;
            bool x_269108 = cond_269104 && x_269107;
            bool cond_269109 = -1.0F <= j_m_269094;
            bool lifted_valid_res_t_res_269110 = j_m_269094 <= 1.0F;
            bool x_269111 = cond_269109 && lifted_valid_res_t_res_269110;
            bool x_269112 = x_269108 && x_269111;
            float rodDistance_res_269113;
            
            if (x_269112 == 1) {
                float defunc_0_f_res_269114 = defunc_1_f_res_269058 * j_m_269094;
                float defunc_0_f_res_269115 = defunc_1_f_res_269059 * j_m_269094;
                float defunc_0_f_res_269116 = defunc_1_f_res_269060 * j_m_269094;
                float defunc_0_f_res_269117 = z30U_226341 * i_m_269090;
                float defunc_0_f_res_269118 = z30U_226342 * i_m_269090;
                float defunc_0_f_res_269119 = z30U_226343 * i_m_269090;
                float defunc_1_f_res_269120 = defunc_0_f_res_269114 + defunc_0_f_res_269117;
                float defunc_1_f_res_269121 = defunc_0_f_res_269115 + defunc_0_f_res_269118;
                float defunc_1_f_res_269122 = defunc_0_f_res_269116 + defunc_0_f_res_269119;
                float defunc_1_f_res_269123 = defunc_1_f_res_269120 - defunc_0_f_res_269061;
                float defunc_1_f_res_269124 = defunc_1_f_res_269121 - defunc_0_f_res_269062;
                float defunc_1_f_res_269125 = defunc_1_f_res_269122 - defunc_0_f_res_269063;
                float defunc_1_f_res_269126 = defunc_1_f_res_269123 * defunc_1_f_res_269123;
                float defunc_1_f_res_269127 = defunc_1_f_res_269124 * defunc_1_f_res_269124;
                float defunc_1_f_res_269128 = defunc_1_f_res_269125 * defunc_1_f_res_269125;
                float defunc_1_f_res_269129 = defunc_1_f_res_269127 + defunc_1_f_res_269128;
                float defunc_0_f_res_269130 = defunc_1_f_res_269126 + defunc_1_f_res_269129;
                float sqrt_res_269131 = futrts_sqrt32(defunc_0_f_res_269130);
                
                rodDistance_res_269113 = sqrt_res_269131;
            } else {
                float defunc_0_f_res_269132 = -1.0F * defunc_1_f_res_269058;
                float defunc_0_f_res_269133 = -1.0F * defunc_1_f_res_269059;
                float defunc_0_f_res_269134 = -1.0F * defunc_1_f_res_269060;
                float defunc_0_f_res_269135 = -1.0F * z30U_226341;
                float defunc_0_f_res_269136 = -1.0F * z30U_226342;
                float defunc_0_f_res_269137 = -1.0F * z30U_226343;
                float defunc_1_f_res_269138 = defunc_0_f_res_269132 + defunc_0_f_res_269135;
                float defunc_1_f_res_269139 = defunc_0_f_res_269133 + defunc_0_f_res_269136;
                float defunc_1_f_res_269140 = defunc_0_f_res_269134 + defunc_0_f_res_269137;
                float defunc_1_f_res_269141 = defunc_1_f_res_269138 - defunc_0_f_res_269061;
                float defunc_1_f_res_269142 = defunc_1_f_res_269139 - defunc_0_f_res_269062;
                float defunc_1_f_res_269143 = defunc_1_f_res_269140 - defunc_0_f_res_269063;
                float defunc_1_f_res_269144 = defunc_1_f_res_269141 * defunc_1_f_res_269141;
                float defunc_1_f_res_269145 = defunc_1_f_res_269142 * defunc_1_f_res_269142;
                float defunc_1_f_res_269146 = defunc_1_f_res_269143 * defunc_1_f_res_269143;
                float defunc_1_f_res_269147 = defunc_1_f_res_269145 + defunc_1_f_res_269146;
                float defunc_0_f_res_269148 = defunc_1_f_res_269144 + defunc_1_f_res_269147;
                float defunc_1_f_res_269149 = defunc_1_f_res_269058 + defunc_0_f_res_269135;
                float defunc_1_f_res_269150 = defunc_1_f_res_269059 + defunc_0_f_res_269136;
                float defunc_1_f_res_269151 = defunc_1_f_res_269060 + defunc_0_f_res_269137;
                float defunc_1_f_res_269152 = defunc_1_f_res_269149 - defunc_0_f_res_269061;
                float defunc_1_f_res_269153 = defunc_1_f_res_269150 - defunc_0_f_res_269062;
                float defunc_1_f_res_269154 = defunc_1_f_res_269151 - defunc_0_f_res_269063;
                float defunc_1_f_res_269155 = defunc_1_f_res_269152 * defunc_1_f_res_269152;
                float defunc_1_f_res_269156 = defunc_1_f_res_269153 * defunc_1_f_res_269153;
                float defunc_1_f_res_269157 = defunc_1_f_res_269154 * defunc_1_f_res_269154;
                float defunc_1_f_res_269158 = defunc_1_f_res_269156 + defunc_1_f_res_269157;
                float defunc_0_f_res_269159 = defunc_1_f_res_269155 + defunc_1_f_res_269158;
                float defunc_1_f_res_269160 = z30U_226341 + defunc_0_f_res_269132;
                float defunc_1_f_res_269161 = z30U_226342 + defunc_0_f_res_269133;
                float defunc_1_f_res_269162 = z30U_226343 + defunc_0_f_res_269134;
                float defunc_1_f_res_269163 = defunc_1_f_res_269160 - defunc_0_f_res_269061;
                float defunc_1_f_res_269164 = defunc_1_f_res_269161 - defunc_0_f_res_269062;
                float defunc_1_f_res_269165 = defunc_1_f_res_269162 - defunc_0_f_res_269063;
                float defunc_1_f_res_269166 = defunc_1_f_res_269163 * defunc_1_f_res_269163;
                float defunc_1_f_res_269167 = defunc_1_f_res_269164 * defunc_1_f_res_269164;
                float defunc_1_f_res_269168 = defunc_1_f_res_269165 * defunc_1_f_res_269165;
                float defunc_1_f_res_269169 = defunc_1_f_res_269167 + defunc_1_f_res_269168;
                float defunc_0_f_res_269170 = defunc_1_f_res_269166 + defunc_1_f_res_269169;
                float defunc_1_f_res_269171 = z30U_226341 + defunc_1_f_res_269058;
                float defunc_1_f_res_269172 = z30U_226342 + defunc_1_f_res_269059;
                float defunc_1_f_res_269173 = z30U_226343 + defunc_1_f_res_269060;
                float defunc_1_f_res_269174 = defunc_1_f_res_269171 - defunc_0_f_res_269061;
                float defunc_1_f_res_269175 = defunc_1_f_res_269172 - defunc_0_f_res_269062;
                float defunc_1_f_res_269176 = defunc_1_f_res_269173 - defunc_0_f_res_269063;
                float defunc_1_f_res_269177 = defunc_1_f_res_269174 * defunc_1_f_res_269174;
                float defunc_1_f_res_269178 = defunc_1_f_res_269175 * defunc_1_f_res_269175;
                float defunc_1_f_res_269179 = defunc_1_f_res_269176 * defunc_1_f_res_269176;
                float defunc_1_f_res_269180 = defunc_1_f_res_269178 + defunc_1_f_res_269179;
                float defunc_0_f_res_269181 = defunc_1_f_res_269177 + defunc_1_f_res_269180;
                bool cond_269182 = -1.0F <= j_n_269102;
                bool lifted_valid_res_t_res_269183 = j_n_269102 <= 1.0F;
                bool x_269184 = cond_269182 && lifted_valid_res_t_res_269183;
                float min_arg_269185;
                
                if (x_269184 == 1) {
                    float defunc_0_f_res_269186 = defunc_1_f_res_269058 * j_n_269102;
                    float defunc_0_f_res_269187 = defunc_1_f_res_269059 * j_n_269102;
                    float defunc_0_f_res_269188 = defunc_1_f_res_269060 * j_n_269102;
                    float defunc_1_f_res_269189 = defunc_0_f_res_269135 + defunc_0_f_res_269186;
                    float defunc_1_f_res_269190 = defunc_0_f_res_269136 + defunc_0_f_res_269187;
                    float defunc_1_f_res_269191 = defunc_0_f_res_269137 + defunc_0_f_res_269188;
                    float defunc_1_f_res_269192 = defunc_1_f_res_269189 - defunc_0_f_res_269061;
                    float defunc_1_f_res_269193 = defunc_1_f_res_269190 - defunc_0_f_res_269062;
                    float defunc_1_f_res_269194 = defunc_1_f_res_269191 - defunc_0_f_res_269063;
                    float defunc_1_f_res_269195 = defunc_1_f_res_269192 * defunc_1_f_res_269192;
                    float defunc_1_f_res_269196 = defunc_1_f_res_269193 * defunc_1_f_res_269193;
                    float defunc_1_f_res_269197 = defunc_1_f_res_269194 * defunc_1_f_res_269194;
                    float defunc_1_f_res_269198 = defunc_1_f_res_269196 + defunc_1_f_res_269197;
                    float defunc_0_f_res_269199 = defunc_1_f_res_269195 + defunc_1_f_res_269198;
                    
                    min_arg_269185 = defunc_0_f_res_269199;
                } else {
                    min_arg_269185 = INFINITY;
                }
                
                bool cond_269200 = -1.0F <= j_p_269100;
                bool lifted_valid_res_t_res_269201 = j_p_269100 <= 1.0F;
                bool x_269202 = cond_269200 && lifted_valid_res_t_res_269201;
                float min_arg_269203;
                
                if (x_269202 == 1) {
                    float defunc_0_f_res_269204 = defunc_1_f_res_269058 * j_p_269100;
                    float defunc_0_f_res_269205 = defunc_1_f_res_269059 * j_p_269100;
                    float defunc_0_f_res_269206 = defunc_1_f_res_269060 * j_p_269100;
                    float defunc_1_f_res_269207 = z30U_226341 + defunc_0_f_res_269204;
                    float defunc_1_f_res_269208 = z30U_226342 + defunc_0_f_res_269205;
                    float defunc_1_f_res_269209 = z30U_226343 + defunc_0_f_res_269206;
                    float defunc_1_f_res_269210 = defunc_1_f_res_269207 - defunc_0_f_res_269061;
                    float defunc_1_f_res_269211 = defunc_1_f_res_269208 - defunc_0_f_res_269062;
                    float defunc_1_f_res_269212 = defunc_1_f_res_269209 - defunc_0_f_res_269063;
                    float defunc_1_f_res_269213 = defunc_1_f_res_269210 * defunc_1_f_res_269210;
                    float defunc_1_f_res_269214 = defunc_1_f_res_269211 * defunc_1_f_res_269211;
                    float defunc_1_f_res_269215 = defunc_1_f_res_269212 * defunc_1_f_res_269212;
                    float defunc_1_f_res_269216 = defunc_1_f_res_269214 + defunc_1_f_res_269215;
                    float defunc_0_f_res_269217 = defunc_1_f_res_269213 + defunc_1_f_res_269216;
                    
                    min_arg_269203 = defunc_0_f_res_269217;
                } else {
                    min_arg_269203 = INFINITY;
                }
                
                bool cond_269218 = -1.0F <= i_n_269098;
                bool lifted_valid_res_t_res_269219 = i_n_269098 <= 1.0F;
                bool x_269220 = cond_269218 && lifted_valid_res_t_res_269219;
                float min_arg_269221;
                
                if (x_269220 == 1) {
                    float defunc_0_f_res_269222 = z30U_226341 * i_n_269098;
                    float defunc_0_f_res_269223 = z30U_226342 * i_n_269098;
                    float defunc_0_f_res_269224 = z30U_226343 * i_n_269098;
                    float defunc_1_f_res_269225 = defunc_0_f_res_269132 + defunc_0_f_res_269222;
                    float defunc_1_f_res_269226 = defunc_0_f_res_269133 + defunc_0_f_res_269223;
                    float defunc_1_f_res_269227 = defunc_0_f_res_269134 + defunc_0_f_res_269224;
                    float defunc_1_f_res_269228 = defunc_1_f_res_269225 - defunc_0_f_res_269061;
                    float defunc_1_f_res_269229 = defunc_1_f_res_269226 - defunc_0_f_res_269062;
                    float defunc_1_f_res_269230 = defunc_1_f_res_269227 - defunc_0_f_res_269063;
                    float defunc_1_f_res_269231 = defunc_1_f_res_269228 * defunc_1_f_res_269228;
                    float defunc_1_f_res_269232 = defunc_1_f_res_269229 * defunc_1_f_res_269229;
                    float defunc_1_f_res_269233 = defunc_1_f_res_269230 * defunc_1_f_res_269230;
                    float defunc_1_f_res_269234 = defunc_1_f_res_269232 + defunc_1_f_res_269233;
                    float defunc_0_f_res_269235 = defunc_1_f_res_269231 + defunc_1_f_res_269234;
                    
                    min_arg_269221 = defunc_0_f_res_269235;
                } else {
                    min_arg_269221 = INFINITY;
                }
                
                bool cond_269236 = -1.0F <= i_p_269096;
                bool lifted_valid_res_t_res_269237 = i_p_269096 <= 1.0F;
                bool x_269238 = cond_269236 && lifted_valid_res_t_res_269237;
                float min_arg_269239;
                
                if (x_269238 == 1) {
                    float defunc_0_f_res_269240 = z30U_226341 * i_p_269096;
                    float defunc_0_f_res_269241 = z30U_226342 * i_p_269096;
                    float defunc_0_f_res_269242 = z30U_226343 * i_p_269096;
                    float defunc_1_f_res_269243 = defunc_1_f_res_269058 + defunc_0_f_res_269240;
                    float defunc_1_f_res_269244 = defunc_1_f_res_269059 + defunc_0_f_res_269241;
                    float defunc_1_f_res_269245 = defunc_1_f_res_269060 + defunc_0_f_res_269242;
                    float defunc_1_f_res_269246 = defunc_1_f_res_269243 - defunc_0_f_res_269061;
                    float defunc_1_f_res_269247 = defunc_1_f_res_269244 - defunc_0_f_res_269062;
                    float defunc_1_f_res_269248 = defunc_1_f_res_269245 - defunc_0_f_res_269063;
                    float defunc_1_f_res_269249 = defunc_1_f_res_269246 * defunc_1_f_res_269246;
                    float defunc_1_f_res_269250 = defunc_1_f_res_269247 * defunc_1_f_res_269247;
                    float defunc_1_f_res_269251 = defunc_1_f_res_269248 * defunc_1_f_res_269248;
                    float defunc_1_f_res_269252 = defunc_1_f_res_269250 + defunc_1_f_res_269251;
                    float defunc_0_f_res_269253 = defunc_1_f_res_269249 + defunc_1_f_res_269252;
                    
                    min_arg_269239 = defunc_0_f_res_269253;
                } else {
                    min_arg_269239 = INFINITY;
                }
                
                float min_res_269254 = fmin32(min_arg_269221, min_arg_269239);
                float min_res_269255 = fmin32(min_arg_269203, min_res_269254);
                float min_res_269256 = fmin32(min_arg_269185, min_res_269255);
                float min_res_269257 = fmin32(defunc_0_f_res_269181, min_res_269256);
                float min_res_269258 = fmin32(defunc_0_f_res_269170, min_res_269257);
                float min_res_269259 = fmin32(defunc_0_f_res_269159, min_res_269258);
                float min_res_269260 = fmin32(defunc_0_f_res_269148, min_res_269259);
                float sqrt_res_269261 = futrts_sqrt32(min_res_269260);
                
                rodDistance_res_269113 = sqrt_res_269261;
            }
            distanceFunction_res_247835 = rodDistance_res_269113;
        } else if (z30U_226340 == (int8_t) 2) {
            float defunc_1_f_res_268936 = defunc_1_f_res_252376 * defunc_1_f_res_252376;
            float defunc_1_f_res_268937 = defunc_1_f_res_252377 * defunc_1_f_res_252377;
            float defunc_1_f_res_268938 = defunc_1_f_res_252378 * defunc_1_f_res_252378;
            float defunc_1_f_res_268939 = defunc_1_f_res_268937 + defunc_1_f_res_268938;
            float defunc_0_f_res_268940 = defunc_1_f_res_268936 + defunc_1_f_res_268939;
            float sqrt_res_268941 = futrts_sqrt32(defunc_0_f_res_268940);
            
            distanceFunction_res_247835 = sqrt_res_268941;
        } else {
            distanceFunction_res_247835 = 0.0F;
        }
        
        float softcut_arg_247899 = distanceFunction_res_247835 / z30U_226353;
        float abs_res_248528 = (float) fabs(softcut_arg_247899);
        bool cond_248529 = abs_res_248528 < 1.0F;
        float softcut_res_248530;
        
        if (cond_248529 == 1) {
            float arg_269262 = softcut_arg_247899 * softcut_arg_247899;
            float arg_269263 = arg_269262 - 1.0F;
            float arg_269264 = i32_res_248527 * arg_269263;
            float arg_269265 = arg_269264 - 1.0F;
            float arg_269266 = 2.0F * i32_res_248527;
            float arg_269267 = fpow32(softcut_arg_247899, arg_269266);
            float arg_269268 = arg_269265 * arg_269267;
            float softcut_res_t_res_269269 = 1.0F + arg_269268;
            
            softcut_res_248530 = softcut_res_t_res_269269;
        } else {
            softcut_res_248530 = 0.0F;
        }
        
        float aa_248543 = qMult_res_252385 * qMult_res_252385;
        float ab_248544 = qMult_res_252385 * defunc_1_f_res_252404;
        float ac_248545 = qMult_res_252385 * defunc_1_f_res_252405;
        float ad_248546 = qMult_res_252385 * defunc_1_f_res_252406;
        float bb_248547 = defunc_1_f_res_252404 * defunc_1_f_res_252404;
        float bc_248548 = defunc_1_f_res_252404 * defunc_1_f_res_252405;
        float bd_248549 = defunc_1_f_res_252404 * defunc_1_f_res_252406;
        float cc_248550 = defunc_1_f_res_252405 * defunc_1_f_res_252405;
        float cd_248551 = defunc_1_f_res_252405 * defunc_1_f_res_252406;
        float dd_248552 = defunc_1_f_res_252406 * defunc_1_f_res_252406;
        float arg_248553 = aa_248543 + bb_248547;
        float arg_248554 = arg_248553 - cc_248550;
        float m33fromQuaternion_res_248555 = arg_248554 - dd_248552;
        float arg_248556 = bc_248548 - ad_248546;
        float m33fromQuaternion_res_248557 = 2.0F * arg_248556;
        float arg_248558 = ac_248545 + bd_248549;
        float m33fromQuaternion_res_248559 = 2.0F * arg_248558;
        float arg_248560 = ad_248546 + bc_248548;
        float m33fromQuaternion_res_248561 = 2.0F * arg_248560;
        float arg_248562 = aa_248543 - bb_248547;
        float arg_248563 = cc_248550 + arg_248562;
        float m33fromQuaternion_res_248564 = arg_248563 - dd_248552;
        float arg_248565 = cd_248551 - ab_248544;
        float m33fromQuaternion_res_248566 = 2.0F * arg_248565;
        float arg_248567 = bd_248549 - ac_248545;
        float m33fromQuaternion_res_248568 = 2.0F * arg_248567;
        float arg_248569 = ab_248544 + cd_248551;
        float m33fromQuaternion_res_248570 = 2.0F * arg_248569;
        float arg_248572 = arg_248562 - cc_248550;
        float m33fromQuaternion_res_248573 = dd_248552 + arg_248572;
        
        for (int64_t i_271066 = 0; i_271066 < dz2080U_226337; i_271066++) {
            float x_254848 = ((float *) z31U_mem_271592.mem)[i_271066];
            float x_254849 = ((float *) z31U_mem_271593.mem)[i_271066];
            float x_254850 = ((float *) z31U_mem_271594.mem)[i_271066];
            float x_254851 = ((float *) z31U_mem_271595.mem)[i_271066];
            float x_254852 = ((float *) z31U_mem_271596.mem)[i_271066];
            float x_254853 = ((float *) z31U_mem_271597.mem)[i_271066];
            float defunc_1_f_res_254854 = m33fromQuaternion_res_248555 * x_254851;
            float defunc_1_f_res_254855 = m33fromQuaternion_res_248557 * x_254852;
            float defunc_1_f_res_254856 = m33fromQuaternion_res_248559 * x_254853;
            float defunc_1_f_res_254857 = defunc_1_f_res_254855 + defunc_1_f_res_254856;
            float defunc_0_f_res_254858 = defunc_1_f_res_254854 + defunc_1_f_res_254857;
            float defunc_1_f_res_254859 = m33fromQuaternion_res_248561 * x_254851;
            float defunc_1_f_res_254860 = m33fromQuaternion_res_248564 * x_254852;
            float defunc_1_f_res_254861 = m33fromQuaternion_res_248566 * x_254853;
            float defunc_1_f_res_254862 = defunc_1_f_res_254860 + defunc_1_f_res_254861;
            float defunc_0_f_res_254863 = defunc_1_f_res_254859 + defunc_1_f_res_254862;
            float defunc_1_f_res_254864 = m33fromQuaternion_res_248568 * x_254851;
            float defunc_1_f_res_254865 = m33fromQuaternion_res_248570 * x_254852;
            float defunc_1_f_res_254866 = m33fromQuaternion_res_248573 * x_254853;
            float defunc_1_f_res_254867 = defunc_1_f_res_254865 + defunc_1_f_res_254866;
            float defunc_0_f_res_254868 = defunc_1_f_res_254864 + defunc_1_f_res_254867;
            float defunc_1_f_res_254869 = defunc_1_f_res_252376 + defunc_0_f_res_254858;
            float defunc_1_f_res_254870 = defunc_1_f_res_252377 + defunc_0_f_res_254863;
            float defunc_1_f_res_254871 = defunc_1_f_res_252378 + defunc_0_f_res_254868;
            float defunc_1_f_res_254872 = defunc_1_f_res_254869 - x_254848;
            float defunc_1_f_res_254873 = defunc_1_f_res_254870 - x_254849;
            float defunc_1_f_res_254874 = defunc_1_f_res_254871 - x_254850;
            float defunc_1_f_res_254878 = defunc_1_f_res_254872 * defunc_1_f_res_254872;
            float defunc_1_f_res_254879 = defunc_1_f_res_254873 * defunc_1_f_res_254873;
            float defunc_1_f_res_254880 = defunc_1_f_res_254874 * defunc_1_f_res_254874;
            float defunc_1_f_res_254881 = defunc_1_f_res_254879 + defunc_1_f_res_254880;
            float defunc_0_f_res_254882 = defunc_1_f_res_254878 + defunc_1_f_res_254881;
            bool cond_254883 = defunc_0_f_res_254882 == 0.0F;
            float defunc_0_f_res_254884;
            
            if (cond_254883 == 1) {
                defunc_0_f_res_254884 = 0.0F;
            } else {
                float sqrt_res_254885 = futrts_sqrt32(defunc_0_f_res_254882);
                
                defunc_0_f_res_254884 = sqrt_res_254885;
            }
            ((float *) mem_272832)[i_271066] = defunc_0_f_res_254884;
            ((float *) mem_272835)[i_271066] = defunc_1_f_res_254872;
            ((float *) mem_272838)[i_271066] = defunc_1_f_res_254873;
            ((float *) mem_272841)[i_271066] = defunc_1_f_res_254874;
        }
        for (int64_t i_271077 = 0; i_271077 < dz2081U_226338; i_271077++) {
            float x_254829 = ((float *) z31U_mem_271599.mem)[i_271077];
            float defunc_2_reduce_res_269270;
            float redout_271071 = 0.0F;
            
            for (int64_t i_271072 = 0; i_271072 < dz2080U_226337; i_271072++) {
                float x_255221 = ((float *) mem_272832)[i_271072];
                float x_255222 = ((float *) z31U_mem_271598.mem)[i_271077 * dz2080U_226337 + i_271072];
                float defunc_1_f_res_255223 = x_255221 * x_255222;
                float defunc_1_op_res_254837 = defunc_1_f_res_255223 + redout_271071;
                float redout_tmp_273172 = defunc_1_op_res_254837;
                
                redout_271071 = redout_tmp_273172;
            }
            defunc_2_reduce_res_269270 = redout_271071;
            
            float defunc_1_f_res_254840 = x_254829 + defunc_2_reduce_res_269270;
            float arg_254842 = 0.0F - defunc_1_f_res_254840;
            float exp_arg_254843 = defunc_1_f_res_254840 * arg_254842;
            float exp_res_254844 = futrts_exp32(exp_arg_254843);
            
            ((float *) mem_272884)[i_271077] = exp_res_254844;
            ((float *) mem_272887)[i_271077] = defunc_1_f_res_254840;
        }
        for (int64_t i_271086 = 0; i_271086 < dz2081U_226338; i_271086++) {
            float x_254805 = ((float *) z31U_mem_271601.mem)[i_271086];
            float defunc_2_reduce_res_269271;
            float redout_271080 = 0.0F;
            
            for (int64_t i_271081 = 0; i_271081 < dz2081U_226338; i_271081++) {
                float x_255227 = ((float *) mem_272884)[i_271081];
                float x_255228 = ((float *) z31U_mem_271600.mem)[i_271086 * dz2081U_226338 + i_271081];
                float defunc_1_f_res_255229 = x_255227 * x_255228;
                float defunc_1_op_res_254813 = defunc_1_f_res_255229 + redout_271080;
                float redout_tmp_273175 = defunc_1_op_res_254813;
                
                redout_271080 = redout_tmp_273175;
            }
            defunc_2_reduce_res_269271 = redout_271080;
            
            float defunc_1_f_res_254816 = x_254805 + defunc_2_reduce_res_269271;
            float defunc_0_f_res_254818 = futrts_tanh32(defunc_1_f_res_254816);
            
            ((float *) mem_272910)[i_271086] = defunc_0_f_res_254818;
            ((float *) mem_272913)[i_271086] = defunc_1_f_res_254816;
        }
        
        float defunc_2_reduce_res_270564;
        float redout_271092 = 0.0F;
        
        for (int64_t i_271094 = 0; i_271094 < dz2081U_226338; i_271094++) {
            float x_263516 = ((float *) z31U_mem_271603.mem)[i_271094];
            float x_263517 = ((float *) z31U_mem_271604.mem)[i_271094];
            float defunc_2_reduce_res_269272;
            float redout_271089 = 0.0F;
            
            for (int64_t i_271090 = 0; i_271090 < dz2081U_226338; i_271090++) {
                float x_263523 = ((float *) mem_272910)[i_271090];
                float x_263524 = ((float *) z31U_mem_271602.mem)[i_271094 * dz2081U_226338 + i_271090];
                float defunc_1_f_res_263525 = x_263523 * x_263524;
                float defunc_1_op_res_263522 = defunc_1_f_res_263525 + redout_271089;
                float redout_tmp_273178 = defunc_1_op_res_263522;
                
                redout_271089 = redout_tmp_273178;
            }
            defunc_2_reduce_res_269272 = redout_271089;
            
            float defunc_1_f_res_263526 = x_263516 + defunc_2_reduce_res_269272;
            float defunc_0_f_res_263527 = futrts_tanh32(defunc_1_f_res_263526);
            float defunc_1_f_res_263528 = x_263517 * defunc_0_f_res_263527;
            float defunc_2_f_res_263530 = softcut_res_248530 * x_263517;
            float binop_y_263533 = defunc_0_f_res_263527 * defunc_0_f_res_263527;
            float binop_y_263534 = 1.0F - binop_y_263533;
            float contrib_263535 = defunc_2_f_res_263530 * binop_y_263534;
            float defunc_1_op_res_248642 = defunc_1_f_res_263528 + redout_271092;
            
            ((float *) mem_272936)[i_271094] = contrib_263535;
            
            float redout_tmp_273176 = defunc_1_op_res_248642;
            
            redout_271092 = redout_tmp_273176;
        }
        defunc_2_reduce_res_270564 = redout_271092;
        
        float defunc_0_f_res_247979 = softcut_res_248530 * defunc_2_reduce_res_270564;
        float distanceFunction_res_248033;
        
        if (z30U_226340 == (int8_t) 1) {
            float defunc_0_f_res_269353 = 0.0F - defunc_1_f_res_252404;
            float defunc_0_f_res_269354 = 0.0F - defunc_1_f_res_252405;
            float defunc_0_f_res_269355 = 0.0F - defunc_1_f_res_252406;
            float defunc_1_f_res_269356 = z30U_226344 * defunc_1_f_res_252404;
            float defunc_1_f_res_269357 = z30U_226345 * defunc_1_f_res_252405;
            float defunc_1_f_res_269358 = z30U_226346 * defunc_1_f_res_252406;
            float defunc_1_f_res_269359 = defunc_1_f_res_269357 + defunc_1_f_res_269358;
            float defunc_0_f_res_269360 = defunc_1_f_res_269356 + defunc_1_f_res_269359;
            float qMult_res_269361 = 0.0F - defunc_0_f_res_269360;
            float arg_269362 = z30U_226346 * defunc_1_f_res_252405;
            float arg_269363 = z30U_226345 * defunc_1_f_res_252406;
            float cross_res_269364 = arg_269362 - arg_269363;
            float arg_269365 = z30U_226344 * defunc_1_f_res_252406;
            float arg_269366 = z30U_226346 * defunc_1_f_res_252404;
            float cross_res_269367 = arg_269365 - arg_269366;
            float arg_269368 = z30U_226345 * defunc_1_f_res_252404;
            float arg_269369 = z30U_226344 * defunc_1_f_res_252405;
            float cross_res_269370 = arg_269368 - arg_269369;
            float defunc_0_f_res_269371 = z30U_226344 * qMult_res_252385;
            float defunc_0_f_res_269372 = z30U_226345 * qMult_res_252385;
            float defunc_0_f_res_269373 = z30U_226346 * qMult_res_252385;
            float defunc_1_f_res_269374 = cross_res_269364 + defunc_0_f_res_269371;
            float defunc_1_f_res_269375 = cross_res_269367 + defunc_0_f_res_269372;
            float defunc_1_f_res_269376 = cross_res_269370 + defunc_0_f_res_269373;
            float arg_269377 = defunc_0_f_res_269355 * defunc_1_f_res_269375;
            float arg_269378 = defunc_0_f_res_269354 * defunc_1_f_res_269376;
            float cross_res_269379 = arg_269377 - arg_269378;
            float arg_269380 = defunc_0_f_res_269353 * defunc_1_f_res_269376;
            float arg_269381 = defunc_0_f_res_269355 * defunc_1_f_res_269374;
            float cross_res_269382 = arg_269380 - arg_269381;
            float arg_269383 = defunc_0_f_res_269354 * defunc_1_f_res_269374;
            float arg_269384 = defunc_0_f_res_269353 * defunc_1_f_res_269375;
            float cross_res_269385 = arg_269383 - arg_269384;
            float defunc_0_f_res_269386 = qMult_res_252385 * defunc_1_f_res_269374;
            float defunc_0_f_res_269387 = qMult_res_252385 * defunc_1_f_res_269375;
            float defunc_0_f_res_269388 = qMult_res_252385 * defunc_1_f_res_269376;
            float defunc_0_f_res_269389 = defunc_0_f_res_269353 * qMult_res_269361;
            float defunc_0_f_res_269390 = defunc_0_f_res_269354 * qMult_res_269361;
            float defunc_0_f_res_269391 = defunc_0_f_res_269355 * qMult_res_269361;
            float defunc_1_f_res_269392 = defunc_0_f_res_269386 + defunc_0_f_res_269389;
            float defunc_1_f_res_269393 = defunc_0_f_res_269387 + defunc_0_f_res_269390;
            float defunc_1_f_res_269394 = defunc_0_f_res_269388 + defunc_0_f_res_269391;
            float defunc_1_f_res_269395 = cross_res_269379 + defunc_1_f_res_269392;
            float defunc_1_f_res_269396 = cross_res_269382 + defunc_1_f_res_269393;
            float defunc_1_f_res_269397 = cross_res_269385 + defunc_1_f_res_269394;
            float defunc_0_f_res_269398 = 0.0F - defunc_1_f_res_252376;
            float defunc_0_f_res_269399 = 0.0F - defunc_1_f_res_252377;
            float defunc_0_f_res_269400 = 0.0F - defunc_1_f_res_252378;
            float defunc_1_f_res_269401 = z30U_226341 * defunc_1_f_res_269395;
            float defunc_1_f_res_269402 = z30U_226342 * defunc_1_f_res_269396;
            float defunc_1_f_res_269403 = z30U_226343 * defunc_1_f_res_269397;
            float defunc_1_f_res_269404 = defunc_1_f_res_269402 + defunc_1_f_res_269403;
            float defunc_0_f_res_269405 = defunc_1_f_res_269401 + defunc_1_f_res_269404;
            float defunc_1_f_res_269406 = z30U_226341 * defunc_0_f_res_269398;
            float defunc_1_f_res_269407 = z30U_226342 * defunc_0_f_res_269399;
            float defunc_1_f_res_269408 = z30U_226343 * defunc_0_f_res_269400;
            float defunc_1_f_res_269409 = defunc_1_f_res_269407 + defunc_1_f_res_269408;
            float defunc_0_f_res_269410 = defunc_1_f_res_269406 + defunc_1_f_res_269409;
            float defunc_1_f_res_269411 = defunc_1_f_res_269395 * defunc_1_f_res_269395;
            float defunc_1_f_res_269412 = defunc_1_f_res_269396 * defunc_1_f_res_269396;
            float defunc_1_f_res_269413 = defunc_1_f_res_269397 * defunc_1_f_res_269397;
            float defunc_1_f_res_269414 = defunc_1_f_res_269412 + defunc_1_f_res_269413;
            float defunc_0_f_res_269415 = defunc_1_f_res_269411 + defunc_1_f_res_269414;
            float defunc_1_f_res_269416 = defunc_1_f_res_269395 * defunc_0_f_res_269398;
            float defunc_1_f_res_269417 = defunc_1_f_res_269396 * defunc_0_f_res_269399;
            float defunc_1_f_res_269418 = defunc_1_f_res_269397 * defunc_0_f_res_269400;
            float defunc_1_f_res_269419 = defunc_1_f_res_269417 + defunc_1_f_res_269418;
            float defunc_0_f_res_269420 = defunc_1_f_res_269416 + defunc_1_f_res_269419;
            float arg_269421 = defunc_0_f_res_248882 * defunc_0_f_res_269415;
            float arg_269422 = defunc_0_f_res_269405 * defunc_0_f_res_269405;
            float det_269423 = arg_269421 - arg_269422;
            float arg_269424 = defunc_0_f_res_269410 * defunc_0_f_res_269415;
            float arg_269425 = defunc_0_f_res_269405 * defunc_0_f_res_269420;
            float arg_269426 = arg_269424 - arg_269425;
            float i_m_269427 = arg_269426 / det_269423;
            float arg_269428 = defunc_0_f_res_248882 * defunc_0_f_res_269420;
            float arg_269429 = defunc_0_f_res_269405 * defunc_0_f_res_269410;
            float arg_269430 = arg_269428 - arg_269429;
            float j_m_269431 = arg_269430 / det_269423;
            float arg_269432 = defunc_0_f_res_269410 - defunc_0_f_res_269405;
            float i_p_269433 = arg_269432 / defunc_0_f_res_248882;
            float arg_269434 = defunc_0_f_res_269405 + defunc_0_f_res_269410;
            float i_n_269435 = arg_269434 / defunc_0_f_res_248882;
            float arg_269436 = defunc_0_f_res_269420 - defunc_0_f_res_269405;
            float j_p_269437 = arg_269436 / defunc_0_f_res_269415;
            float arg_269438 = defunc_0_f_res_269405 + defunc_0_f_res_269420;
            float j_n_269439 = arg_269438 / defunc_0_f_res_269415;
            bool cond_269440 = det_269423 == 0.0F;
            bool cond_269441 = !cond_269440;
            bool cond_269442 = -1.0F <= i_m_269427;
            bool lifted_valid_res_t_res_269443 = i_m_269427 <= 1.0F;
            bool x_269444 = cond_269442 && lifted_valid_res_t_res_269443;
            bool x_269445 = cond_269441 && x_269444;
            bool cond_269446 = -1.0F <= j_m_269431;
            bool lifted_valid_res_t_res_269447 = j_m_269431 <= 1.0F;
            bool x_269448 = cond_269446 && lifted_valid_res_t_res_269447;
            bool x_269449 = x_269445 && x_269448;
            float rodDistance_res_269450;
            
            if (x_269449 == 1) {
                float defunc_0_f_res_269451 = defunc_1_f_res_269395 * j_m_269431;
                float defunc_0_f_res_269452 = defunc_1_f_res_269396 * j_m_269431;
                float defunc_0_f_res_269453 = defunc_1_f_res_269397 * j_m_269431;
                float defunc_0_f_res_269454 = z30U_226341 * i_m_269427;
                float defunc_0_f_res_269455 = z30U_226342 * i_m_269427;
                float defunc_0_f_res_269456 = z30U_226343 * i_m_269427;
                float defunc_1_f_res_269457 = defunc_0_f_res_269451 + defunc_0_f_res_269454;
                float defunc_1_f_res_269458 = defunc_0_f_res_269452 + defunc_0_f_res_269455;
                float defunc_1_f_res_269459 = defunc_0_f_res_269453 + defunc_0_f_res_269456;
                float defunc_1_f_res_269460 = defunc_1_f_res_269457 - defunc_0_f_res_269398;
                float defunc_1_f_res_269461 = defunc_1_f_res_269458 - defunc_0_f_res_269399;
                float defunc_1_f_res_269462 = defunc_1_f_res_269459 - defunc_0_f_res_269400;
                float defunc_1_f_res_269463 = defunc_1_f_res_269460 * defunc_1_f_res_269460;
                float defunc_1_f_res_269464 = defunc_1_f_res_269461 * defunc_1_f_res_269461;
                float defunc_1_f_res_269465 = defunc_1_f_res_269462 * defunc_1_f_res_269462;
                float defunc_1_f_res_269466 = defunc_1_f_res_269464 + defunc_1_f_res_269465;
                float defunc_0_f_res_269467 = defunc_1_f_res_269463 + defunc_1_f_res_269466;
                float sqrt_res_269468 = futrts_sqrt32(defunc_0_f_res_269467);
                
                rodDistance_res_269450 = sqrt_res_269468;
            } else {
                float defunc_0_f_res_269469 = -1.0F * defunc_1_f_res_269395;
                float defunc_0_f_res_269470 = -1.0F * defunc_1_f_res_269396;
                float defunc_0_f_res_269471 = -1.0F * defunc_1_f_res_269397;
                float defunc_0_f_res_269472 = -1.0F * z30U_226341;
                float defunc_0_f_res_269473 = -1.0F * z30U_226342;
                float defunc_0_f_res_269474 = -1.0F * z30U_226343;
                float defunc_1_f_res_269475 = defunc_0_f_res_269469 + defunc_0_f_res_269472;
                float defunc_1_f_res_269476 = defunc_0_f_res_269470 + defunc_0_f_res_269473;
                float defunc_1_f_res_269477 = defunc_0_f_res_269471 + defunc_0_f_res_269474;
                float defunc_1_f_res_269478 = defunc_1_f_res_269475 - defunc_0_f_res_269398;
                float defunc_1_f_res_269479 = defunc_1_f_res_269476 - defunc_0_f_res_269399;
                float defunc_1_f_res_269480 = defunc_1_f_res_269477 - defunc_0_f_res_269400;
                float defunc_1_f_res_269481 = defunc_1_f_res_269478 * defunc_1_f_res_269478;
                float defunc_1_f_res_269482 = defunc_1_f_res_269479 * defunc_1_f_res_269479;
                float defunc_1_f_res_269483 = defunc_1_f_res_269480 * defunc_1_f_res_269480;
                float defunc_1_f_res_269484 = defunc_1_f_res_269482 + defunc_1_f_res_269483;
                float defunc_0_f_res_269485 = defunc_1_f_res_269481 + defunc_1_f_res_269484;
                float defunc_1_f_res_269486 = defunc_1_f_res_269395 + defunc_0_f_res_269472;
                float defunc_1_f_res_269487 = defunc_1_f_res_269396 + defunc_0_f_res_269473;
                float defunc_1_f_res_269488 = defunc_1_f_res_269397 + defunc_0_f_res_269474;
                float defunc_1_f_res_269489 = defunc_1_f_res_269486 - defunc_0_f_res_269398;
                float defunc_1_f_res_269490 = defunc_1_f_res_269487 - defunc_0_f_res_269399;
                float defunc_1_f_res_269491 = defunc_1_f_res_269488 - defunc_0_f_res_269400;
                float defunc_1_f_res_269492 = defunc_1_f_res_269489 * defunc_1_f_res_269489;
                float defunc_1_f_res_269493 = defunc_1_f_res_269490 * defunc_1_f_res_269490;
                float defunc_1_f_res_269494 = defunc_1_f_res_269491 * defunc_1_f_res_269491;
                float defunc_1_f_res_269495 = defunc_1_f_res_269493 + defunc_1_f_res_269494;
                float defunc_0_f_res_269496 = defunc_1_f_res_269492 + defunc_1_f_res_269495;
                float defunc_1_f_res_269497 = z30U_226341 + defunc_0_f_res_269469;
                float defunc_1_f_res_269498 = z30U_226342 + defunc_0_f_res_269470;
                float defunc_1_f_res_269499 = z30U_226343 + defunc_0_f_res_269471;
                float defunc_1_f_res_269500 = defunc_1_f_res_269497 - defunc_0_f_res_269398;
                float defunc_1_f_res_269501 = defunc_1_f_res_269498 - defunc_0_f_res_269399;
                float defunc_1_f_res_269502 = defunc_1_f_res_269499 - defunc_0_f_res_269400;
                float defunc_1_f_res_269503 = defunc_1_f_res_269500 * defunc_1_f_res_269500;
                float defunc_1_f_res_269504 = defunc_1_f_res_269501 * defunc_1_f_res_269501;
                float defunc_1_f_res_269505 = defunc_1_f_res_269502 * defunc_1_f_res_269502;
                float defunc_1_f_res_269506 = defunc_1_f_res_269504 + defunc_1_f_res_269505;
                float defunc_0_f_res_269507 = defunc_1_f_res_269503 + defunc_1_f_res_269506;
                float defunc_1_f_res_269508 = z30U_226341 + defunc_1_f_res_269395;
                float defunc_1_f_res_269509 = z30U_226342 + defunc_1_f_res_269396;
                float defunc_1_f_res_269510 = z30U_226343 + defunc_1_f_res_269397;
                float defunc_1_f_res_269511 = defunc_1_f_res_269508 - defunc_0_f_res_269398;
                float defunc_1_f_res_269512 = defunc_1_f_res_269509 - defunc_0_f_res_269399;
                float defunc_1_f_res_269513 = defunc_1_f_res_269510 - defunc_0_f_res_269400;
                float defunc_1_f_res_269514 = defunc_1_f_res_269511 * defunc_1_f_res_269511;
                float defunc_1_f_res_269515 = defunc_1_f_res_269512 * defunc_1_f_res_269512;
                float defunc_1_f_res_269516 = defunc_1_f_res_269513 * defunc_1_f_res_269513;
                float defunc_1_f_res_269517 = defunc_1_f_res_269515 + defunc_1_f_res_269516;
                float defunc_0_f_res_269518 = defunc_1_f_res_269514 + defunc_1_f_res_269517;
                bool cond_269519 = -1.0F <= j_n_269439;
                bool lifted_valid_res_t_res_269520 = j_n_269439 <= 1.0F;
                bool x_269521 = cond_269519 && lifted_valid_res_t_res_269520;
                float min_arg_269522;
                
                if (x_269521 == 1) {
                    float defunc_0_f_res_269523 = defunc_1_f_res_269395 * j_n_269439;
                    float defunc_0_f_res_269524 = defunc_1_f_res_269396 * j_n_269439;
                    float defunc_0_f_res_269525 = defunc_1_f_res_269397 * j_n_269439;
                    float defunc_1_f_res_269526 = defunc_0_f_res_269472 + defunc_0_f_res_269523;
                    float defunc_1_f_res_269527 = defunc_0_f_res_269473 + defunc_0_f_res_269524;
                    float defunc_1_f_res_269528 = defunc_0_f_res_269474 + defunc_0_f_res_269525;
                    float defunc_1_f_res_269529 = defunc_1_f_res_269526 - defunc_0_f_res_269398;
                    float defunc_1_f_res_269530 = defunc_1_f_res_269527 - defunc_0_f_res_269399;
                    float defunc_1_f_res_269531 = defunc_1_f_res_269528 - defunc_0_f_res_269400;
                    float defunc_1_f_res_269532 = defunc_1_f_res_269529 * defunc_1_f_res_269529;
                    float defunc_1_f_res_269533 = defunc_1_f_res_269530 * defunc_1_f_res_269530;
                    float defunc_1_f_res_269534 = defunc_1_f_res_269531 * defunc_1_f_res_269531;
                    float defunc_1_f_res_269535 = defunc_1_f_res_269533 + defunc_1_f_res_269534;
                    float defunc_0_f_res_269536 = defunc_1_f_res_269532 + defunc_1_f_res_269535;
                    
                    min_arg_269522 = defunc_0_f_res_269536;
                } else {
                    min_arg_269522 = INFINITY;
                }
                
                bool cond_269537 = -1.0F <= j_p_269437;
                bool lifted_valid_res_t_res_269538 = j_p_269437 <= 1.0F;
                bool x_269539 = cond_269537 && lifted_valid_res_t_res_269538;
                float min_arg_269540;
                
                if (x_269539 == 1) {
                    float defunc_0_f_res_269541 = defunc_1_f_res_269395 * j_p_269437;
                    float defunc_0_f_res_269542 = defunc_1_f_res_269396 * j_p_269437;
                    float defunc_0_f_res_269543 = defunc_1_f_res_269397 * j_p_269437;
                    float defunc_1_f_res_269544 = z30U_226341 + defunc_0_f_res_269541;
                    float defunc_1_f_res_269545 = z30U_226342 + defunc_0_f_res_269542;
                    float defunc_1_f_res_269546 = z30U_226343 + defunc_0_f_res_269543;
                    float defunc_1_f_res_269547 = defunc_1_f_res_269544 - defunc_0_f_res_269398;
                    float defunc_1_f_res_269548 = defunc_1_f_res_269545 - defunc_0_f_res_269399;
                    float defunc_1_f_res_269549 = defunc_1_f_res_269546 - defunc_0_f_res_269400;
                    float defunc_1_f_res_269550 = defunc_1_f_res_269547 * defunc_1_f_res_269547;
                    float defunc_1_f_res_269551 = defunc_1_f_res_269548 * defunc_1_f_res_269548;
                    float defunc_1_f_res_269552 = defunc_1_f_res_269549 * defunc_1_f_res_269549;
                    float defunc_1_f_res_269553 = defunc_1_f_res_269551 + defunc_1_f_res_269552;
                    float defunc_0_f_res_269554 = defunc_1_f_res_269550 + defunc_1_f_res_269553;
                    
                    min_arg_269540 = defunc_0_f_res_269554;
                } else {
                    min_arg_269540 = INFINITY;
                }
                
                bool cond_269555 = -1.0F <= i_n_269435;
                bool lifted_valid_res_t_res_269556 = i_n_269435 <= 1.0F;
                bool x_269557 = cond_269555 && lifted_valid_res_t_res_269556;
                float min_arg_269558;
                
                if (x_269557 == 1) {
                    float defunc_0_f_res_269559 = z30U_226341 * i_n_269435;
                    float defunc_0_f_res_269560 = z30U_226342 * i_n_269435;
                    float defunc_0_f_res_269561 = z30U_226343 * i_n_269435;
                    float defunc_1_f_res_269562 = defunc_0_f_res_269469 + defunc_0_f_res_269559;
                    float defunc_1_f_res_269563 = defunc_0_f_res_269470 + defunc_0_f_res_269560;
                    float defunc_1_f_res_269564 = defunc_0_f_res_269471 + defunc_0_f_res_269561;
                    float defunc_1_f_res_269565 = defunc_1_f_res_269562 - defunc_0_f_res_269398;
                    float defunc_1_f_res_269566 = defunc_1_f_res_269563 - defunc_0_f_res_269399;
                    float defunc_1_f_res_269567 = defunc_1_f_res_269564 - defunc_0_f_res_269400;
                    float defunc_1_f_res_269568 = defunc_1_f_res_269565 * defunc_1_f_res_269565;
                    float defunc_1_f_res_269569 = defunc_1_f_res_269566 * defunc_1_f_res_269566;
                    float defunc_1_f_res_269570 = defunc_1_f_res_269567 * defunc_1_f_res_269567;
                    float defunc_1_f_res_269571 = defunc_1_f_res_269569 + defunc_1_f_res_269570;
                    float defunc_0_f_res_269572 = defunc_1_f_res_269568 + defunc_1_f_res_269571;
                    
                    min_arg_269558 = defunc_0_f_res_269572;
                } else {
                    min_arg_269558 = INFINITY;
                }
                
                bool cond_269573 = -1.0F <= i_p_269433;
                bool lifted_valid_res_t_res_269574 = i_p_269433 <= 1.0F;
                bool x_269575 = cond_269573 && lifted_valid_res_t_res_269574;
                float min_arg_269576;
                
                if (x_269575 == 1) {
                    float defunc_0_f_res_269577 = z30U_226341 * i_p_269433;
                    float defunc_0_f_res_269578 = z30U_226342 * i_p_269433;
                    float defunc_0_f_res_269579 = z30U_226343 * i_p_269433;
                    float defunc_1_f_res_269580 = defunc_1_f_res_269395 + defunc_0_f_res_269577;
                    float defunc_1_f_res_269581 = defunc_1_f_res_269396 + defunc_0_f_res_269578;
                    float defunc_1_f_res_269582 = defunc_1_f_res_269397 + defunc_0_f_res_269579;
                    float defunc_1_f_res_269583 = defunc_1_f_res_269580 - defunc_0_f_res_269398;
                    float defunc_1_f_res_269584 = defunc_1_f_res_269581 - defunc_0_f_res_269399;
                    float defunc_1_f_res_269585 = defunc_1_f_res_269582 - defunc_0_f_res_269400;
                    float defunc_1_f_res_269586 = defunc_1_f_res_269583 * defunc_1_f_res_269583;
                    float defunc_1_f_res_269587 = defunc_1_f_res_269584 * defunc_1_f_res_269584;
                    float defunc_1_f_res_269588 = defunc_1_f_res_269585 * defunc_1_f_res_269585;
                    float defunc_1_f_res_269589 = defunc_1_f_res_269587 + defunc_1_f_res_269588;
                    float defunc_0_f_res_269590 = defunc_1_f_res_269586 + defunc_1_f_res_269589;
                    
                    min_arg_269576 = defunc_0_f_res_269590;
                } else {
                    min_arg_269576 = INFINITY;
                }
                
                float min_res_269591 = fmin32(min_arg_269558, min_arg_269576);
                float min_res_269592 = fmin32(min_arg_269540, min_res_269591);
                float min_res_269593 = fmin32(min_arg_269522, min_res_269592);
                float min_res_269594 = fmin32(defunc_0_f_res_269518, min_res_269593);
                float min_res_269595 = fmin32(defunc_0_f_res_269507, min_res_269594);
                float min_res_269596 = fmin32(defunc_0_f_res_269496, min_res_269595);
                float min_res_269597 = fmin32(defunc_0_f_res_269485, min_res_269596);
                float sqrt_res_269598 = futrts_sqrt32(min_res_269597);
                
                rodDistance_res_269450 = sqrt_res_269598;
            }
            distanceFunction_res_248033 = rodDistance_res_269450;
        } else if (z30U_226340 == (int8_t) 2) {
            float defunc_1_f_res_269273 = defunc_1_f_res_252376 * defunc_1_f_res_252376;
            float defunc_1_f_res_269274 = defunc_1_f_res_252377 * defunc_1_f_res_252377;
            float defunc_1_f_res_269275 = defunc_1_f_res_252378 * defunc_1_f_res_252378;
            float defunc_1_f_res_269276 = defunc_1_f_res_269274 + defunc_1_f_res_269275;
            float defunc_0_f_res_269277 = defunc_1_f_res_269273 + defunc_1_f_res_269276;
            float sqrt_res_269278 = futrts_sqrt32(defunc_0_f_res_269277);
            
            distanceFunction_res_248033 = sqrt_res_269278;
        } else {
            distanceFunction_res_248033 = 0.0F;
        }
        
        float softcut_arg_248099 = distanceFunction_res_248033 / z30U_226353;
        float abs_res_248677 = (float) fabs(softcut_arg_248099);
        bool cond_248678 = abs_res_248677 < 1.0F;
        float branch_adj_258354;
        
        if (cond_248678 == 1) {
            float arg_269599 = softcut_arg_248099 * softcut_arg_248099;
            float arg_269600 = arg_269599 - 1.0F;
            float arg_269601 = i32_res_248527 * arg_269600;
            float arg_269602 = arg_269601 - 1.0F;
            float arg_269603 = 2.0F * i32_res_248527;
            float arg_269604 = fpow32(softcut_arg_248099, arg_269603);
            float binop_x_adj_269605 = arg_269604 * defunc_2_reduce_res_270564;
            float binop_y_adj_269606 = arg_269602 * defunc_2_reduce_res_270564;
            float binop_y_269607 = arg_269603 - 1.0F;
            float binop_y_269608 = fpow32(softcut_arg_248099, binop_y_269607);
            float binop_y_269609 = arg_269603 * binop_y_269608;
            float binop_x_adj_269610 = binop_y_adj_269606 * binop_y_269609;
            float binop_y_adj_269611 = i32_res_248527 * binop_x_adj_269605;
            float binop_x_adj_269612 = softcut_arg_248099 * binop_y_adj_269611;
            float softcut_arg_adj_269613 = binop_x_adj_269610 + binop_x_adj_269612;
            float softcut_arg_adj_269614 = binop_x_adj_269612 + softcut_arg_adj_269613;
            
            branch_adj_258354 = softcut_arg_adj_269614;
        } else {
            branch_adj_258354 = 0.0F;
        }
        
        float binop_x_adj_258363 = branch_adj_258354 * binop_y_258362;
        float branch_adj_261534;
        float branch_adj_261535;
        float branch_adj_261536;
        float branch_adj_261537;
        float branch_adj_261538;
        float branch_adj_261539;
        float branch_adj_261540;
        
        if (z30U_226340 == (int8_t) 1) {
            float defunc_0_f_res_269842 = 0.0F - defunc_1_f_res_252404;
            float defunc_0_f_res_269843 = 0.0F - defunc_1_f_res_252405;
            float defunc_0_f_res_269844 = 0.0F - defunc_1_f_res_252406;
            float defunc_1_f_res_269845 = z30U_226344 * defunc_1_f_res_252404;
            float defunc_1_f_res_269846 = z30U_226345 * defunc_1_f_res_252405;
            float defunc_1_f_res_269847 = z30U_226346 * defunc_1_f_res_252406;
            float defunc_1_f_res_269848 = defunc_1_f_res_269846 + defunc_1_f_res_269847;
            float defunc_0_f_res_269849 = defunc_1_f_res_269845 + defunc_1_f_res_269848;
            float qMult_res_269850 = 0.0F - defunc_0_f_res_269849;
            float arg_269851 = z30U_226346 * defunc_1_f_res_252405;
            float arg_269852 = z30U_226345 * defunc_1_f_res_252406;
            float cross_res_269853 = arg_269851 - arg_269852;
            float arg_269854 = z30U_226344 * defunc_1_f_res_252406;
            float arg_269855 = z30U_226346 * defunc_1_f_res_252404;
            float cross_res_269856 = arg_269854 - arg_269855;
            float arg_269857 = z30U_226345 * defunc_1_f_res_252404;
            float arg_269858 = z30U_226344 * defunc_1_f_res_252405;
            float cross_res_269859 = arg_269857 - arg_269858;
            float defunc_0_f_res_269860 = z30U_226344 * qMult_res_252385;
            float defunc_0_f_res_269861 = z30U_226345 * qMult_res_252385;
            float defunc_0_f_res_269862 = z30U_226346 * qMult_res_252385;
            float defunc_1_f_res_269863 = cross_res_269853 + defunc_0_f_res_269860;
            float defunc_1_f_res_269864 = cross_res_269856 + defunc_0_f_res_269861;
            float defunc_1_f_res_269865 = cross_res_269859 + defunc_0_f_res_269862;
            float arg_269866 = defunc_0_f_res_269844 * defunc_1_f_res_269864;
            float arg_269867 = defunc_0_f_res_269843 * defunc_1_f_res_269865;
            float cross_res_269868 = arg_269866 - arg_269867;
            float arg_269869 = defunc_0_f_res_269842 * defunc_1_f_res_269865;
            float arg_269870 = defunc_0_f_res_269844 * defunc_1_f_res_269863;
            float cross_res_269871 = arg_269869 - arg_269870;
            float arg_269872 = defunc_0_f_res_269843 * defunc_1_f_res_269863;
            float arg_269873 = defunc_0_f_res_269842 * defunc_1_f_res_269864;
            float cross_res_269874 = arg_269872 - arg_269873;
            float defunc_0_f_res_269875 = qMult_res_252385 * defunc_1_f_res_269863;
            float defunc_0_f_res_269876 = qMult_res_252385 * defunc_1_f_res_269864;
            float defunc_0_f_res_269877 = qMult_res_252385 * defunc_1_f_res_269865;
            float defunc_0_f_res_269878 = defunc_0_f_res_269842 * qMult_res_269850;
            float defunc_0_f_res_269879 = defunc_0_f_res_269843 * qMult_res_269850;
            float defunc_0_f_res_269880 = defunc_0_f_res_269844 * qMult_res_269850;
            float defunc_1_f_res_269881 = defunc_0_f_res_269875 + defunc_0_f_res_269878;
            float defunc_1_f_res_269882 = defunc_0_f_res_269876 + defunc_0_f_res_269879;
            float defunc_1_f_res_269883 = defunc_0_f_res_269877 + defunc_0_f_res_269880;
            float defunc_1_f_res_269884 = cross_res_269868 + defunc_1_f_res_269881;
            float defunc_1_f_res_269885 = cross_res_269871 + defunc_1_f_res_269882;
            float defunc_1_f_res_269886 = cross_res_269874 + defunc_1_f_res_269883;
            float defunc_0_f_res_269887 = 0.0F - defunc_1_f_res_252376;
            float defunc_0_f_res_269888 = 0.0F - defunc_1_f_res_252377;
            float defunc_0_f_res_269889 = 0.0F - defunc_1_f_res_252378;
            float defunc_1_f_res_269890 = z30U_226341 * defunc_1_f_res_269884;
            float defunc_1_f_res_269891 = z30U_226342 * defunc_1_f_res_269885;
            float defunc_1_f_res_269892 = z30U_226343 * defunc_1_f_res_269886;
            float defunc_1_f_res_269893 = defunc_1_f_res_269891 + defunc_1_f_res_269892;
            float defunc_0_f_res_269894 = defunc_1_f_res_269890 + defunc_1_f_res_269893;
            float defunc_1_f_res_269895 = z30U_226341 * defunc_0_f_res_269887;
            float defunc_1_f_res_269896 = z30U_226342 * defunc_0_f_res_269888;
            float defunc_1_f_res_269897 = z30U_226343 * defunc_0_f_res_269889;
            float defunc_1_f_res_269898 = defunc_1_f_res_269896 + defunc_1_f_res_269897;
            float defunc_0_f_res_269899 = defunc_1_f_res_269895 + defunc_1_f_res_269898;
            float defunc_1_f_res_269900 = defunc_1_f_res_269884 * defunc_1_f_res_269884;
            float defunc_1_f_res_269901 = defunc_1_f_res_269885 * defunc_1_f_res_269885;
            float defunc_1_f_res_269902 = defunc_1_f_res_269886 * defunc_1_f_res_269886;
            float defunc_1_f_res_269903 = defunc_1_f_res_269901 + defunc_1_f_res_269902;
            float defunc_0_f_res_269904 = defunc_1_f_res_269900 + defunc_1_f_res_269903;
            float defunc_1_f_res_269905 = defunc_1_f_res_269884 * defunc_0_f_res_269887;
            float defunc_1_f_res_269906 = defunc_1_f_res_269885 * defunc_0_f_res_269888;
            float defunc_1_f_res_269907 = defunc_1_f_res_269886 * defunc_0_f_res_269889;
            float defunc_1_f_res_269908 = defunc_1_f_res_269906 + defunc_1_f_res_269907;
            float defunc_0_f_res_269909 = defunc_1_f_res_269905 + defunc_1_f_res_269908;
            float arg_269910 = defunc_0_f_res_248882 * defunc_0_f_res_269904;
            float arg_269911 = defunc_0_f_res_269894 * defunc_0_f_res_269894;
            float det_269912 = arg_269910 - arg_269911;
            float arg_269913 = defunc_0_f_res_269899 * defunc_0_f_res_269904;
            float arg_269914 = defunc_0_f_res_269894 * defunc_0_f_res_269909;
            float arg_269915 = arg_269913 - arg_269914;
            float i_m_269916 = arg_269915 / det_269912;
            float arg_269917 = defunc_0_f_res_248882 * defunc_0_f_res_269909;
            float arg_269918 = defunc_0_f_res_269894 * defunc_0_f_res_269899;
            float arg_269919 = arg_269917 - arg_269918;
            float j_m_269920 = arg_269919 / det_269912;
            float arg_269921 = defunc_0_f_res_269899 - defunc_0_f_res_269894;
            float i_p_269922 = arg_269921 / defunc_0_f_res_248882;
            float arg_269923 = defunc_0_f_res_269894 + defunc_0_f_res_269899;
            float i_n_269924 = arg_269923 / defunc_0_f_res_248882;
            float arg_269925 = defunc_0_f_res_269909 - defunc_0_f_res_269894;
            float j_p_269926 = arg_269925 / defunc_0_f_res_269904;
            float arg_269927 = defunc_0_f_res_269894 + defunc_0_f_res_269909;
            float j_n_269928 = arg_269927 / defunc_0_f_res_269904;
            bool cond_269929 = det_269912 == 0.0F;
            bool cond_269930 = !cond_269929;
            bool cond_269931 = -1.0F <= i_m_269916;
            bool lifted_valid_res_t_res_269932 = i_m_269916 <= 1.0F;
            bool x_269933 = cond_269931 && lifted_valid_res_t_res_269932;
            bool x_269934 = cond_269930 && x_269933;
            bool cond_269935 = -1.0F <= j_m_269920;
            bool lifted_valid_res_t_res_269936 = j_m_269920 <= 1.0F;
            bool x_269937 = cond_269935 && lifted_valid_res_t_res_269936;
            bool x_269938 = x_269934 && x_269937;
            float branch_adj_269939;
            float branch_adj_269940;
            float branch_adj_269941;
            float branch_adj_269942;
            float branch_adj_269943;
            float branch_adj_269944;
            float branch_adj_269945;
            float branch_adj_269946;
            float branch_adj_269947;
            float branch_adj_269948;
            float branch_adj_269949;
            float branch_adj_269950;
            
            if (x_269938 == 1) {
                float defunc_0_f_res_269951 = defunc_1_f_res_269884 * j_m_269920;
                float defunc_0_f_res_269952 = defunc_1_f_res_269885 * j_m_269920;
                float defunc_0_f_res_269953 = defunc_1_f_res_269886 * j_m_269920;
                float defunc_0_f_res_269954 = z30U_226341 * i_m_269916;
                float defunc_0_f_res_269955 = z30U_226342 * i_m_269916;
                float defunc_0_f_res_269956 = z30U_226343 * i_m_269916;
                float defunc_1_f_res_269957 = defunc_0_f_res_269951 + defunc_0_f_res_269954;
                float defunc_1_f_res_269958 = defunc_0_f_res_269952 + defunc_0_f_res_269955;
                float defunc_1_f_res_269959 = defunc_0_f_res_269953 + defunc_0_f_res_269956;
                float defunc_1_f_res_269960 = defunc_1_f_res_269957 - defunc_0_f_res_269887;
                float defunc_1_f_res_269961 = defunc_1_f_res_269958 - defunc_0_f_res_269888;
                float defunc_1_f_res_269962 = defunc_1_f_res_269959 - defunc_0_f_res_269889;
                float defunc_1_f_res_269963 = defunc_1_f_res_269960 * defunc_1_f_res_269960;
                float defunc_1_f_res_269964 = defunc_1_f_res_269961 * defunc_1_f_res_269961;
                float defunc_1_f_res_269965 = defunc_1_f_res_269962 * defunc_1_f_res_269962;
                float defunc_1_f_res_269966 = defunc_1_f_res_269964 + defunc_1_f_res_269965;
                float defunc_0_f_res_269967 = defunc_1_f_res_269963 + defunc_1_f_res_269966;
                float binop_y_269968 = fpow32(defunc_0_f_res_269967, 0.5F);
                float binop_y_269969 = 2.0F * binop_y_269968;
                float binop_y_269970 = 1.0F / binop_y_269969;
                float contrib_269971 = binop_x_adj_258363 * binop_y_269970;
                float binop_x_adj_269972 = defunc_1_f_res_269962 * contrib_269971;
                float defunc_1_f_res_adj_269973 = binop_x_adj_269972 + binop_x_adj_269972;
                float binop_x_adj_269974 = defunc_1_f_res_269961 * contrib_269971;
                float defunc_1_f_res_adj_269975 = binop_x_adj_269974 + binop_x_adj_269974;
                float binop_x_adj_269976 = defunc_1_f_res_269960 * contrib_269971;
                float defunc_1_f_res_adj_269977 = binop_x_adj_269976 + binop_x_adj_269976;
                float binop_y_adj_269978 = -1.0F * defunc_1_f_res_adj_269973;
                float binop_y_adj_269979 = -1.0F * defunc_1_f_res_adj_269975;
                float binop_y_adj_269980 = -1.0F * defunc_1_f_res_adj_269977;
                float binop_y_adj_269981 = z30U_226343 * defunc_1_f_res_adj_269973;
                float binop_y_adj_269982 = z30U_226342 * defunc_1_f_res_adj_269975;
                float i_m_adj_269983 = binop_y_adj_269981 + binop_y_adj_269982;
                float binop_y_adj_269984 = z30U_226341 * defunc_1_f_res_adj_269977;
                float i_m_adj_269985 = i_m_adj_269983 + binop_y_adj_269984;
                float binop_x_adj_269986 = j_m_269920 * defunc_1_f_res_adj_269973;
                float binop_y_adj_269987 = defunc_1_f_res_269886 * defunc_1_f_res_adj_269973;
                float binop_x_adj_269988 = j_m_269920 * defunc_1_f_res_adj_269975;
                float binop_y_adj_269989 = defunc_1_f_res_269885 * defunc_1_f_res_adj_269975;
                float j_m_adj_269990 = binop_y_adj_269987 + binop_y_adj_269989;
                float binop_x_adj_269991 = j_m_269920 * defunc_1_f_res_adj_269977;
                float binop_y_adj_269992 = defunc_1_f_res_269884 * defunc_1_f_res_adj_269977;
                float j_m_adj_269993 = j_m_adj_269990 + binop_y_adj_269992;
                
                branch_adj_269939 = binop_x_adj_269991;
                branch_adj_269940 = binop_x_adj_269988;
                branch_adj_269941 = binop_x_adj_269986;
                branch_adj_269942 = binop_y_adj_269980;
                branch_adj_269943 = binop_y_adj_269979;
                branch_adj_269944 = binop_y_adj_269978;
                branch_adj_269945 = i_m_adj_269985;
                branch_adj_269946 = j_m_adj_269993;
                branch_adj_269947 = 0.0F;
                branch_adj_269948 = 0.0F;
                branch_adj_269949 = 0.0F;
                branch_adj_269950 = 0.0F;
            } else {
                float defunc_0_f_res_269994 = -1.0F * defunc_1_f_res_269884;
                float defunc_0_f_res_269995 = -1.0F * defunc_1_f_res_269885;
                float defunc_0_f_res_269996 = -1.0F * defunc_1_f_res_269886;
                float defunc_0_f_res_269997 = -1.0F * z30U_226341;
                float defunc_0_f_res_269998 = -1.0F * z30U_226342;
                float defunc_0_f_res_269999 = -1.0F * z30U_226343;
                float defunc_1_f_res_270000 = defunc_0_f_res_269994 + defunc_0_f_res_269997;
                float defunc_1_f_res_270001 = defunc_0_f_res_269995 + defunc_0_f_res_269998;
                float defunc_1_f_res_270002 = defunc_0_f_res_269996 + defunc_0_f_res_269999;
                float defunc_1_f_res_270003 = defunc_1_f_res_270000 - defunc_0_f_res_269887;
                float defunc_1_f_res_270004 = defunc_1_f_res_270001 - defunc_0_f_res_269888;
                float defunc_1_f_res_270005 = defunc_1_f_res_270002 - defunc_0_f_res_269889;
                float defunc_1_f_res_270006 = defunc_1_f_res_270003 * defunc_1_f_res_270003;
                float defunc_1_f_res_270007 = defunc_1_f_res_270004 * defunc_1_f_res_270004;
                float defunc_1_f_res_270008 = defunc_1_f_res_270005 * defunc_1_f_res_270005;
                float defunc_1_f_res_270009 = defunc_1_f_res_270007 + defunc_1_f_res_270008;
                float defunc_0_f_res_270010 = defunc_1_f_res_270006 + defunc_1_f_res_270009;
                float defunc_1_f_res_270011 = defunc_1_f_res_269884 + defunc_0_f_res_269997;
                float defunc_1_f_res_270012 = defunc_1_f_res_269885 + defunc_0_f_res_269998;
                float defunc_1_f_res_270013 = defunc_1_f_res_269886 + defunc_0_f_res_269999;
                float defunc_1_f_res_270014 = defunc_1_f_res_270011 - defunc_0_f_res_269887;
                float defunc_1_f_res_270015 = defunc_1_f_res_270012 - defunc_0_f_res_269888;
                float defunc_1_f_res_270016 = defunc_1_f_res_270013 - defunc_0_f_res_269889;
                float defunc_1_f_res_270017 = defunc_1_f_res_270014 * defunc_1_f_res_270014;
                float defunc_1_f_res_270018 = defunc_1_f_res_270015 * defunc_1_f_res_270015;
                float defunc_1_f_res_270019 = defunc_1_f_res_270016 * defunc_1_f_res_270016;
                float defunc_1_f_res_270020 = defunc_1_f_res_270018 + defunc_1_f_res_270019;
                float defunc_0_f_res_270021 = defunc_1_f_res_270017 + defunc_1_f_res_270020;
                float defunc_1_f_res_270022 = z30U_226341 + defunc_0_f_res_269994;
                float defunc_1_f_res_270023 = z30U_226342 + defunc_0_f_res_269995;
                float defunc_1_f_res_270024 = z30U_226343 + defunc_0_f_res_269996;
                float defunc_1_f_res_270025 = defunc_1_f_res_270022 - defunc_0_f_res_269887;
                float defunc_1_f_res_270026 = defunc_1_f_res_270023 - defunc_0_f_res_269888;
                float defunc_1_f_res_270027 = defunc_1_f_res_270024 - defunc_0_f_res_269889;
                float defunc_1_f_res_270028 = defunc_1_f_res_270025 * defunc_1_f_res_270025;
                float defunc_1_f_res_270029 = defunc_1_f_res_270026 * defunc_1_f_res_270026;
                float defunc_1_f_res_270030 = defunc_1_f_res_270027 * defunc_1_f_res_270027;
                float defunc_1_f_res_270031 = defunc_1_f_res_270029 + defunc_1_f_res_270030;
                float defunc_0_f_res_270032 = defunc_1_f_res_270028 + defunc_1_f_res_270031;
                float defunc_1_f_res_270033 = z30U_226341 + defunc_1_f_res_269884;
                float defunc_1_f_res_270034 = z30U_226342 + defunc_1_f_res_269885;
                float defunc_1_f_res_270035 = z30U_226343 + defunc_1_f_res_269886;
                float defunc_1_f_res_270036 = defunc_1_f_res_270033 - defunc_0_f_res_269887;
                float defunc_1_f_res_270037 = defunc_1_f_res_270034 - defunc_0_f_res_269888;
                float defunc_1_f_res_270038 = defunc_1_f_res_270035 - defunc_0_f_res_269889;
                float defunc_1_f_res_270039 = defunc_1_f_res_270036 * defunc_1_f_res_270036;
                float defunc_1_f_res_270040 = defunc_1_f_res_270037 * defunc_1_f_res_270037;
                float defunc_1_f_res_270041 = defunc_1_f_res_270038 * defunc_1_f_res_270038;
                float defunc_1_f_res_270042 = defunc_1_f_res_270040 + defunc_1_f_res_270041;
                float defunc_0_f_res_270043 = defunc_1_f_res_270039 + defunc_1_f_res_270042;
                bool cond_270044 = -1.0F <= j_n_269928;
                bool lifted_valid_res_t_res_270045 = j_n_269928 <= 1.0F;
                bool x_270046 = cond_270044 && lifted_valid_res_t_res_270045;
                float min_arg_270047;
                
                if (x_270046 == 1) {
                    float defunc_0_f_res_270048 = defunc_1_f_res_269884 * j_n_269928;
                    float defunc_0_f_res_270049 = defunc_1_f_res_269885 * j_n_269928;
                    float defunc_0_f_res_270050 = defunc_1_f_res_269886 * j_n_269928;
                    float defunc_1_f_res_270051 = defunc_0_f_res_269997 + defunc_0_f_res_270048;
                    float defunc_1_f_res_270052 = defunc_0_f_res_269998 + defunc_0_f_res_270049;
                    float defunc_1_f_res_270053 = defunc_0_f_res_269999 + defunc_0_f_res_270050;
                    float defunc_1_f_res_270054 = defunc_1_f_res_270051 - defunc_0_f_res_269887;
                    float defunc_1_f_res_270055 = defunc_1_f_res_270052 - defunc_0_f_res_269888;
                    float defunc_1_f_res_270056 = defunc_1_f_res_270053 - defunc_0_f_res_269889;
                    float defunc_1_f_res_270057 = defunc_1_f_res_270054 * defunc_1_f_res_270054;
                    float defunc_1_f_res_270058 = defunc_1_f_res_270055 * defunc_1_f_res_270055;
                    float defunc_1_f_res_270059 = defunc_1_f_res_270056 * defunc_1_f_res_270056;
                    float defunc_1_f_res_270060 = defunc_1_f_res_270058 + defunc_1_f_res_270059;
                    float defunc_0_f_res_270061 = defunc_1_f_res_270057 + defunc_1_f_res_270060;
                    
                    min_arg_270047 = defunc_0_f_res_270061;
                } else {
                    min_arg_270047 = INFINITY;
                }
                
                bool cond_270062 = -1.0F <= j_p_269926;
                bool lifted_valid_res_t_res_270063 = j_p_269926 <= 1.0F;
                bool x_270064 = cond_270062 && lifted_valid_res_t_res_270063;
                float min_arg_270065;
                
                if (x_270064 == 1) {
                    float defunc_0_f_res_270066 = defunc_1_f_res_269884 * j_p_269926;
                    float defunc_0_f_res_270067 = defunc_1_f_res_269885 * j_p_269926;
                    float defunc_0_f_res_270068 = defunc_1_f_res_269886 * j_p_269926;
                    float defunc_1_f_res_270069 = z30U_226341 + defunc_0_f_res_270066;
                    float defunc_1_f_res_270070 = z30U_226342 + defunc_0_f_res_270067;
                    float defunc_1_f_res_270071 = z30U_226343 + defunc_0_f_res_270068;
                    float defunc_1_f_res_270072 = defunc_1_f_res_270069 - defunc_0_f_res_269887;
                    float defunc_1_f_res_270073 = defunc_1_f_res_270070 - defunc_0_f_res_269888;
                    float defunc_1_f_res_270074 = defunc_1_f_res_270071 - defunc_0_f_res_269889;
                    float defunc_1_f_res_270075 = defunc_1_f_res_270072 * defunc_1_f_res_270072;
                    float defunc_1_f_res_270076 = defunc_1_f_res_270073 * defunc_1_f_res_270073;
                    float defunc_1_f_res_270077 = defunc_1_f_res_270074 * defunc_1_f_res_270074;
                    float defunc_1_f_res_270078 = defunc_1_f_res_270076 + defunc_1_f_res_270077;
                    float defunc_0_f_res_270079 = defunc_1_f_res_270075 + defunc_1_f_res_270078;
                    
                    min_arg_270065 = defunc_0_f_res_270079;
                } else {
                    min_arg_270065 = INFINITY;
                }
                
                bool cond_270080 = -1.0F <= i_n_269924;
                bool lifted_valid_res_t_res_270081 = i_n_269924 <= 1.0F;
                bool x_270082 = cond_270080 && lifted_valid_res_t_res_270081;
                float min_arg_270083;
                
                if (x_270082 == 1) {
                    float defunc_0_f_res_270084 = z30U_226341 * i_n_269924;
                    float defunc_0_f_res_270085 = z30U_226342 * i_n_269924;
                    float defunc_0_f_res_270086 = z30U_226343 * i_n_269924;
                    float defunc_1_f_res_270087 = defunc_0_f_res_269994 + defunc_0_f_res_270084;
                    float defunc_1_f_res_270088 = defunc_0_f_res_269995 + defunc_0_f_res_270085;
                    float defunc_1_f_res_270089 = defunc_0_f_res_269996 + defunc_0_f_res_270086;
                    float defunc_1_f_res_270090 = defunc_1_f_res_270087 - defunc_0_f_res_269887;
                    float defunc_1_f_res_270091 = defunc_1_f_res_270088 - defunc_0_f_res_269888;
                    float defunc_1_f_res_270092 = defunc_1_f_res_270089 - defunc_0_f_res_269889;
                    float defunc_1_f_res_270093 = defunc_1_f_res_270090 * defunc_1_f_res_270090;
                    float defunc_1_f_res_270094 = defunc_1_f_res_270091 * defunc_1_f_res_270091;
                    float defunc_1_f_res_270095 = defunc_1_f_res_270092 * defunc_1_f_res_270092;
                    float defunc_1_f_res_270096 = defunc_1_f_res_270094 + defunc_1_f_res_270095;
                    float defunc_0_f_res_270097 = defunc_1_f_res_270093 + defunc_1_f_res_270096;
                    
                    min_arg_270083 = defunc_0_f_res_270097;
                } else {
                    min_arg_270083 = INFINITY;
                }
                
                bool cond_270098 = -1.0F <= i_p_269922;
                bool lifted_valid_res_t_res_270099 = i_p_269922 <= 1.0F;
                bool x_270100 = cond_270098 && lifted_valid_res_t_res_270099;
                float min_arg_270101;
                
                if (x_270100 == 1) {
                    float defunc_0_f_res_270102 = z30U_226341 * i_p_269922;
                    float defunc_0_f_res_270103 = z30U_226342 * i_p_269922;
                    float defunc_0_f_res_270104 = z30U_226343 * i_p_269922;
                    float defunc_1_f_res_270105 = defunc_1_f_res_269884 + defunc_0_f_res_270102;
                    float defunc_1_f_res_270106 = defunc_1_f_res_269885 + defunc_0_f_res_270103;
                    float defunc_1_f_res_270107 = defunc_1_f_res_269886 + defunc_0_f_res_270104;
                    float defunc_1_f_res_270108 = defunc_1_f_res_270105 - defunc_0_f_res_269887;
                    float defunc_1_f_res_270109 = defunc_1_f_res_270106 - defunc_0_f_res_269888;
                    float defunc_1_f_res_270110 = defunc_1_f_res_270107 - defunc_0_f_res_269889;
                    float defunc_1_f_res_270111 = defunc_1_f_res_270108 * defunc_1_f_res_270108;
                    float defunc_1_f_res_270112 = defunc_1_f_res_270109 * defunc_1_f_res_270109;
                    float defunc_1_f_res_270113 = defunc_1_f_res_270110 * defunc_1_f_res_270110;
                    float defunc_1_f_res_270114 = defunc_1_f_res_270112 + defunc_1_f_res_270113;
                    float defunc_0_f_res_270115 = defunc_1_f_res_270111 + defunc_1_f_res_270114;
                    
                    min_arg_270101 = defunc_0_f_res_270115;
                } else {
                    min_arg_270101 = INFINITY;
                }
                
                float min_res_270116 = fmin32(min_arg_270083, min_arg_270101);
                float min_res_270117 = fmin32(min_arg_270065, min_res_270116);
                float min_res_270118 = fmin32(min_arg_270047, min_res_270117);
                float min_res_270119 = fmin32(defunc_0_f_res_270043, min_res_270118);
                float min_res_270120 = fmin32(defunc_0_f_res_270032, min_res_270119);
                float min_res_270121 = fmin32(defunc_0_f_res_270021, min_res_270120);
                float min_res_270122 = fmin32(defunc_0_f_res_270010, min_res_270121);
                float binop_y_270123 = fpow32(min_res_270122, 0.5F);
                float binop_y_270124 = 2.0F * binop_y_270123;
                float binop_y_270125 = 1.0F / binop_y_270124;
                float contrib_270126 = binop_x_adj_258363 * binop_y_270125;
                bool convop_x_270127 = defunc_0_f_res_270010 <= min_res_270121;
                int32_t convop_x_270128 = btoi_bool_i32(convop_x_270127);
                float binop_y_270129 = sitofp_i32_f32(convop_x_270128);
                float binop_x_adj_270130 = contrib_270126 * binop_y_270129;
                bool convop_x_270131 = min_res_270121 < defunc_0_f_res_270010;
                int32_t convop_x_270132 = btoi_bool_i32(convop_x_270131);
                float binop_y_270133 = sitofp_i32_f32(convop_x_270132);
                float binop_y_adj_270134 = contrib_270126 * binop_y_270133;
                bool convop_x_270135 = defunc_0_f_res_270021 <= min_res_270120;
                int32_t convop_x_270136 = btoi_bool_i32(convop_x_270135);
                float binop_y_270137 = sitofp_i32_f32(convop_x_270136);
                float binop_x_adj_270138 = binop_y_adj_270134 * binop_y_270137;
                bool convop_x_270139 = min_res_270120 < defunc_0_f_res_270021;
                int32_t convop_x_270140 = btoi_bool_i32(convop_x_270139);
                float binop_y_270141 = sitofp_i32_f32(convop_x_270140);
                float binop_y_adj_270142 = binop_y_adj_270134 * binop_y_270141;
                bool convop_x_270143 = defunc_0_f_res_270032 <= min_res_270119;
                int32_t convop_x_270144 = btoi_bool_i32(convop_x_270143);
                float binop_y_270145 = sitofp_i32_f32(convop_x_270144);
                float binop_x_adj_270146 = binop_y_adj_270142 * binop_y_270145;
                bool convop_x_270147 = min_res_270119 < defunc_0_f_res_270032;
                int32_t convop_x_270148 = btoi_bool_i32(convop_x_270147);
                float binop_y_270149 = sitofp_i32_f32(convop_x_270148);
                float binop_y_adj_270150 = binop_y_adj_270142 * binop_y_270149;
                bool convop_x_270151 = defunc_0_f_res_270043 <= min_res_270118;
                int32_t convop_x_270152 = btoi_bool_i32(convop_x_270151);
                float binop_y_270153 = sitofp_i32_f32(convop_x_270152);
                float binop_x_adj_270154 = binop_y_adj_270150 * binop_y_270153;
                bool convop_x_270155 = min_res_270118 < defunc_0_f_res_270043;
                int32_t convop_x_270156 = btoi_bool_i32(convop_x_270155);
                float binop_y_270157 = sitofp_i32_f32(convop_x_270156);
                float binop_y_adj_270158 = binop_y_adj_270150 * binop_y_270157;
                bool convop_x_270159 = min_arg_270047 <= min_res_270117;
                int32_t convop_x_270160 = btoi_bool_i32(convop_x_270159);
                float binop_y_270161 = sitofp_i32_f32(convop_x_270160);
                float binop_x_adj_270162 = binop_y_adj_270158 * binop_y_270161;
                bool convop_x_270163 = min_res_270117 < min_arg_270047;
                int32_t convop_x_270164 = btoi_bool_i32(convop_x_270163);
                float binop_y_270165 = sitofp_i32_f32(convop_x_270164);
                float binop_y_adj_270166 = binop_y_adj_270158 * binop_y_270165;
                bool convop_x_270167 = min_arg_270065 <= min_res_270116;
                int32_t convop_x_270168 = btoi_bool_i32(convop_x_270167);
                float binop_y_270169 = sitofp_i32_f32(convop_x_270168);
                float binop_x_adj_270170 = binop_y_adj_270166 * binop_y_270169;
                bool convop_x_270171 = min_res_270116 < min_arg_270065;
                int32_t convop_x_270172 = btoi_bool_i32(convop_x_270171);
                float binop_y_270173 = sitofp_i32_f32(convop_x_270172);
                float binop_y_adj_270174 = binop_y_adj_270166 * binop_y_270173;
                bool convop_x_270175 = min_arg_270083 <= min_arg_270101;
                int32_t convop_x_270176 = btoi_bool_i32(convop_x_270175);
                float binop_y_270177 = sitofp_i32_f32(convop_x_270176);
                float binop_x_adj_270178 = binop_y_adj_270174 * binop_y_270177;
                bool convop_x_270179 = min_arg_270101 < min_arg_270083;
                int32_t convop_x_270180 = btoi_bool_i32(convop_x_270179);
                float binop_y_270181 = sitofp_i32_f32(convop_x_270180);
                float binop_y_adj_270182 = binop_y_adj_270174 * binop_y_270181;
                float branch_adj_270183;
                float branch_adj_270184;
                float branch_adj_270185;
                float branch_adj_270186;
                float branch_adj_270187;
                float branch_adj_270188;
                float branch_adj_270189;
                
                if (x_270100 == 1) {
                    float defunc_0_f_res_270190 = z30U_226341 * i_p_269922;
                    float defunc_0_f_res_270191 = z30U_226342 * i_p_269922;
                    float defunc_0_f_res_270192 = z30U_226343 * i_p_269922;
                    float defunc_1_f_res_270193 = defunc_1_f_res_269884 + defunc_0_f_res_270190;
                    float defunc_1_f_res_270194 = defunc_1_f_res_269885 + defunc_0_f_res_270191;
                    float defunc_1_f_res_270195 = defunc_1_f_res_269886 + defunc_0_f_res_270192;
                    float defunc_1_f_res_270196 = defunc_1_f_res_270193 - defunc_0_f_res_269887;
                    float defunc_1_f_res_270197 = defunc_1_f_res_270194 - defunc_0_f_res_269888;
                    float defunc_1_f_res_270198 = defunc_1_f_res_270195 - defunc_0_f_res_269889;
                    float binop_x_adj_270199 = binop_y_adj_270182 * defunc_1_f_res_270198;
                    float defunc_1_f_res_adj_270200 = binop_x_adj_270199 + binop_x_adj_270199;
                    float binop_x_adj_270201 = binop_y_adj_270182 * defunc_1_f_res_270197;
                    float defunc_1_f_res_adj_270202 = binop_x_adj_270201 + binop_x_adj_270201;
                    float binop_x_adj_270203 = binop_y_adj_270182 * defunc_1_f_res_270196;
                    float defunc_1_f_res_adj_270204 = binop_x_adj_270203 + binop_x_adj_270203;
                    float binop_y_adj_270205 = -1.0F * defunc_1_f_res_adj_270200;
                    float binop_y_adj_270206 = -1.0F * defunc_1_f_res_adj_270202;
                    float binop_y_adj_270207 = -1.0F * defunc_1_f_res_adj_270204;
                    float binop_y_adj_270208 = z30U_226343 * defunc_1_f_res_adj_270200;
                    float binop_y_adj_270209 = z30U_226342 * defunc_1_f_res_adj_270202;
                    float i_p_adj_270210 = binop_y_adj_270208 + binop_y_adj_270209;
                    float binop_y_adj_270211 = z30U_226341 * defunc_1_f_res_adj_270204;
                    float i_p_adj_270212 = i_p_adj_270210 + binop_y_adj_270211;
                    
                    branch_adj_270183 = defunc_1_f_res_adj_270204;
                    branch_adj_270184 = defunc_1_f_res_adj_270202;
                    branch_adj_270185 = defunc_1_f_res_adj_270200;
                    branch_adj_270186 = binop_y_adj_270207;
                    branch_adj_270187 = binop_y_adj_270206;
                    branch_adj_270188 = binop_y_adj_270205;
                    branch_adj_270189 = i_p_adj_270212;
                } else {
                    branch_adj_270183 = 0.0F;
                    branch_adj_270184 = 0.0F;
                    branch_adj_270185 = 0.0F;
                    branch_adj_270186 = 0.0F;
                    branch_adj_270187 = 0.0F;
                    branch_adj_270188 = 0.0F;
                    branch_adj_270189 = 0.0F;
                }
                
                float branch_adj_270213;
                float branch_adj_270214;
                float branch_adj_270215;
                float branch_adj_270216;
                float branch_adj_270217;
                float branch_adj_270218;
                float branch_adj_270219;
                
                if (x_270082 == 1) {
                    float defunc_0_f_res_270220 = z30U_226341 * i_n_269924;
                    float defunc_0_f_res_270221 = z30U_226342 * i_n_269924;
                    float defunc_0_f_res_270222 = z30U_226343 * i_n_269924;
                    float defunc_1_f_res_270223 = defunc_0_f_res_269994 + defunc_0_f_res_270220;
                    float defunc_1_f_res_270224 = defunc_0_f_res_269995 + defunc_0_f_res_270221;
                    float defunc_1_f_res_270225 = defunc_0_f_res_269996 + defunc_0_f_res_270222;
                    float defunc_1_f_res_270226 = defunc_1_f_res_270223 - defunc_0_f_res_269887;
                    float defunc_1_f_res_270227 = defunc_1_f_res_270224 - defunc_0_f_res_269888;
                    float defunc_1_f_res_270228 = defunc_1_f_res_270225 - defunc_0_f_res_269889;
                    float binop_x_adj_270229 = binop_x_adj_270178 * defunc_1_f_res_270228;
                    float defunc_1_f_res_adj_270230 = binop_x_adj_270229 + binop_x_adj_270229;
                    float binop_x_adj_270231 = binop_x_adj_270178 * defunc_1_f_res_270227;
                    float defunc_1_f_res_adj_270232 = binop_x_adj_270231 + binop_x_adj_270231;
                    float binop_x_adj_270233 = binop_x_adj_270178 * defunc_1_f_res_270226;
                    float defunc_1_f_res_adj_270234 = binop_x_adj_270233 + binop_x_adj_270233;
                    float binop_y_adj_270235 = -1.0F * defunc_1_f_res_adj_270230;
                    float defunc_0_f_res_adj_270236 = branch_adj_270188 + binop_y_adj_270235;
                    float binop_y_adj_270237 = -1.0F * defunc_1_f_res_adj_270232;
                    float defunc_0_f_res_adj_270238 = branch_adj_270187 + binop_y_adj_270237;
                    float binop_y_adj_270239 = -1.0F * defunc_1_f_res_adj_270234;
                    float defunc_0_f_res_adj_270240 = branch_adj_270186 + binop_y_adj_270239;
                    float binop_y_adj_270241 = z30U_226343 * defunc_1_f_res_adj_270230;
                    float binop_y_adj_270242 = z30U_226342 * defunc_1_f_res_adj_270232;
                    float i_n_adj_270243 = binop_y_adj_270241 + binop_y_adj_270242;
                    float binop_y_adj_270244 = z30U_226341 * defunc_1_f_res_adj_270234;
                    float i_n_adj_270245 = i_n_adj_270243 + binop_y_adj_270244;
                    
                    branch_adj_270213 = defunc_0_f_res_adj_270240;
                    branch_adj_270214 = defunc_0_f_res_adj_270238;
                    branch_adj_270215 = defunc_0_f_res_adj_270236;
                    branch_adj_270216 = i_n_adj_270245;
                    branch_adj_270217 = defunc_1_f_res_adj_270234;
                    branch_adj_270218 = defunc_1_f_res_adj_270232;
                    branch_adj_270219 = defunc_1_f_res_adj_270230;
                } else {
                    branch_adj_270213 = branch_adj_270186;
                    branch_adj_270214 = branch_adj_270187;
                    branch_adj_270215 = branch_adj_270188;
                    branch_adj_270216 = 0.0F;
                    branch_adj_270217 = 0.0F;
                    branch_adj_270218 = 0.0F;
                    branch_adj_270219 = 0.0F;
                }
                
                float branch_adj_270246;
                float branch_adj_270247;
                float branch_adj_270248;
                float branch_adj_270249;
                float branch_adj_270250;
                float branch_adj_270251;
                float branch_adj_270252;
                
                if (x_270064 == 1) {
                    float defunc_0_f_res_270253 = defunc_1_f_res_269884 * j_p_269926;
                    float defunc_0_f_res_270254 = defunc_1_f_res_269885 * j_p_269926;
                    float defunc_0_f_res_270255 = defunc_1_f_res_269886 * j_p_269926;
                    float defunc_1_f_res_270256 = z30U_226341 + defunc_0_f_res_270253;
                    float defunc_1_f_res_270257 = z30U_226342 + defunc_0_f_res_270254;
                    float defunc_1_f_res_270258 = z30U_226343 + defunc_0_f_res_270255;
                    float defunc_1_f_res_270259 = defunc_1_f_res_270256 - defunc_0_f_res_269887;
                    float defunc_1_f_res_270260 = defunc_1_f_res_270257 - defunc_0_f_res_269888;
                    float defunc_1_f_res_270261 = defunc_1_f_res_270258 - defunc_0_f_res_269889;
                    float binop_x_adj_270262 = binop_x_adj_270170 * defunc_1_f_res_270261;
                    float defunc_1_f_res_adj_270263 = binop_x_adj_270262 + binop_x_adj_270262;
                    float binop_x_adj_270264 = binop_x_adj_270170 * defunc_1_f_res_270260;
                    float defunc_1_f_res_adj_270265 = binop_x_adj_270264 + binop_x_adj_270264;
                    float binop_x_adj_270266 = binop_x_adj_270170 * defunc_1_f_res_270259;
                    float defunc_1_f_res_adj_270267 = binop_x_adj_270266 + binop_x_adj_270266;
                    float binop_y_adj_270268 = -1.0F * defunc_1_f_res_adj_270263;
                    float defunc_0_f_res_adj_270269 = branch_adj_270215 + binop_y_adj_270268;
                    float binop_y_adj_270270 = -1.0F * defunc_1_f_res_adj_270265;
                    float defunc_0_f_res_adj_270271 = branch_adj_270214 + binop_y_adj_270270;
                    float binop_y_adj_270272 = -1.0F * defunc_1_f_res_adj_270267;
                    float defunc_0_f_res_adj_270273 = branch_adj_270213 + binop_y_adj_270272;
                    float binop_x_adj_270274 = j_p_269926 * defunc_1_f_res_adj_270263;
                    float binop_y_adj_270275 = defunc_1_f_res_269886 * defunc_1_f_res_adj_270263;
                    float defunc_1_f_res_adj_270276 = branch_adj_270185 + binop_x_adj_270274;
                    float binop_x_adj_270277 = j_p_269926 * defunc_1_f_res_adj_270265;
                    float binop_y_adj_270278 = defunc_1_f_res_269885 * defunc_1_f_res_adj_270265;
                    float defunc_1_f_res_adj_270279 = branch_adj_270184 + binop_x_adj_270277;
                    float j_p_adj_270280 = binop_y_adj_270275 + binop_y_adj_270278;
                    float binop_x_adj_270281 = j_p_269926 * defunc_1_f_res_adj_270267;
                    float binop_y_adj_270282 = defunc_1_f_res_269884 * defunc_1_f_res_adj_270267;
                    float defunc_1_f_res_adj_270283 = branch_adj_270183 + binop_x_adj_270281;
                    float j_p_adj_270284 = j_p_adj_270280 + binop_y_adj_270282;
                    
                    branch_adj_270246 = defunc_1_f_res_adj_270283;
                    branch_adj_270247 = defunc_1_f_res_adj_270279;
                    branch_adj_270248 = defunc_1_f_res_adj_270276;
                    branch_adj_270249 = defunc_0_f_res_adj_270273;
                    branch_adj_270250 = defunc_0_f_res_adj_270271;
                    branch_adj_270251 = defunc_0_f_res_adj_270269;
                    branch_adj_270252 = j_p_adj_270284;
                } else {
                    branch_adj_270246 = branch_adj_270183;
                    branch_adj_270247 = branch_adj_270184;
                    branch_adj_270248 = branch_adj_270185;
                    branch_adj_270249 = branch_adj_270213;
                    branch_adj_270250 = branch_adj_270214;
                    branch_adj_270251 = branch_adj_270215;
                    branch_adj_270252 = 0.0F;
                }
                
                float branch_adj_270285;
                float branch_adj_270286;
                float branch_adj_270287;
                float branch_adj_270288;
                float branch_adj_270289;
                float branch_adj_270290;
                float branch_adj_270291;
                
                if (x_270046 == 1) {
                    float defunc_0_f_res_270292 = defunc_1_f_res_269884 * j_n_269928;
                    float defunc_0_f_res_270293 = defunc_1_f_res_269885 * j_n_269928;
                    float defunc_0_f_res_270294 = defunc_1_f_res_269886 * j_n_269928;
                    float defunc_1_f_res_270295 = defunc_0_f_res_269997 + defunc_0_f_res_270292;
                    float defunc_1_f_res_270296 = defunc_0_f_res_269998 + defunc_0_f_res_270293;
                    float defunc_1_f_res_270297 = defunc_0_f_res_269999 + defunc_0_f_res_270294;
                    float defunc_1_f_res_270298 = defunc_1_f_res_270295 - defunc_0_f_res_269887;
                    float defunc_1_f_res_270299 = defunc_1_f_res_270296 - defunc_0_f_res_269888;
                    float defunc_1_f_res_270300 = defunc_1_f_res_270297 - defunc_0_f_res_269889;
                    float binop_x_adj_270301 = binop_x_adj_270162 * defunc_1_f_res_270300;
                    float defunc_1_f_res_adj_270302 = binop_x_adj_270301 + binop_x_adj_270301;
                    float binop_x_adj_270303 = binop_x_adj_270162 * defunc_1_f_res_270299;
                    float defunc_1_f_res_adj_270304 = binop_x_adj_270303 + binop_x_adj_270303;
                    float binop_x_adj_270305 = binop_x_adj_270162 * defunc_1_f_res_270298;
                    float defunc_1_f_res_adj_270306 = binop_x_adj_270305 + binop_x_adj_270305;
                    float binop_y_adj_270307 = -1.0F * defunc_1_f_res_adj_270302;
                    float defunc_0_f_res_adj_270308 = branch_adj_270251 + binop_y_adj_270307;
                    float binop_y_adj_270309 = -1.0F * defunc_1_f_res_adj_270304;
                    float defunc_0_f_res_adj_270310 = branch_adj_270250 + binop_y_adj_270309;
                    float binop_y_adj_270311 = -1.0F * defunc_1_f_res_adj_270306;
                    float defunc_0_f_res_adj_270312 = branch_adj_270249 + binop_y_adj_270311;
                    float binop_x_adj_270313 = j_n_269928 * defunc_1_f_res_adj_270302;
                    float binop_y_adj_270314 = defunc_1_f_res_269886 * defunc_1_f_res_adj_270302;
                    float defunc_1_f_res_adj_270315 = branch_adj_270248 + binop_x_adj_270313;
                    float binop_x_adj_270316 = j_n_269928 * defunc_1_f_res_adj_270304;
                    float binop_y_adj_270317 = defunc_1_f_res_269885 * defunc_1_f_res_adj_270304;
                    float defunc_1_f_res_adj_270318 = branch_adj_270247 + binop_x_adj_270316;
                    float j_n_adj_270319 = binop_y_adj_270314 + binop_y_adj_270317;
                    float binop_x_adj_270320 = j_n_269928 * defunc_1_f_res_adj_270306;
                    float binop_y_adj_270321 = defunc_1_f_res_269884 * defunc_1_f_res_adj_270306;
                    float defunc_1_f_res_adj_270322 = branch_adj_270246 + binop_x_adj_270320;
                    float j_n_adj_270323 = j_n_adj_270319 + binop_y_adj_270321;
                    
                    branch_adj_270285 = defunc_1_f_res_adj_270322;
                    branch_adj_270286 = defunc_1_f_res_adj_270318;
                    branch_adj_270287 = defunc_1_f_res_adj_270315;
                    branch_adj_270288 = defunc_0_f_res_adj_270312;
                    branch_adj_270289 = defunc_0_f_res_adj_270310;
                    branch_adj_270290 = defunc_0_f_res_adj_270308;
                    branch_adj_270291 = j_n_adj_270323;
                } else {
                    branch_adj_270285 = branch_adj_270246;
                    branch_adj_270286 = branch_adj_270247;
                    branch_adj_270287 = branch_adj_270248;
                    branch_adj_270288 = branch_adj_270249;
                    branch_adj_270289 = branch_adj_270250;
                    branch_adj_270290 = branch_adj_270251;
                    branch_adj_270291 = 0.0F;
                }
                
                float binop_x_adj_270324 = defunc_1_f_res_270038 * binop_x_adj_270154;
                float defunc_1_f_res_adj_270325 = binop_x_adj_270324 + binop_x_adj_270324;
                float binop_x_adj_270326 = defunc_1_f_res_270037 * binop_x_adj_270154;
                float defunc_1_f_res_adj_270327 = binop_x_adj_270326 + binop_x_adj_270326;
                float binop_x_adj_270328 = defunc_1_f_res_270036 * binop_x_adj_270154;
                float defunc_1_f_res_adj_270329 = binop_x_adj_270328 + binop_x_adj_270328;
                float binop_y_adj_270330 = -1.0F * defunc_1_f_res_adj_270325;
                float defunc_0_f_res_adj_270331 = branch_adj_270290 + binop_y_adj_270330;
                float binop_y_adj_270332 = -1.0F * defunc_1_f_res_adj_270327;
                float defunc_0_f_res_adj_270333 = branch_adj_270289 + binop_y_adj_270332;
                float binop_y_adj_270334 = -1.0F * defunc_1_f_res_adj_270329;
                float defunc_0_f_res_adj_270335 = branch_adj_270288 + binop_y_adj_270334;
                float defunc_1_f_res_adj_270336 = branch_adj_270287 + defunc_1_f_res_adj_270325;
                float defunc_1_f_res_adj_270337 = branch_adj_270286 + defunc_1_f_res_adj_270327;
                float defunc_1_f_res_adj_270338 = branch_adj_270285 + defunc_1_f_res_adj_270329;
                float binop_x_adj_270339 = defunc_1_f_res_270027 * binop_x_adj_270146;
                float defunc_1_f_res_adj_270340 = binop_x_adj_270339 + binop_x_adj_270339;
                float binop_x_adj_270341 = defunc_1_f_res_270026 * binop_x_adj_270146;
                float defunc_1_f_res_adj_270342 = binop_x_adj_270341 + binop_x_adj_270341;
                float binop_x_adj_270343 = defunc_1_f_res_270025 * binop_x_adj_270146;
                float defunc_1_f_res_adj_270344 = binop_x_adj_270343 + binop_x_adj_270343;
                float binop_y_adj_270345 = -1.0F * defunc_1_f_res_adj_270340;
                float defunc_0_f_res_adj_270346 = defunc_0_f_res_adj_270331 + binop_y_adj_270345;
                float binop_y_adj_270347 = -1.0F * defunc_1_f_res_adj_270342;
                float defunc_0_f_res_adj_270348 = defunc_0_f_res_adj_270333 + binop_y_adj_270347;
                float binop_y_adj_270349 = -1.0F * defunc_1_f_res_adj_270344;
                float defunc_0_f_res_adj_270350 = defunc_0_f_res_adj_270335 + binop_y_adj_270349;
                float defunc_0_f_res_adj_270351 = branch_adj_270219 + defunc_1_f_res_adj_270340;
                float defunc_0_f_res_adj_270352 = branch_adj_270218 + defunc_1_f_res_adj_270342;
                float defunc_0_f_res_adj_270353 = branch_adj_270217 + defunc_1_f_res_adj_270344;
                float binop_x_adj_270354 = defunc_1_f_res_270016 * binop_x_adj_270138;
                float defunc_1_f_res_adj_270355 = binop_x_adj_270354 + binop_x_adj_270354;
                float binop_x_adj_270356 = defunc_1_f_res_270015 * binop_x_adj_270138;
                float defunc_1_f_res_adj_270357 = binop_x_adj_270356 + binop_x_adj_270356;
                float binop_x_adj_270358 = defunc_1_f_res_270014 * binop_x_adj_270138;
                float defunc_1_f_res_adj_270359 = binop_x_adj_270358 + binop_x_adj_270358;
                float binop_y_adj_270360 = -1.0F * defunc_1_f_res_adj_270355;
                float defunc_0_f_res_adj_270361 = defunc_0_f_res_adj_270346 + binop_y_adj_270360;
                float binop_y_adj_270362 = -1.0F * defunc_1_f_res_adj_270357;
                float defunc_0_f_res_adj_270363 = defunc_0_f_res_adj_270348 + binop_y_adj_270362;
                float binop_y_adj_270364 = -1.0F * defunc_1_f_res_adj_270359;
                float defunc_0_f_res_adj_270365 = defunc_0_f_res_adj_270350 + binop_y_adj_270364;
                float defunc_1_f_res_adj_270366 = defunc_1_f_res_adj_270336 + defunc_1_f_res_adj_270355;
                float defunc_1_f_res_adj_270367 = defunc_1_f_res_adj_270337 + defunc_1_f_res_adj_270357;
                float defunc_1_f_res_adj_270368 = defunc_1_f_res_adj_270338 + defunc_1_f_res_adj_270359;
                float binop_x_adj_270369 = defunc_1_f_res_270005 * binop_x_adj_270130;
                float defunc_1_f_res_adj_270370 = binop_x_adj_270369 + binop_x_adj_270369;
                float binop_x_adj_270371 = defunc_1_f_res_270004 * binop_x_adj_270130;
                float defunc_1_f_res_adj_270372 = binop_x_adj_270371 + binop_x_adj_270371;
                float binop_x_adj_270373 = defunc_1_f_res_270003 * binop_x_adj_270130;
                float defunc_1_f_res_adj_270374 = binop_x_adj_270373 + binop_x_adj_270373;
                float binop_y_adj_270375 = -1.0F * defunc_1_f_res_adj_270370;
                float defunc_0_f_res_adj_270376 = defunc_0_f_res_adj_270361 + binop_y_adj_270375;
                float binop_y_adj_270377 = -1.0F * defunc_1_f_res_adj_270372;
                float defunc_0_f_res_adj_270378 = defunc_0_f_res_adj_270363 + binop_y_adj_270377;
                float binop_y_adj_270379 = -1.0F * defunc_1_f_res_adj_270374;
                float defunc_0_f_res_adj_270380 = defunc_0_f_res_adj_270365 + binop_y_adj_270379;
                float defunc_0_f_res_adj_270381 = defunc_0_f_res_adj_270351 + defunc_1_f_res_adj_270370;
                float defunc_0_f_res_adj_270382 = defunc_0_f_res_adj_270352 + defunc_1_f_res_adj_270372;
                float defunc_0_f_res_adj_270383 = defunc_0_f_res_adj_270353 + defunc_1_f_res_adj_270374;
                float binop_y_adj_270384 = -1.0F * defunc_0_f_res_adj_270381;
                float defunc_1_f_res_adj_270385 = defunc_1_f_res_adj_270366 + binop_y_adj_270384;
                float binop_y_adj_270386 = -1.0F * defunc_0_f_res_adj_270382;
                float defunc_1_f_res_adj_270387 = defunc_1_f_res_adj_270367 + binop_y_adj_270386;
                float binop_y_adj_270388 = -1.0F * defunc_0_f_res_adj_270383;
                float defunc_1_f_res_adj_270389 = defunc_1_f_res_adj_270368 + binop_y_adj_270388;
                
                branch_adj_269939 = defunc_1_f_res_adj_270389;
                branch_adj_269940 = defunc_1_f_res_adj_270387;
                branch_adj_269941 = defunc_1_f_res_adj_270385;
                branch_adj_269942 = defunc_0_f_res_adj_270380;
                branch_adj_269943 = defunc_0_f_res_adj_270378;
                branch_adj_269944 = defunc_0_f_res_adj_270376;
                branch_adj_269945 = 0.0F;
                branch_adj_269946 = 0.0F;
                branch_adj_269947 = branch_adj_270189;
                branch_adj_269948 = branch_adj_270216;
                branch_adj_269949 = branch_adj_270252;
                branch_adj_269950 = branch_adj_270291;
            }
            
            float binop_y_270390 = 1.0F / defunc_0_f_res_269904;
            float binop_x_adj_270391 = branch_adj_269950 * binop_y_270390;
            float binop_y_270392 = defunc_0_f_res_269904 * defunc_0_f_res_269904;
            float binop_y_270393 = arg_269927 / binop_y_270392;
            float binop_y_270394 = 0.0F - binop_y_270393;
            float binop_y_adj_270395 = branch_adj_269950 * binop_y_270394;
            float binop_x_adj_270396 = branch_adj_269949 * binop_y_270390;
            float binop_y_270397 = arg_269925 / binop_y_270392;
            float binop_y_270398 = 0.0F - binop_y_270397;
            float binop_y_adj_270399 = branch_adj_269949 * binop_y_270398;
            float defunc_0_f_res_adj_270400 = binop_y_adj_270395 + binop_y_adj_270399;
            float binop_y_adj_270401 = -1.0F * binop_x_adj_270396;
            float defunc_0_f_res_adj_270402 = binop_x_adj_270391 + binop_x_adj_270396;
            float defunc_0_f_res_adj_270403 = binop_x_adj_270391 + binop_y_adj_270401;
            float binop_x_adj_270404 = binop_y_261241 * branch_adj_269948;
            float defunc_0_f_res_adj_270405 = defunc_0_f_res_adj_270403 + binop_x_adj_270404;
            float binop_x_adj_270406 = binop_y_261241 * branch_adj_269947;
            float binop_y_adj_270407 = -1.0F * binop_x_adj_270406;
            float defunc_0_f_res_adj_270408 = binop_x_adj_270404 + binop_x_adj_270406;
            float defunc_0_f_res_adj_270409 = defunc_0_f_res_adj_270405 + binop_y_adj_270407;
            float binop_y_270410 = 1.0F / det_269912;
            float binop_x_adj_270411 = branch_adj_269946 * binop_y_270410;
            float binop_y_270412 = det_269912 * det_269912;
            float binop_y_270413 = arg_269919 / binop_y_270412;
            float binop_y_270414 = 0.0F - binop_y_270413;
            float binop_y_adj_270415 = branch_adj_269946 * binop_y_270414;
            float binop_y_adj_270416 = -1.0F * binop_x_adj_270411;
            float binop_x_adj_270417 = defunc_0_f_res_269899 * binop_y_adj_270416;
            float binop_y_adj_270418 = defunc_0_f_res_269894 * binop_y_adj_270416;
            float defunc_0_f_res_adj_270419 = defunc_0_f_res_adj_270409 + binop_x_adj_270417;
            float defunc_0_f_res_adj_270420 = defunc_0_f_res_adj_270408 + binop_y_adj_270418;
            float binop_y_adj_270421 = defunc_0_f_res_248882 * binop_x_adj_270411;
            float defunc_0_f_res_adj_270422 = defunc_0_f_res_adj_270402 + binop_y_adj_270421;
            float binop_x_adj_270423 = branch_adj_269945 * binop_y_270410;
            float binop_y_270424 = arg_269915 / binop_y_270412;
            float binop_y_270425 = 0.0F - binop_y_270424;
            float binop_y_adj_270426 = branch_adj_269945 * binop_y_270425;
            float det_adj_270427 = binop_y_adj_270415 + binop_y_adj_270426;
            float binop_y_adj_270428 = -1.0F * binop_x_adj_270423;
            float binop_x_adj_270429 = defunc_0_f_res_269909 * binop_y_adj_270428;
            float binop_y_adj_270430 = defunc_0_f_res_269894 * binop_y_adj_270428;
            float defunc_0_f_res_adj_270431 = defunc_0_f_res_adj_270419 + binop_x_adj_270429;
            float defunc_0_f_res_adj_270432 = defunc_0_f_res_adj_270422 + binop_y_adj_270430;
            float binop_x_adj_270433 = defunc_0_f_res_269904 * binop_x_adj_270423;
            float binop_y_adj_270434 = defunc_0_f_res_269899 * binop_x_adj_270423;
            float defunc_0_f_res_adj_270435 = defunc_0_f_res_adj_270420 + binop_x_adj_270433;
            float defunc_0_f_res_adj_270436 = defunc_0_f_res_adj_270400 + binop_y_adj_270434;
            float binop_y_adj_270437 = -1.0F * det_adj_270427;
            float binop_x_adj_270438 = defunc_0_f_res_269894 * binop_y_adj_270437;
            float defunc_0_f_res_adj_270439 = defunc_0_f_res_adj_270431 + binop_x_adj_270438;
            float defunc_0_f_res_adj_270440 = binop_x_adj_270438 + defunc_0_f_res_adj_270439;
            float binop_y_adj_270441 = defunc_0_f_res_248882 * det_adj_270427;
            float defunc_0_f_res_adj_270442 = defunc_0_f_res_adj_270436 + binop_y_adj_270441;
            float binop_x_adj_270443 = defunc_0_f_res_269889 * defunc_0_f_res_adj_270432;
            float binop_y_adj_270444 = defunc_1_f_res_269886 * defunc_0_f_res_adj_270432;
            float defunc_1_f_res_adj_270445 = branch_adj_269941 + binop_x_adj_270443;
            float defunc_0_f_res_adj_270446 = branch_adj_269944 + binop_y_adj_270444;
            float binop_x_adj_270447 = defunc_0_f_res_269888 * defunc_0_f_res_adj_270432;
            float binop_y_adj_270448 = defunc_1_f_res_269885 * defunc_0_f_res_adj_270432;
            float defunc_1_f_res_adj_270449 = branch_adj_269940 + binop_x_adj_270447;
            float defunc_0_f_res_adj_270450 = branch_adj_269943 + binop_y_adj_270448;
            float binop_x_adj_270451 = defunc_0_f_res_269887 * defunc_0_f_res_adj_270432;
            float binop_y_adj_270452 = defunc_1_f_res_269884 * defunc_0_f_res_adj_270432;
            float defunc_1_f_res_adj_270453 = branch_adj_269939 + binop_x_adj_270451;
            float defunc_0_f_res_adj_270454 = branch_adj_269942 + binop_y_adj_270452;
            float binop_x_adj_270455 = defunc_1_f_res_269886 * defunc_0_f_res_adj_270442;
            float defunc_1_f_res_adj_270456 = defunc_1_f_res_adj_270445 + binop_x_adj_270455;
            float defunc_1_f_res_adj_270457 = binop_x_adj_270455 + defunc_1_f_res_adj_270456;
            float binop_x_adj_270458 = defunc_1_f_res_269885 * defunc_0_f_res_adj_270442;
            float defunc_1_f_res_adj_270459 = defunc_1_f_res_adj_270449 + binop_x_adj_270458;
            float defunc_1_f_res_adj_270460 = binop_x_adj_270458 + defunc_1_f_res_adj_270459;
            float binop_x_adj_270461 = defunc_1_f_res_269884 * defunc_0_f_res_adj_270442;
            float defunc_1_f_res_adj_270462 = defunc_1_f_res_adj_270453 + binop_x_adj_270461;
            float defunc_1_f_res_adj_270463 = binop_x_adj_270461 + defunc_1_f_res_adj_270462;
            float binop_y_adj_270464 = z30U_226343 * defunc_0_f_res_adj_270435;
            float defunc_0_f_res_adj_270465 = defunc_0_f_res_adj_270446 + binop_y_adj_270464;
            float binop_y_adj_270466 = z30U_226342 * defunc_0_f_res_adj_270435;
            float defunc_0_f_res_adj_270467 = defunc_0_f_res_adj_270450 + binop_y_adj_270466;
            float binop_y_adj_270468 = z30U_226341 * defunc_0_f_res_adj_270435;
            float defunc_0_f_res_adj_270469 = defunc_0_f_res_adj_270454 + binop_y_adj_270468;
            float binop_y_adj_270470 = z30U_226343 * defunc_0_f_res_adj_270440;
            float defunc_1_f_res_adj_270471 = defunc_1_f_res_adj_270457 + binop_y_adj_270470;
            float binop_y_adj_270472 = z30U_226342 * defunc_0_f_res_adj_270440;
            float defunc_1_f_res_adj_270473 = defunc_1_f_res_adj_270460 + binop_y_adj_270472;
            float binop_y_adj_270474 = z30U_226341 * defunc_0_f_res_adj_270440;
            float defunc_1_f_res_adj_270475 = defunc_1_f_res_adj_270463 + binop_y_adj_270474;
            float binop_y_adj_270476 = -1.0F * defunc_0_f_res_adj_270465;
            float binop_y_adj_270477 = -1.0F * defunc_0_f_res_adj_270467;
            float binop_y_adj_270478 = -1.0F * defunc_0_f_res_adj_270469;
            float binop_x_adj_270479 = qMult_res_269850 * defunc_1_f_res_adj_270471;
            float binop_y_adj_270480 = defunc_0_f_res_269844 * defunc_1_f_res_adj_270471;
            float binop_x_adj_270481 = qMult_res_269850 * defunc_1_f_res_adj_270473;
            float binop_y_adj_270482 = defunc_0_f_res_269843 * defunc_1_f_res_adj_270473;
            float qMult_res_adj_270483 = binop_y_adj_270480 + binop_y_adj_270482;
            float binop_x_adj_270484 = qMult_res_269850 * defunc_1_f_res_adj_270475;
            float binop_y_adj_270485 = defunc_0_f_res_269842 * defunc_1_f_res_adj_270475;
            float qMult_res_adj_270486 = qMult_res_adj_270483 + binop_y_adj_270485;
            float binop_x_adj_270487 = defunc_1_f_res_269865 * defunc_1_f_res_adj_270471;
            float binop_y_adj_270488 = qMult_res_252385 * defunc_1_f_res_adj_270471;
            float binop_x_adj_270489 = defunc_1_f_res_269864 * defunc_1_f_res_adj_270473;
            float binop_y_adj_270490 = qMult_res_252385 * defunc_1_f_res_adj_270473;
            float x_adj_270491 = binop_x_adj_270487 + binop_x_adj_270489;
            float binop_x_adj_270492 = defunc_1_f_res_269863 * defunc_1_f_res_adj_270475;
            float binop_y_adj_270493 = qMult_res_252385 * defunc_1_f_res_adj_270475;
            float x_adj_270494 = x_adj_270491 + binop_x_adj_270492;
            float binop_y_adj_270495 = -1.0F * defunc_1_f_res_adj_270471;
            float binop_x_adj_270496 = defunc_1_f_res_269864 * binop_y_adj_270495;
            float binop_y_adj_270497 = defunc_0_f_res_269842 * binop_y_adj_270495;
            float defunc_0_f_res_adj_270498 = binop_x_adj_270484 + binop_x_adj_270496;
            float defunc_1_f_res_adj_270499 = binop_y_adj_270490 + binop_y_adj_270497;
            float binop_x_adj_270500 = defunc_1_f_res_269863 * defunc_1_f_res_adj_270471;
            float binop_y_adj_270501 = defunc_0_f_res_269843 * defunc_1_f_res_adj_270471;
            float defunc_0_f_res_adj_270502 = binop_x_adj_270481 + binop_x_adj_270500;
            float defunc_1_f_res_adj_270503 = binop_y_adj_270493 + binop_y_adj_270501;
            float binop_y_adj_270504 = -1.0F * defunc_1_f_res_adj_270473;
            float binop_x_adj_270505 = defunc_1_f_res_269863 * binop_y_adj_270504;
            float binop_y_adj_270506 = defunc_0_f_res_269844 * binop_y_adj_270504;
            float defunc_0_f_res_adj_270507 = binop_x_adj_270479 + binop_x_adj_270505;
            float defunc_1_f_res_adj_270508 = defunc_1_f_res_adj_270503 + binop_y_adj_270506;
            float binop_x_adj_270509 = defunc_1_f_res_269865 * defunc_1_f_res_adj_270473;
            float binop_y_adj_270510 = defunc_0_f_res_269842 * defunc_1_f_res_adj_270473;
            float defunc_0_f_res_adj_270511 = defunc_0_f_res_adj_270498 + binop_x_adj_270509;
            float defunc_1_f_res_adj_270512 = binop_y_adj_270488 + binop_y_adj_270510;
            float binop_y_adj_270513 = -1.0F * defunc_1_f_res_adj_270475;
            float binop_x_adj_270514 = defunc_1_f_res_269865 * binop_y_adj_270513;
            float binop_y_adj_270515 = defunc_0_f_res_269843 * binop_y_adj_270513;
            float defunc_0_f_res_adj_270516 = defunc_0_f_res_adj_270502 + binop_x_adj_270514;
            float defunc_1_f_res_adj_270517 = defunc_1_f_res_adj_270512 + binop_y_adj_270515;
            float binop_x_adj_270518 = defunc_1_f_res_269864 * defunc_1_f_res_adj_270475;
            float binop_y_adj_270519 = defunc_0_f_res_269844 * defunc_1_f_res_adj_270475;
            float defunc_0_f_res_adj_270520 = defunc_0_f_res_adj_270507 + binop_x_adj_270518;
            float defunc_1_f_res_adj_270521 = defunc_1_f_res_adj_270499 + binop_y_adj_270519;
            float binop_x_adj_270522 = z30U_226346 * defunc_1_f_res_adj_270517;
            float x_adj_270523 = x_adj_270494 + binop_x_adj_270522;
            float binop_x_adj_270524 = z30U_226345 * defunc_1_f_res_adj_270521;
            float x_adj_270525 = x_adj_270523 + binop_x_adj_270524;
            float binop_x_adj_270526 = z30U_226344 * defunc_1_f_res_adj_270508;
            float x_adj_270527 = x_adj_270525 + binop_x_adj_270526;
            float binop_y_adj_270528 = -1.0F * defunc_1_f_res_adj_270517;
            float binop_x_adj_270529 = z30U_226344 * binop_y_adj_270528;
            float binop_x_adj_270530 = z30U_226345 * defunc_1_f_res_adj_270517;
            float binop_y_adj_270531 = -1.0F * defunc_1_f_res_adj_270521;
            float binop_x_adj_270532 = z30U_226346 * binop_y_adj_270531;
            float x_adj_270533 = binop_x_adj_270530 + binop_x_adj_270532;
            float binop_x_adj_270534 = z30U_226344 * defunc_1_f_res_adj_270521;
            float binop_y_adj_270535 = -1.0F * defunc_1_f_res_adj_270508;
            float binop_x_adj_270536 = z30U_226345 * binop_y_adj_270535;
            float x_adj_270537 = binop_x_adj_270534 + binop_x_adj_270536;
            float binop_x_adj_270538 = z30U_226346 * defunc_1_f_res_adj_270508;
            float x_adj_270539 = binop_x_adj_270529 + binop_x_adj_270538;
            float binop_y_adj_270540 = -1.0F * qMult_res_adj_270486;
            float binop_x_adj_270541 = z30U_226346 * binop_y_adj_270540;
            float x_adj_270542 = x_adj_270537 + binop_x_adj_270541;
            float binop_x_adj_270543 = z30U_226345 * binop_y_adj_270540;
            float x_adj_270544 = x_adj_270539 + binop_x_adj_270543;
            float binop_x_adj_270545 = z30U_226344 * binop_y_adj_270540;
            float x_adj_270546 = x_adj_270533 + binop_x_adj_270545;
            float binop_y_adj_270547 = -1.0F * defunc_0_f_res_adj_270520;
            float x_adj_270548 = x_adj_270542 + binop_y_adj_270547;
            float binop_y_adj_270549 = -1.0F * defunc_0_f_res_adj_270516;
            float x_adj_270550 = x_adj_270544 + binop_y_adj_270549;
            float binop_y_adj_270551 = -1.0F * defunc_0_f_res_adj_270511;
            float x_adj_270552 = x_adj_270546 + binop_y_adj_270551;
            
            branch_adj_261534 = binop_y_adj_270478;
            branch_adj_261535 = binop_y_adj_270477;
            branch_adj_261536 = binop_y_adj_270476;
            branch_adj_261537 = x_adj_270527;
            branch_adj_261538 = x_adj_270552;
            branch_adj_261539 = x_adj_270550;
            branch_adj_261540 = x_adj_270548;
        } else if (z30U_226340 == (int8_t) 2) {
            float defunc_1_f_res_269615 = defunc_1_f_res_252376 * defunc_1_f_res_252376;
            float defunc_1_f_res_269616 = defunc_1_f_res_252377 * defunc_1_f_res_252377;
            float defunc_1_f_res_269617 = defunc_1_f_res_252378 * defunc_1_f_res_252378;
            float defunc_1_f_res_269618 = defunc_1_f_res_269616 + defunc_1_f_res_269617;
            float defunc_0_f_res_269619 = defunc_1_f_res_269615 + defunc_1_f_res_269618;
            float binop_y_269620 = fpow32(defunc_0_f_res_269619, 0.5F);
            float binop_y_269621 = 2.0F * binop_y_269620;
            float binop_y_269622 = 1.0F / binop_y_269621;
            float contrib_269623 = binop_x_adj_258363 * binop_y_269622;
            float binop_x_adj_269624 = defunc_1_f_res_252378 * contrib_269623;
            float x_adj_269625 = binop_x_adj_269624 + binop_x_adj_269624;
            float binop_x_adj_269626 = defunc_1_f_res_252377 * contrib_269623;
            float x_adj_269627 = binop_x_adj_269626 + binop_x_adj_269626;
            float binop_x_adj_269628 = defunc_1_f_res_252376 * contrib_269623;
            float x_adj_269629 = binop_x_adj_269628 + binop_x_adj_269628;
            
            branch_adj_261534 = x_adj_269629;
            branch_adj_261535 = x_adj_269627;
            branch_adj_261536 = x_adj_269625;
            branch_adj_261537 = 0.0F;
            branch_adj_261538 = 0.0F;
            branch_adj_261539 = 0.0F;
            branch_adj_261540 = 0.0F;
        } else {
            branch_adj_261534 = 0.0F;
            branch_adj_261535 = 0.0F;
            branch_adj_261536 = 0.0F;
            branch_adj_261537 = 0.0F;
            branch_adj_261538 = 0.0F;
            branch_adj_261539 = 0.0F;
            branch_adj_261540 = 0.0F;
        }
        for (int64_t i_271100 = 0; i_271100 < dz2081U_226338; i_271100++) {
            float x_263491 = ((float *) mem_272913)[i_271100];
            float defunc_2_reduce_res_270553;
            float redout_271096 = 0.0F;
            
            for (int64_t i_271097 = 0; i_271097 < dz2081U_226338; i_271097++) {
                float x_263496 = ((float *) mem_272936)[i_271097];
                float x_263497 = ((float *) z31U_mem_271602.mem)[i_271097 * dz2081U_226338 + i_271100];
                float defunc_1_f_res_263498 = x_263496 * x_263497;
                float defunc_1_op_res_263495 = defunc_1_f_res_263498 + redout_271096;
                float redout_tmp_273180 = defunc_1_op_res_263495;
                
                redout_271096 = redout_tmp_273180;
            }
            defunc_2_reduce_res_270553 = redout_271096;
            
            float binop_x_263500 = futrts_tanh32(x_263491);
            float binop_y_263501 = binop_x_263500 * binop_x_263500;
            float binop_y_263502 = 1.0F - binop_y_263501;
            float contrib_263503 = binop_y_263502 * defunc_2_reduce_res_270553;
            
            ((float *) mem_272949)[i_271100] = contrib_263503;
        }
        for (int64_t i_271106 = 0; i_271106 < dz2081U_226338; i_271106++) {
            float x_263472 = ((float *) mem_272887)[i_271106];
            float defunc_2_reduce_res_270554;
            float redout_271102 = 0.0F;
            
            for (int64_t i_271103 = 0; i_271103 < dz2081U_226338; i_271103++) {
                float x_263477 = ((float *) mem_272949)[i_271103];
                float x_263478 = ((float *) z31U_mem_271600.mem)[i_271103 * dz2081U_226338 + i_271106];
                float defunc_1_f_res_263479 = x_263477 * x_263478;
                float defunc_1_op_res_263476 = defunc_1_f_res_263479 + redout_271102;
                float redout_tmp_273182 = defunc_1_op_res_263476;
                
                redout_271102 = redout_tmp_273182;
            }
            defunc_2_reduce_res_270554 = redout_271102;
            
            float arg_263481 = 0.0F - x_263472;
            float exp_arg_263482 = x_263472 * arg_263481;
            float binop_y_263483 = futrts_exp32(exp_arg_263482);
            float contrib_263484 = binop_y_263483 * defunc_2_reduce_res_270554;
            float binop_x_adj_263485 = arg_263481 * contrib_263484;
            float binop_y_adj_263486 = x_263472 * contrib_263484;
            float binop_y_adj_263487 = -1.0F * binop_y_adj_263486;
            float x_adj_263488 = binop_x_adj_263485 + binop_y_adj_263487;
            
            ((float *) mem_272962)[i_271106] = x_adj_263488;
        }
        
        float m33fromQuaternion_res_contrib_sum_270568;
        float m33fromQuaternion_res_contrib_sum_270569;
        float m33fromQuaternion_res_contrib_sum_270570;
        float m33fromQuaternion_res_contrib_sum_270571;
        float m33fromQuaternion_res_contrib_sum_270572;
        float m33fromQuaternion_res_contrib_sum_270573;
        float m33fromQuaternion_res_contrib_sum_270574;
        float m33fromQuaternion_res_contrib_sum_270575;
        float m33fromQuaternion_res_contrib_sum_270576;
        float x_contrib_sum_270577;
        float x_contrib_sum_270578;
        float x_contrib_sum_270579;
        float redout_271110;
        float redout_271111;
        float redout_271112;
        float redout_271113;
        float redout_271114;
        float redout_271115;
        float redout_271116;
        float redout_271117;
        float redout_271118;
        float redout_271119;
        float redout_271120;
        float redout_271121;
        
        redout_271110 = 0.0F;
        redout_271111 = 0.0F;
        redout_271112 = 0.0F;
        redout_271113 = 0.0F;
        redout_271114 = 0.0F;
        redout_271115 = 0.0F;
        redout_271116 = 0.0F;
        redout_271117 = 0.0F;
        redout_271118 = 0.0F;
        redout_271119 = 0.0F;
        redout_271120 = 0.0F;
        redout_271121 = 0.0F;
        for (int64_t i_271122 = 0; i_271122 < dz2080U_226337; i_271122++) {
            float x_263376 = ((float *) mem_272835)[i_271122];
            float x_263377 = ((float *) mem_272838)[i_271122];
            float x_263378 = ((float *) mem_272841)[i_271122];
            float x_263379 = ((float *) z31U_mem_271595.mem)[i_271122];
            float x_263380 = ((float *) z31U_mem_271596.mem)[i_271122];
            float x_263381 = ((float *) z31U_mem_271597.mem)[i_271122];
            float defunc_2_reduce_res_270555;
            float redout_271108 = 0.0F;
            
            for (int64_t i_271109 = 0; i_271109 < dz2081U_226338; i_271109++) {
                float x_263386 = ((float *) mem_272962)[i_271109];
                float x_263387 = ((float *) z31U_mem_271598.mem)[i_271109 * dz2080U_226337 + i_271122];
                float defunc_1_f_res_263388 = x_263386 * x_263387;
                float defunc_1_op_res_263385 = defunc_1_f_res_263388 + redout_271108;
                float redout_tmp_273195 = defunc_1_op_res_263385;
                
                redout_271108 = redout_tmp_273195;
            }
            defunc_2_reduce_res_270555 = redout_271108;
            
            float defunc_1_f_res_263390 = x_263376 * x_263376;
            float defunc_1_f_res_263391 = x_263377 * x_263377;
            float defunc_1_f_res_263392 = x_263378 * x_263378;
            float defunc_1_f_res_263393 = defunc_1_f_res_263391 + defunc_1_f_res_263392;
            float defunc_0_f_res_263394 = defunc_1_f_res_263390 + defunc_1_f_res_263393;
            bool cond_263395 = defunc_0_f_res_263394 == 0.0F;
            float branch_adj_263396;
            
            if (cond_263395 == 1) {
                branch_adj_263396 = 0.0F;
            } else {
                float binop_y_263397 = fpow32(defunc_0_f_res_263394, 0.5F);
                float binop_y_263398 = 2.0F * binop_y_263397;
                float binop_y_263399 = 1.0F / binop_y_263398;
                float contrib_263400 = binop_y_263399 * defunc_2_reduce_res_270555;
                
                branch_adj_263396 = contrib_263400;
            }
            
            float binop_x_adj_263401 = x_263378 * branch_adj_263396;
            float x_adj_263402 = binop_x_adj_263401 + binop_x_adj_263401;
            float binop_x_adj_263403 = x_263377 * branch_adj_263396;
            float x_adj_263404 = binop_x_adj_263403 + binop_x_adj_263403;
            float binop_x_adj_263405 = x_263376 * branch_adj_263396;
            float x_adj_263406 = binop_x_adj_263405 + binop_x_adj_263405;
            float binop_y_adj_263410 = x_263381 * x_adj_263402;
            float binop_y_adj_263411 = x_263380 * x_adj_263402;
            float binop_y_adj_263412 = x_263379 * x_adj_263402;
            float binop_y_adj_263413 = x_263381 * x_adj_263404;
            float binop_y_adj_263414 = x_263380 * x_adj_263404;
            float binop_y_adj_263415 = x_263379 * x_adj_263404;
            float binop_y_adj_263416 = x_263381 * x_adj_263406;
            float binop_y_adj_263417 = x_263380 * x_adj_263406;
            float binop_y_adj_263418 = x_263379 * x_adj_263406;
            float binlam_res_261805 = binop_y_adj_263410 + redout_271110;
            float binlam_res_261800 = binop_y_adj_263411 + redout_271111;
            float binlam_res_261795 = binop_y_adj_263412 + redout_271112;
            float binlam_res_261790 = binop_y_adj_263413 + redout_271113;
            float binlam_res_261785 = binop_y_adj_263414 + redout_271114;
            float binlam_res_261780 = binop_y_adj_263415 + redout_271115;
            float binlam_res_261775 = binop_y_adj_263416 + redout_271116;
            float binlam_res_261770 = binop_y_adj_263417 + redout_271117;
            float binlam_res_261765 = binop_y_adj_263418 + redout_271118;
            float binlam_res_261760 = x_adj_263402 + redout_271119;
            float binlam_res_261755 = x_adj_263404 + redout_271120;
            float binlam_res_261750 = x_adj_263406 + redout_271121;
            float redout_tmp_273183 = binlam_res_261805;
            float redout_tmp_273184 = binlam_res_261800;
            float redout_tmp_273185 = binlam_res_261795;
            float redout_tmp_273186 = binlam_res_261790;
            float redout_tmp_273187 = binlam_res_261785;
            float redout_tmp_273188 = binlam_res_261780;
            float redout_tmp_273189 = binlam_res_261775;
            float redout_tmp_273190 = binlam_res_261770;
            float redout_tmp_273191 = binlam_res_261765;
            float redout_tmp_273192 = binlam_res_261760;
            float redout_tmp_273193 = binlam_res_261755;
            float redout_tmp_273194 = binlam_res_261750;
            
            redout_271110 = redout_tmp_273183;
            redout_271111 = redout_tmp_273184;
            redout_271112 = redout_tmp_273185;
            redout_271113 = redout_tmp_273186;
            redout_271114 = redout_tmp_273187;
            redout_271115 = redout_tmp_273188;
            redout_271116 = redout_tmp_273189;
            redout_271117 = redout_tmp_273190;
            redout_271118 = redout_tmp_273191;
            redout_271119 = redout_tmp_273192;
            redout_271120 = redout_tmp_273193;
            redout_271121 = redout_tmp_273194;
        }
        m33fromQuaternion_res_contrib_sum_270568 = redout_271110;
        m33fromQuaternion_res_contrib_sum_270569 = redout_271111;
        m33fromQuaternion_res_contrib_sum_270570 = redout_271112;
        m33fromQuaternion_res_contrib_sum_270571 = redout_271113;
        m33fromQuaternion_res_contrib_sum_270572 = redout_271114;
        m33fromQuaternion_res_contrib_sum_270573 = redout_271115;
        m33fromQuaternion_res_contrib_sum_270574 = redout_271116;
        m33fromQuaternion_res_contrib_sum_270575 = redout_271117;
        m33fromQuaternion_res_contrib_sum_270576 = redout_271118;
        x_contrib_sum_270577 = redout_271119;
        x_contrib_sum_270578 = redout_271120;
        x_contrib_sum_270579 = redout_271121;
        
        float binop_y_adj_261811 = -1.0F * m33fromQuaternion_res_contrib_sum_270568;
        float binop_y_adj_261813 = 2.0F * m33fromQuaternion_res_contrib_sum_270569;
        float binop_y_adj_261817 = 2.0F * m33fromQuaternion_res_contrib_sum_270570;
        float binop_y_adj_261819 = -1.0F * binop_y_adj_261817;
        float binop_y_adj_261821 = 2.0F * m33fromQuaternion_res_contrib_sum_270571;
        float binop_y_adj_261823 = -1.0F * binop_y_adj_261821;
        float cd_adj_261824 = binop_y_adj_261813 + binop_y_adj_261821;
        float ab_adj_261825 = binop_y_adj_261813 + binop_y_adj_261823;
        float binop_y_adj_261827 = -1.0F * m33fromQuaternion_res_contrib_sum_270572;
        float dd_adj_261828 = binop_y_adj_261827 + m33fromQuaternion_res_contrib_sum_270568;
        float cc_adj_261831 = binop_y_adj_261811 + m33fromQuaternion_res_contrib_sum_270572;
        float arg_adj_261832 = m33fromQuaternion_res_contrib_sum_270568 + m33fromQuaternion_res_contrib_sum_270572;
        float binop_y_adj_261834 = -1.0F * arg_adj_261832;
        float binop_y_adj_261836 = 2.0F * m33fromQuaternion_res_contrib_sum_270573;
        float binop_y_adj_261840 = 2.0F * m33fromQuaternion_res_contrib_sum_270574;
        float ac_adj_261843 = binop_y_adj_261819 + binop_y_adj_261840;
        float bd_adj_261844 = binop_y_adj_261817 + binop_y_adj_261840;
        float binop_y_adj_261846 = 2.0F * m33fromQuaternion_res_contrib_sum_270575;
        float binop_y_adj_261848 = -1.0F * binop_y_adj_261846;
        float bc_adj_261849 = binop_y_adj_261836 + binop_y_adj_261846;
        float ad_adj_261850 = binop_y_adj_261836 + binop_y_adj_261848;
        float binop_y_adj_261852 = -1.0F * m33fromQuaternion_res_contrib_sum_270576;
        float dd_adj_261853 = dd_adj_261828 + binop_y_adj_261852;
        float cc_adj_261856 = cc_adj_261831 + binop_y_adj_261852;
        float aa_adj_261859 = arg_adj_261832 + m33fromQuaternion_res_contrib_sum_270576;
        float bb_adj_261860 = binop_y_adj_261834 + m33fromQuaternion_res_contrib_sum_270576;
        float binop_x_adj_261861 = defunc_1_f_res_252406 * dd_adj_261853;
        float x_adj_261863 = binop_x_adj_261861 + binop_x_adj_261861;
        float binop_x_adj_261864 = defunc_1_f_res_252406 * cd_adj_261824;
        float binop_y_adj_261865 = defunc_1_f_res_252405 * cd_adj_261824;
        float x_adj_261866 = x_adj_261863 + binop_y_adj_261865;
        float binop_x_adj_261867 = defunc_1_f_res_252405 * cc_adj_261856;
        float x_adj_261869 = binop_x_adj_261864 + binop_x_adj_261867;
        float x_adj_261870 = binop_x_adj_261867 + x_adj_261869;
        float binop_x_adj_261871 = defunc_1_f_res_252406 * bd_adj_261844;
        float binop_y_adj_261872 = defunc_1_f_res_252404 * bd_adj_261844;
        float x_adj_261873 = x_adj_261866 + binop_y_adj_261872;
        float binop_x_adj_261874 = defunc_1_f_res_252405 * bc_adj_261849;
        float binop_y_adj_261875 = defunc_1_f_res_252404 * bc_adj_261849;
        float x_adj_261876 = binop_x_adj_261871 + binop_x_adj_261874;
        float x_adj_261877 = x_adj_261870 + binop_y_adj_261875;
        float binop_x_adj_261878 = defunc_1_f_res_252404 * bb_adj_261860;
        float x_adj_261880 = x_adj_261876 + binop_x_adj_261878;
        float x_adj_261881 = binop_x_adj_261878 + x_adj_261880;
        float binop_x_adj_261882 = defunc_1_f_res_252406 * ad_adj_261850;
        float binop_y_adj_261883 = qMult_res_252385 * ad_adj_261850;
        float x_adj_261884 = x_adj_261873 + binop_y_adj_261883;
        float binop_x_adj_261885 = defunc_1_f_res_252405 * ac_adj_261843;
        float binop_y_adj_261886 = qMult_res_252385 * ac_adj_261843;
        float x_adj_261887 = binop_x_adj_261882 + binop_x_adj_261885;
        float x_adj_261888 = x_adj_261877 + binop_y_adj_261886;
        float binop_x_adj_261889 = defunc_1_f_res_252404 * ab_adj_261825;
        float binop_y_adj_261890 = qMult_res_252385 * ab_adj_261825;
        float x_adj_261891 = x_adj_261887 + binop_x_adj_261889;
        float x_adj_261892 = x_adj_261881 + binop_y_adj_261890;
        float binop_x_adj_261893 = qMult_res_252385 * aa_adj_261859;
        float x_adj_261895 = x_adj_261891 + binop_x_adj_261893;
        float x_adj_261896 = binop_x_adj_261893 + x_adj_261895;
        float x_adj_261911 = branch_adj_261534 + x_contrib_sum_270579;
        float x_adj_261912 = branch_adj_261535 + x_contrib_sum_270578;
        float x_adj_261913 = branch_adj_261536 + x_contrib_sum_270577;
        float x_adj_261914 = branch_adj_261537 + x_adj_261896;
        float x_adj_261915 = branch_adj_261538 + x_adj_261892;
        float x_adj_261916 = branch_adj_261539 + x_adj_261888;
        float x_adj_261917 = branch_adj_261540 + x_adj_261884;
        float torqueFromGradient_res_249145 = 0.0F - defunc_1_f_res_252404;
        float torqueFromGradient_res_249146 = 0.0F - defunc_1_f_res_252405;
        float torqueFromGradient_res_249147 = 0.0F - defunc_1_f_res_252406;
        float defunc_1_f_res_249151 = torqueFromGradient_res_249145 * x_adj_261914;
        float defunc_1_f_res_249152 = qMult_res_252385 * x_adj_261915;
        float defunc_1_f_res_249153 = torqueFromGradient_res_249147 * x_adj_261916;
        float defunc_1_f_res_249154 = defunc_1_f_res_252405 * x_adj_261917;
        float defunc_1_f_res_249155 = defunc_1_f_res_249153 + defunc_1_f_res_249154;
        float defunc_0_f_res_249156 = defunc_1_f_res_249152 + defunc_1_f_res_249155;
        float defunc_0_f_res_249157 = defunc_1_f_res_249151 + defunc_0_f_res_249156;
        float defunc_1_f_res_249158 = torqueFromGradient_res_249146 * x_adj_261914;
        float defunc_1_f_res_249159 = defunc_1_f_res_252406 * x_adj_261915;
        float defunc_1_f_res_249160 = qMult_res_252385 * x_adj_261916;
        float defunc_1_f_res_249161 = torqueFromGradient_res_249145 * x_adj_261917;
        float defunc_1_f_res_249162 = defunc_1_f_res_249160 + defunc_1_f_res_249161;
        float defunc_0_f_res_249163 = defunc_1_f_res_249159 + defunc_1_f_res_249162;
        float defunc_0_f_res_249164 = defunc_1_f_res_249158 + defunc_0_f_res_249163;
        float defunc_1_f_res_249165 = torqueFromGradient_res_249147 * x_adj_261914;
        float defunc_1_f_res_249166 = torqueFromGradient_res_249146 * x_adj_261915;
        float defunc_1_f_res_249167 = defunc_1_f_res_252404 * x_adj_261916;
        float defunc_1_f_res_249168 = qMult_res_252385 * x_adj_261917;
        float defunc_1_f_res_249169 = defunc_1_f_res_249167 + defunc_1_f_res_249168;
        float defunc_0_f_res_249170 = defunc_1_f_res_249166 + defunc_1_f_res_249169;
        float defunc_0_f_res_249171 = defunc_1_f_res_249165 + defunc_0_f_res_249170;
        float defunc_0_f_res_249172 = -0.5F * defunc_0_f_res_249157;
        float defunc_0_f_res_249173 = -0.5F * defunc_0_f_res_249164;
        float defunc_0_f_res_249174 = -0.5F * defunc_0_f_res_249171;
        float arg_249175 = defunc_1_f_res_252377 * x_adj_261913;
        float arg_249176 = defunc_1_f_res_252378 * x_adj_261912;
        float cross_res_249177 = arg_249175 - arg_249176;
        float arg_249178 = defunc_1_f_res_252378 * x_adj_261911;
        float arg_249179 = defunc_1_f_res_252376 * x_adj_261913;
        float cross_res_249180 = arg_249178 - arg_249179;
        float arg_249181 = defunc_1_f_res_252376 * x_adj_261912;
        float arg_249182 = defunc_1_f_res_252377 * x_adj_261911;
        float cross_res_249183 = arg_249181 - arg_249182;
        float defunc_1_f_res_249184 = cross_res_249177 - defunc_0_f_res_249172;
        float defunc_1_f_res_249185 = cross_res_249180 - defunc_0_f_res_249173;
        float defunc_1_f_res_249186 = cross_res_249183 - defunc_0_f_res_249174;
        float defunc_1_f_res_252430 = defunc_1_f_res_247792 * x_adj_261911;
        float defunc_1_f_res_252431 = defunc_1_f_res_247793 * x_adj_261912;
        float defunc_1_f_res_252432 = defunc_1_f_res_247794 * x_adj_261913;
        float defunc_1_f_res_252433 = defunc_1_f_res_252431 + defunc_1_f_res_252432;
        float defunc_0_f_res_252434 = defunc_1_f_res_252430 + defunc_1_f_res_252433;
        float qMult_res_252435 = 0.0F - defunc_0_f_res_252434;
        float arg_252436 = defunc_1_f_res_247793 * x_adj_261913;
        float arg_252437 = defunc_1_f_res_247794 * x_adj_261912;
        float cross_res_252438 = arg_252436 - arg_252437;
        float arg_252439 = defunc_1_f_res_247794 * x_adj_261911;
        float arg_252440 = defunc_1_f_res_247792 * x_adj_261913;
        float cross_res_252441 = arg_252439 - arg_252440;
        float arg_252442 = defunc_1_f_res_247792 * x_adj_261912;
        float arg_252443 = defunc_1_f_res_247793 * x_adj_261911;
        float cross_res_252444 = arg_252442 - arg_252443;
        float defunc_0_f_res_252445 = defunc_1_f_res_247791 * x_adj_261911;
        float defunc_0_f_res_252446 = defunc_1_f_res_247791 * x_adj_261912;
        float defunc_0_f_res_252447 = defunc_1_f_res_247791 * x_adj_261913;
        float defunc_1_f_res_252448 = cross_res_252438 + defunc_0_f_res_252445;
        float defunc_1_f_res_252449 = cross_res_252441 + defunc_0_f_res_252446;
        float defunc_1_f_res_252450 = cross_res_252444 + defunc_0_f_res_252447;
        float arg_252451 = defunc_0_f_res_252333 * defunc_1_f_res_252449;
        float arg_252452 = defunc_0_f_res_252332 * defunc_1_f_res_252450;
        float cross_res_252453 = arg_252451 - arg_252452;
        float arg_252454 = defunc_0_f_res_252331 * defunc_1_f_res_252450;
        float arg_252455 = defunc_0_f_res_252333 * defunc_1_f_res_252448;
        float cross_res_252456 = arg_252454 - arg_252455;
        float arg_252457 = defunc_0_f_res_252332 * defunc_1_f_res_252448;
        float arg_252458 = defunc_0_f_res_252331 * defunc_1_f_res_252449;
        float cross_res_252459 = arg_252457 - arg_252458;
        float defunc_0_f_res_252460 = defunc_1_f_res_247791 * defunc_1_f_res_252448;
        float defunc_0_f_res_252461 = defunc_1_f_res_247791 * defunc_1_f_res_252449;
        float defunc_0_f_res_252462 = defunc_1_f_res_247791 * defunc_1_f_res_252450;
        float defunc_0_f_res_252463 = defunc_0_f_res_252331 * qMult_res_252435;
        float defunc_0_f_res_252464 = defunc_0_f_res_252332 * qMult_res_252435;
        float defunc_0_f_res_252465 = defunc_0_f_res_252333 * qMult_res_252435;
        float defunc_1_f_res_252466 = defunc_0_f_res_252460 + defunc_0_f_res_252463;
        float defunc_1_f_res_252467 = defunc_0_f_res_252461 + defunc_0_f_res_252464;
        float defunc_1_f_res_252468 = defunc_0_f_res_252462 + defunc_0_f_res_252465;
        float defunc_1_f_res_252469 = cross_res_252453 + defunc_1_f_res_252466;
        float defunc_1_f_res_252470 = cross_res_252456 + defunc_1_f_res_252467;
        float defunc_1_f_res_252471 = cross_res_252459 + defunc_1_f_res_252468;
        float defunc_1_f_res_252475 = defunc_1_f_res_247792 * defunc_1_f_res_249184;
        float defunc_1_f_res_252476 = defunc_1_f_res_247793 * defunc_1_f_res_249185;
        float defunc_1_f_res_252477 = defunc_1_f_res_247794 * defunc_1_f_res_249186;
        float defunc_1_f_res_252478 = defunc_1_f_res_252476 + defunc_1_f_res_252477;
        float defunc_0_f_res_252479 = defunc_1_f_res_252475 + defunc_1_f_res_252478;
        float qMult_res_252480 = 0.0F - defunc_0_f_res_252479;
        float arg_252481 = defunc_1_f_res_247793 * defunc_1_f_res_249186;
        float arg_252482 = defunc_1_f_res_247794 * defunc_1_f_res_249185;
        float cross_res_252483 = arg_252481 - arg_252482;
        float arg_252484 = defunc_1_f_res_247794 * defunc_1_f_res_249184;
        float arg_252485 = defunc_1_f_res_247792 * defunc_1_f_res_249186;
        float cross_res_252486 = arg_252484 - arg_252485;
        float arg_252487 = defunc_1_f_res_247792 * defunc_1_f_res_249185;
        float arg_252488 = defunc_1_f_res_247793 * defunc_1_f_res_249184;
        float cross_res_252489 = arg_252487 - arg_252488;
        float defunc_0_f_res_252490 = defunc_1_f_res_247791 * defunc_1_f_res_249184;
        float defunc_0_f_res_252491 = defunc_1_f_res_247791 * defunc_1_f_res_249185;
        float defunc_0_f_res_252492 = defunc_1_f_res_247791 * defunc_1_f_res_249186;
        float defunc_1_f_res_252493 = cross_res_252483 + defunc_0_f_res_252490;
        float defunc_1_f_res_252494 = cross_res_252486 + defunc_0_f_res_252491;
        float defunc_1_f_res_252495 = cross_res_252489 + defunc_0_f_res_252492;
        float arg_252496 = defunc_0_f_res_252333 * defunc_1_f_res_252494;
        float arg_252497 = defunc_0_f_res_252332 * defunc_1_f_res_252495;
        float cross_res_252498 = arg_252496 - arg_252497;
        float arg_252499 = defunc_0_f_res_252331 * defunc_1_f_res_252495;
        float arg_252500 = defunc_0_f_res_252333 * defunc_1_f_res_252493;
        float cross_res_252501 = arg_252499 - arg_252500;
        float arg_252502 = defunc_0_f_res_252332 * defunc_1_f_res_252493;
        float arg_252503 = defunc_0_f_res_252331 * defunc_1_f_res_252494;
        float cross_res_252504 = arg_252502 - arg_252503;
        float defunc_0_f_res_252505 = defunc_1_f_res_247791 * defunc_1_f_res_252493;
        float defunc_0_f_res_252506 = defunc_1_f_res_247791 * defunc_1_f_res_252494;
        float defunc_0_f_res_252507 = defunc_1_f_res_247791 * defunc_1_f_res_252495;
        float defunc_0_f_res_252508 = defunc_0_f_res_252331 * qMult_res_252480;
        float defunc_0_f_res_252509 = defunc_0_f_res_252332 * qMult_res_252480;
        float defunc_0_f_res_252510 = defunc_0_f_res_252333 * qMult_res_252480;
        float defunc_1_f_res_252511 = defunc_0_f_res_252505 + defunc_0_f_res_252508;
        float defunc_1_f_res_252512 = defunc_0_f_res_252506 + defunc_0_f_res_252509;
        float defunc_1_f_res_252513 = defunc_0_f_res_252507 + defunc_0_f_res_252510;
        float defunc_1_f_res_252514 = cross_res_252498 + defunc_1_f_res_252511;
        float defunc_1_f_res_252515 = cross_res_252501 + defunc_1_f_res_252512;
        float defunc_1_f_res_252516 = cross_res_252504 + defunc_1_f_res_252513;
        float defunc_0_f_res_252517 = 0.0F - defunc_1_f_res_252469;
        float defunc_0_f_res_252518 = 0.0F - defunc_1_f_res_252470;
        float defunc_0_f_res_252519 = 0.0F - defunc_1_f_res_252471;
        float arg_252523 = defunc_1_f_res_252329 * defunc_1_f_res_252471;
        float arg_252524 = defunc_1_f_res_252330 * defunc_1_f_res_252470;
        float cross_res_252525 = arg_252523 - arg_252524;
        float arg_252526 = defunc_1_f_res_252330 * defunc_1_f_res_252469;
        float arg_252527 = defunc_1_f_res_252328 * defunc_1_f_res_252471;
        float cross_res_252528 = arg_252526 - arg_252527;
        float arg_252529 = defunc_1_f_res_252328 * defunc_1_f_res_252470;
        float arg_252530 = defunc_1_f_res_252329 * defunc_1_f_res_252469;
        float cross_res_252531 = arg_252529 - arg_252530;
        float defunc_1_f_res_252532 = cross_res_252525 - defunc_1_f_res_252514;
        float defunc_1_f_res_252533 = cross_res_252528 - defunc_1_f_res_252515;
        float defunc_1_f_res_252534 = cross_res_252531 - defunc_1_f_res_252516;
        
        // UpdateAcc
        {
            int64_t idx_247752 = i_247783;
            
            if (sle64((int64_t) 0, i_247783) && slt64(i_247783, nz2084U_226339)) {
                float x_247753;
                float x_247754;
                float x_247755;
                float x_247756;
                float x_247757;
                float x_247758;
                float x_247759;
                float x_247760;
                float x_247761;
                float x_247762;
                float x_247763;
                float x_247764;
                float x_247765;
                float x_247766;
                
                x_247753 = ((float *) mem_272811)[i_247783];
                x_247754 = ((float *) mem_272814)[i_247783];
                x_247755 = ((float *) mem_272817)[i_247783];
                x_247756 = ((float *) mem_272820)[i_247783];
                x_247757 = ((float *) mem_272823)[i_247783];
                x_247758 = ((float *) mem_272826)[i_247783];
                x_247759 = ((float *) mem_272829)[i_247783];
                x_247760 = defunc_1_f_res_252469;
                x_247761 = defunc_1_f_res_252470;
                x_247762 = defunc_1_f_res_252471;
                x_247763 = defunc_1_f_res_252514;
                x_247764 = defunc_1_f_res_252515;
                x_247765 = defunc_1_f_res_252516;
                x_247766 = 0.0F;
                
                float defunc_1_f_res_248950 = x_247753 + x_247760;
                float defunc_1_f_res_248951 = x_247754 + x_247761;
                float defunc_1_f_res_248952 = x_247755 + x_247762;
                float defunc_1_f_res_248953 = x_247756 + x_247763;
                float defunc_1_f_res_248954 = x_247757 + x_247764;
                float defunc_1_f_res_248955 = x_247758 + x_247765;
                float defunc_1_op_res_247773 = x_247759 + x_247766;
                
                ((float *) mem_272811)[i_247783] = defunc_1_f_res_248950;
                ((float *) mem_272814)[i_247783] = defunc_1_f_res_248951;
                ((float *) mem_272817)[i_247783] = defunc_1_f_res_248952;
                ((float *) mem_272820)[i_247783] = defunc_1_f_res_248953;
                ((float *) mem_272823)[i_247783] = defunc_1_f_res_248954;
                ((float *) mem_272826)[i_247783] = defunc_1_f_res_248955;
                ((float *) mem_272829)[i_247783] = defunc_1_op_res_247773;
            }
        }
        // UpdateAcc
        {
            int64_t idx_247752 = j_247813;
            
            if (sle64((int64_t) 0, j_247813) && slt64(j_247813, nz2084U_226339)) {
                float x_247753;
                float x_247754;
                float x_247755;
                float x_247756;
                float x_247757;
                float x_247758;
                float x_247759;
                float x_247760;
                float x_247761;
                float x_247762;
                float x_247763;
                float x_247764;
                float x_247765;
                float x_247766;
                
                x_247753 = ((float *) mem_272811)[j_247813];
                x_247754 = ((float *) mem_272814)[j_247813];
                x_247755 = ((float *) mem_272817)[j_247813];
                x_247756 = ((float *) mem_272820)[j_247813];
                x_247757 = ((float *) mem_272823)[j_247813];
                x_247758 = ((float *) mem_272826)[j_247813];
                x_247759 = ((float *) mem_272829)[j_247813];
                x_247760 = defunc_0_f_res_252517;
                x_247761 = defunc_0_f_res_252518;
                x_247762 = defunc_0_f_res_252519;
                x_247763 = defunc_1_f_res_252532;
                x_247764 = defunc_1_f_res_252533;
                x_247765 = defunc_1_f_res_252534;
                x_247766 = defunc_0_f_res_247979;
                
                float defunc_1_f_res_248950 = x_247753 + x_247760;
                float defunc_1_f_res_248951 = x_247754 + x_247761;
                float defunc_1_f_res_248952 = x_247755 + x_247762;
                float defunc_1_f_res_248953 = x_247756 + x_247763;
                float defunc_1_f_res_248954 = x_247757 + x_247764;
                float defunc_1_f_res_248955 = x_247758 + x_247765;
                float defunc_1_op_res_247773 = x_247759 + x_247766;
                
                ((float *) mem_272811)[j_247813] = defunc_1_f_res_248950;
                ((float *) mem_272814)[j_247813] = defunc_1_f_res_248951;
                ((float *) mem_272817)[j_247813] = defunc_1_f_res_248952;
                ((float *) mem_272820)[j_247813] = defunc_1_f_res_248953;
                ((float *) mem_272823)[j_247813] = defunc_1_f_res_248954;
                ((float *) mem_272826)[j_247813] = defunc_1_f_res_248955;
                ((float *) mem_272829)[j_247813] = defunc_1_op_res_247773;
            }
        }
    }
    if (mem_272977_cached_sizze_273355 < bytes_272976) {
        err = lexical_realloc(ctx, &mem_272977, &mem_272977_cached_sizze_273355, bytes_272976);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272990_cached_sizze_273356 < (int64_t) 12) {
        err = lexical_realloc(ctx, &mem_272990, &mem_272990_cached_sizze_273356, (int64_t) 12);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_272992_cached_sizze_273357 < (int64_t) 12) {
        err = lexical_realloc(ctx, &mem_272992, &mem_272992_cached_sizze_273357, (int64_t) 12);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_271127 = 0; i_271127 < nz2084U_226339; i_271127++) {
        float x_248329 = ((float *) mem_272811)[i_271127];
        float x_248330 = ((float *) mem_272814)[i_271127];
        float x_248331 = ((float *) mem_272817)[i_271127];
        float x_248332 = ((float *) mem_272820)[i_271127];
        float x_248333 = ((float *) mem_272823)[i_271127];
        float x_248334 = ((float *) mem_272826)[i_271127];
        
        ((float *) mem_272990)[(int64_t) 0] = x_248329;
        ((float *) mem_272990)[(int64_t) 1] = x_248330;
        ((float *) mem_272990)[(int64_t) 2] = x_248331;
        ((float *) mem_272992)[(int64_t) 0] = x_248332;
        ((float *) mem_272992)[(int64_t) 1] = x_248333;
        ((float *) mem_272992)[(int64_t) 2] = x_248334;
        if ((int64_t) 12 > 0)
            memmove(mem_272977 + i_271127 * (int64_t) 6 * (int64_t) 4, mem_272990 + (int64_t) 0, (int64_t) 12);
        if ((int64_t) 12 > 0)
            memmove(mem_272977 + (i_271127 * (int64_t) 6 + (int64_t) 3) * (int64_t) 4, mem_272992 + (int64_t) 0, (int64_t) 12);
    }
    
    int64_t flat_dim_248338 = (int64_t) 2 * nz2084U_226339;
    
    if (memblock_alloc(ctx, &mem_273009, bytes_272976, "mem_273009")) {
        err = 1;
        goto cleanup;
    }
    if (flat_dim_248338 * (int64_t) 3 * (int64_t) 4 > 0)
        memmove(mem_273009.mem + (int64_t) 0, mem_272977 + (int64_t) 0, flat_dim_248338 * (int64_t) 3 * (int64_t) 4);
    if (memblock_set(ctx, &mem_out_273038, &mem_273009, "mem_273009") != 0)
        return 1;
    prim_out_273039 = flat_dim_248338;
    (*mem_out_p_273273).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_273273, &mem_out_273038, "mem_out_273038") != 0)
        return 1;
    *out_prim_out_273274 = prim_out_273039;
    
  cleanup:
    {
        free(mem_271609);
        free(mem_271612);
        free(mem_271615);
        free(mem_271618);
        free(mem_271621);
        free(mem_271624);
        free(mem_271627);
        free(mem_271703);
        free(mem_271706);
        free(mem_271709);
        free(mem_271753);
        free(mem_271776);
        free(mem_271781);
        free(mem_271830);
        free(mem_271833);
        free(mem_271856);
        free(mem_271859);
        free(mem_271862);
        free(mem_271895);
        free(mem_271898);
        free(mem_271901);
        free(mem_271947);
        free(mem_271950);
        free(mem_271973);
        free(mem_272022);
        free(mem_272035);
        free(mem_272048);
        free(mem_272051);
        free(mem_272054);
        free(mem_272089);
        free(mem_272102);
        free(mem_272133);
        free(mem_272136);
        free(mem_272159);
        free(mem_272208);
        free(mem_272211);
        free(mem_272234);
        free(mem_272283);
        free(mem_272286);
        free(mem_272309);
        free(mem_272323);
        free(mem_272347);
        free(mem_272378);
        free(mem_272382);
        free(mem_272386);
        free(mem_272390);
        free(mem_272394);
        free(mem_272580);
        free(mem_272583);
        free(mem_272606);
        free(mem_272655);
        free(mem_272658);
        free(mem_272661);
        free(mem_272664);
        free(mem_272667);
        free(mem_272720);
        free(mem_272723);
        free(mem_272746);
        free(mem_272749);
        free(mem_272752);
        free(mem_272755);
        free(mem_272758);
        free(mem_272811);
        free(mem_272814);
        free(mem_272817);
        free(mem_272820);
        free(mem_272823);
        free(mem_272826);
        free(mem_272829);
        free(mem_272832);
        free(mem_272835);
        free(mem_272838);
        free(mem_272841);
        free(mem_272884);
        free(mem_272887);
        free(mem_272910);
        free(mem_272913);
        free(mem_272936);
        free(mem_272949);
        free(mem_272962);
        free(mem_272977);
        free(mem_272990);
        free(mem_272992);
        if (memblock_unref(ctx, &mem_273009, "mem_273009") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272260, "mem_272260") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272247, "mem_272247") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272275, "ext_mem_272275") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272280, "ext_mem_272280") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272185, "mem_272185") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272172, "mem_272172") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272200, "ext_mem_272200") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272205, "ext_mem_272205") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272115, "mem_272115") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272130, "ext_mem_272130") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_273109, "mem_param_tmp_273109") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_273108, "mem_param_tmp_273108") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_271989, "mem_271989") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_271986, "mem_271986") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_271944, "mem_param_271944") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_271939, "mem_param_271939") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272018, "ext_mem_272018") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272019, "ext_mem_272019") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_271934, "mem_271934") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272632, "mem_272632") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272619, "mem_272619") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272647, "ext_mem_272647") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_272652, "ext_mem_272652") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_272086, "mem_272086") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_271700, "mem_271700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_273038, "mem_out_273038") != 0)
            return 1;
    }
    return err;
}
static int futrts_entry_networkPotential(struct futhark_context *ctx, float *out_prim_out_273358, struct memblock z31U_mem_271592, struct memblock z31U_mem_271593, struct memblock z31U_mem_271594, struct memblock z31U_mem_271595, struct memblock z31U_mem_271596, struct memblock z31U_mem_271597, struct memblock z31U_mem_271598, struct memblock z31U_mem_271599, struct memblock z31U_mem_271600, struct memblock z31U_mem_271601, struct memblock z31U_mem_271602, struct memblock z31U_mem_271603, struct memblock z31U_mem_271604, struct memblock location_mem_271605, struct memblock orientation_mem_271606, int64_t dz2080U_164198, int64_t dz2081U_164199, int8_t z30U_164200, float z30U_164201, float z30U_164202, float z30U_164203, float z30U_164204, float z30U_164205, float z30U_164206, float z30U_164207, float z30U_164208, float z30U_164209, float z30U_164210, float z30U_164211, float z30U_164212, float z30U_164213, int32_t z30U_164214)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_271609_cached_sizze_273359 = 0;
    unsigned char *mem_271609 = NULL;
    int64_t mem_271622_cached_sizze_273360 = 0;
    unsigned char *mem_271622 = NULL;
    int64_t mem_271635_cached_sizze_273361 = 0;
    unsigned char *mem_271635 = NULL;
    float prim_out_273038;
    int64_t binop_y_271607 = (int64_t) 4 * dz2080U_164198;
    int64_t bytes_271608 = smax64((int64_t) 0, binop_y_271607);
    int64_t binop_y_271620 = (int64_t) 4 * dz2081U_164199;
    int64_t bytes_271621 = smax64((int64_t) 0, binop_y_271620);
    float fromLO_res_248361 = ((float *) location_mem_271605.mem)[(int64_t) 0];
    float fromLO_res_248362 = ((float *) location_mem_271605.mem)[(int64_t) 1];
    float fromLO_res_248363 = ((float *) location_mem_271605.mem)[(int64_t) 2];
    float quaternion_arg_248364 = ((float *) orientation_mem_271606.mem)[(int64_t) 1];
    float quaternion_arg_248365 = ((float *) orientation_mem_271606.mem)[(int64_t) 2];
    float quaternion_arg_248366 = ((float *) orientation_mem_271606.mem)[(int64_t) 3];
    float quaternion_arg_248367 = ((float *) orientation_mem_271606.mem)[(int64_t) 0];
    float distanceFunction_res_240889;
    
    if (z30U_164200 == (int8_t) 1) {
        float defunc_0_f_res_262006 = 0.0F - quaternion_arg_248364;
        float defunc_0_f_res_262007 = 0.0F - quaternion_arg_248365;
        float defunc_0_f_res_262008 = 0.0F - quaternion_arg_248366;
        float defunc_1_f_res_262009 = z30U_164204 * quaternion_arg_248364;
        float defunc_1_f_res_262010 = z30U_164205 * quaternion_arg_248365;
        float defunc_1_f_res_262011 = z30U_164206 * quaternion_arg_248366;
        float defunc_1_f_res_262012 = defunc_1_f_res_262010 + defunc_1_f_res_262011;
        float defunc_0_f_res_262013 = defunc_1_f_res_262009 + defunc_1_f_res_262012;
        float qMult_res_262014 = 0.0F - defunc_0_f_res_262013;
        float arg_262015 = z30U_164206 * quaternion_arg_248365;
        float arg_262016 = z30U_164205 * quaternion_arg_248366;
        float cross_res_262017 = arg_262015 - arg_262016;
        float arg_262018 = z30U_164204 * quaternion_arg_248366;
        float arg_262019 = z30U_164206 * quaternion_arg_248364;
        float cross_res_262020 = arg_262018 - arg_262019;
        float arg_262021 = z30U_164205 * quaternion_arg_248364;
        float arg_262022 = z30U_164204 * quaternion_arg_248365;
        float cross_res_262023 = arg_262021 - arg_262022;
        float defunc_0_f_res_262024 = z30U_164204 * quaternion_arg_248367;
        float defunc_0_f_res_262025 = z30U_164205 * quaternion_arg_248367;
        float defunc_0_f_res_262026 = z30U_164206 * quaternion_arg_248367;
        float defunc_1_f_res_262027 = cross_res_262017 + defunc_0_f_res_262024;
        float defunc_1_f_res_262028 = cross_res_262020 + defunc_0_f_res_262025;
        float defunc_1_f_res_262029 = cross_res_262023 + defunc_0_f_res_262026;
        float arg_262030 = defunc_0_f_res_262008 * defunc_1_f_res_262028;
        float arg_262031 = defunc_0_f_res_262007 * defunc_1_f_res_262029;
        float cross_res_262032 = arg_262030 - arg_262031;
        float arg_262033 = defunc_0_f_res_262006 * defunc_1_f_res_262029;
        float arg_262034 = defunc_0_f_res_262008 * defunc_1_f_res_262027;
        float cross_res_262035 = arg_262033 - arg_262034;
        float arg_262036 = defunc_0_f_res_262007 * defunc_1_f_res_262027;
        float arg_262037 = defunc_0_f_res_262006 * defunc_1_f_res_262028;
        float cross_res_262038 = arg_262036 - arg_262037;
        float defunc_0_f_res_262039 = quaternion_arg_248367 * defunc_1_f_res_262027;
        float defunc_0_f_res_262040 = quaternion_arg_248367 * defunc_1_f_res_262028;
        float defunc_0_f_res_262041 = quaternion_arg_248367 * defunc_1_f_res_262029;
        float defunc_0_f_res_262042 = defunc_0_f_res_262006 * qMult_res_262014;
        float defunc_0_f_res_262043 = defunc_0_f_res_262007 * qMult_res_262014;
        float defunc_0_f_res_262044 = defunc_0_f_res_262008 * qMult_res_262014;
        float defunc_1_f_res_262045 = defunc_0_f_res_262039 + defunc_0_f_res_262042;
        float defunc_1_f_res_262046 = defunc_0_f_res_262040 + defunc_0_f_res_262043;
        float defunc_1_f_res_262047 = defunc_0_f_res_262041 + defunc_0_f_res_262044;
        float defunc_1_f_res_262048 = cross_res_262032 + defunc_1_f_res_262045;
        float defunc_1_f_res_262049 = cross_res_262035 + defunc_1_f_res_262046;
        float defunc_1_f_res_262050 = cross_res_262038 + defunc_1_f_res_262047;
        float defunc_0_f_res_262051 = 0.0F - fromLO_res_248361;
        float defunc_0_f_res_262052 = 0.0F - fromLO_res_248362;
        float defunc_0_f_res_262053 = 0.0F - fromLO_res_248363;
        float defunc_1_f_res_262054 = z30U_164201 * z30U_164201;
        float defunc_1_f_res_262055 = z30U_164202 * z30U_164202;
        float defunc_1_f_res_262056 = z30U_164203 * z30U_164203;
        float defunc_1_f_res_262057 = defunc_1_f_res_262055 + defunc_1_f_res_262056;
        float defunc_0_f_res_262058 = defunc_1_f_res_262054 + defunc_1_f_res_262057;
        float defunc_1_f_res_262059 = z30U_164201 * defunc_1_f_res_262048;
        float defunc_1_f_res_262060 = z30U_164202 * defunc_1_f_res_262049;
        float defunc_1_f_res_262061 = z30U_164203 * defunc_1_f_res_262050;
        float defunc_1_f_res_262062 = defunc_1_f_res_262060 + defunc_1_f_res_262061;
        float defunc_0_f_res_262063 = defunc_1_f_res_262059 + defunc_1_f_res_262062;
        float defunc_1_f_res_262064 = z30U_164201 * defunc_0_f_res_262051;
        float defunc_1_f_res_262065 = z30U_164202 * defunc_0_f_res_262052;
        float defunc_1_f_res_262066 = z30U_164203 * defunc_0_f_res_262053;
        float defunc_1_f_res_262067 = defunc_1_f_res_262065 + defunc_1_f_res_262066;
        float defunc_0_f_res_262068 = defunc_1_f_res_262064 + defunc_1_f_res_262067;
        float defunc_1_f_res_262069 = defunc_1_f_res_262048 * defunc_1_f_res_262048;
        float defunc_1_f_res_262070 = defunc_1_f_res_262049 * defunc_1_f_res_262049;
        float defunc_1_f_res_262071 = defunc_1_f_res_262050 * defunc_1_f_res_262050;
        float defunc_1_f_res_262072 = defunc_1_f_res_262070 + defunc_1_f_res_262071;
        float defunc_0_f_res_262073 = defunc_1_f_res_262069 + defunc_1_f_res_262072;
        float defunc_1_f_res_262074 = defunc_1_f_res_262048 * defunc_0_f_res_262051;
        float defunc_1_f_res_262075 = defunc_1_f_res_262049 * defunc_0_f_res_262052;
        float defunc_1_f_res_262076 = defunc_1_f_res_262050 * defunc_0_f_res_262053;
        float defunc_1_f_res_262077 = defunc_1_f_res_262075 + defunc_1_f_res_262076;
        float defunc_0_f_res_262078 = defunc_1_f_res_262074 + defunc_1_f_res_262077;
        float arg_262079 = defunc_0_f_res_262058 * defunc_0_f_res_262073;
        float arg_262080 = defunc_0_f_res_262063 * defunc_0_f_res_262063;
        float det_262081 = arg_262079 - arg_262080;
        float arg_262082 = defunc_0_f_res_262068 * defunc_0_f_res_262073;
        float arg_262083 = defunc_0_f_res_262063 * defunc_0_f_res_262078;
        float arg_262084 = arg_262082 - arg_262083;
        float i_m_262085 = arg_262084 / det_262081;
        float arg_262086 = defunc_0_f_res_262058 * defunc_0_f_res_262078;
        float arg_262087 = defunc_0_f_res_262063 * defunc_0_f_res_262068;
        float arg_262088 = arg_262086 - arg_262087;
        float j_m_262089 = arg_262088 / det_262081;
        float arg_262090 = defunc_0_f_res_262068 - defunc_0_f_res_262063;
        float i_p_262091 = arg_262090 / defunc_0_f_res_262058;
        float arg_262092 = defunc_0_f_res_262063 + defunc_0_f_res_262068;
        float i_n_262093 = arg_262092 / defunc_0_f_res_262058;
        float arg_262094 = defunc_0_f_res_262078 - defunc_0_f_res_262063;
        float j_p_262095 = arg_262094 / defunc_0_f_res_262073;
        float arg_262096 = defunc_0_f_res_262063 + defunc_0_f_res_262078;
        float j_n_262097 = arg_262096 / defunc_0_f_res_262073;
        bool cond_262098 = det_262081 == 0.0F;
        bool cond_262099 = !cond_262098;
        bool cond_262100 = -1.0F <= i_m_262085;
        bool lifted_valid_res_t_res_262101 = i_m_262085 <= 1.0F;
        bool x_262102 = cond_262100 && lifted_valid_res_t_res_262101;
        bool x_262103 = cond_262099 && x_262102;
        bool cond_262104 = -1.0F <= j_m_262089;
        bool lifted_valid_res_t_res_262105 = j_m_262089 <= 1.0F;
        bool x_262106 = cond_262104 && lifted_valid_res_t_res_262105;
        bool x_262107 = x_262103 && x_262106;
        float rodDistance_res_262108;
        
        if (x_262107 == 1) {
            float defunc_0_f_res_262109 = defunc_1_f_res_262048 * j_m_262089;
            float defunc_0_f_res_262110 = defunc_1_f_res_262049 * j_m_262089;
            float defunc_0_f_res_262111 = defunc_1_f_res_262050 * j_m_262089;
            float defunc_0_f_res_262112 = z30U_164201 * i_m_262085;
            float defunc_0_f_res_262113 = z30U_164202 * i_m_262085;
            float defunc_0_f_res_262114 = z30U_164203 * i_m_262085;
            float defunc_1_f_res_262115 = defunc_0_f_res_262109 + defunc_0_f_res_262112;
            float defunc_1_f_res_262116 = defunc_0_f_res_262110 + defunc_0_f_res_262113;
            float defunc_1_f_res_262117 = defunc_0_f_res_262111 + defunc_0_f_res_262114;
            float defunc_1_f_res_262118 = defunc_1_f_res_262115 - defunc_0_f_res_262051;
            float defunc_1_f_res_262119 = defunc_1_f_res_262116 - defunc_0_f_res_262052;
            float defunc_1_f_res_262120 = defunc_1_f_res_262117 - defunc_0_f_res_262053;
            float defunc_1_f_res_262121 = defunc_1_f_res_262118 * defunc_1_f_res_262118;
            float defunc_1_f_res_262122 = defunc_1_f_res_262119 * defunc_1_f_res_262119;
            float defunc_1_f_res_262123 = defunc_1_f_res_262120 * defunc_1_f_res_262120;
            float defunc_1_f_res_262124 = defunc_1_f_res_262122 + defunc_1_f_res_262123;
            float defunc_0_f_res_262125 = defunc_1_f_res_262121 + defunc_1_f_res_262124;
            float sqrt_res_262126 = futrts_sqrt32(defunc_0_f_res_262125);
            
            rodDistance_res_262108 = sqrt_res_262126;
        } else {
            float defunc_0_f_res_262127 = -1.0F * defunc_1_f_res_262048;
            float defunc_0_f_res_262128 = -1.0F * defunc_1_f_res_262049;
            float defunc_0_f_res_262129 = -1.0F * defunc_1_f_res_262050;
            float defunc_0_f_res_262130 = -1.0F * z30U_164201;
            float defunc_0_f_res_262131 = -1.0F * z30U_164202;
            float defunc_0_f_res_262132 = -1.0F * z30U_164203;
            float defunc_1_f_res_262133 = defunc_0_f_res_262127 + defunc_0_f_res_262130;
            float defunc_1_f_res_262134 = defunc_0_f_res_262128 + defunc_0_f_res_262131;
            float defunc_1_f_res_262135 = defunc_0_f_res_262129 + defunc_0_f_res_262132;
            float defunc_1_f_res_262136 = defunc_1_f_res_262133 - defunc_0_f_res_262051;
            float defunc_1_f_res_262137 = defunc_1_f_res_262134 - defunc_0_f_res_262052;
            float defunc_1_f_res_262138 = defunc_1_f_res_262135 - defunc_0_f_res_262053;
            float defunc_1_f_res_262139 = defunc_1_f_res_262136 * defunc_1_f_res_262136;
            float defunc_1_f_res_262140 = defunc_1_f_res_262137 * defunc_1_f_res_262137;
            float defunc_1_f_res_262141 = defunc_1_f_res_262138 * defunc_1_f_res_262138;
            float defunc_1_f_res_262142 = defunc_1_f_res_262140 + defunc_1_f_res_262141;
            float defunc_0_f_res_262143 = defunc_1_f_res_262139 + defunc_1_f_res_262142;
            float defunc_1_f_res_262144 = defunc_1_f_res_262048 + defunc_0_f_res_262130;
            float defunc_1_f_res_262145 = defunc_1_f_res_262049 + defunc_0_f_res_262131;
            float defunc_1_f_res_262146 = defunc_1_f_res_262050 + defunc_0_f_res_262132;
            float defunc_1_f_res_262147 = defunc_1_f_res_262144 - defunc_0_f_res_262051;
            float defunc_1_f_res_262148 = defunc_1_f_res_262145 - defunc_0_f_res_262052;
            float defunc_1_f_res_262149 = defunc_1_f_res_262146 - defunc_0_f_res_262053;
            float defunc_1_f_res_262150 = defunc_1_f_res_262147 * defunc_1_f_res_262147;
            float defunc_1_f_res_262151 = defunc_1_f_res_262148 * defunc_1_f_res_262148;
            float defunc_1_f_res_262152 = defunc_1_f_res_262149 * defunc_1_f_res_262149;
            float defunc_1_f_res_262153 = defunc_1_f_res_262151 + defunc_1_f_res_262152;
            float defunc_0_f_res_262154 = defunc_1_f_res_262150 + defunc_1_f_res_262153;
            float defunc_1_f_res_262155 = z30U_164201 + defunc_0_f_res_262127;
            float defunc_1_f_res_262156 = z30U_164202 + defunc_0_f_res_262128;
            float defunc_1_f_res_262157 = z30U_164203 + defunc_0_f_res_262129;
            float defunc_1_f_res_262158 = defunc_1_f_res_262155 - defunc_0_f_res_262051;
            float defunc_1_f_res_262159 = defunc_1_f_res_262156 - defunc_0_f_res_262052;
            float defunc_1_f_res_262160 = defunc_1_f_res_262157 - defunc_0_f_res_262053;
            float defunc_1_f_res_262161 = defunc_1_f_res_262158 * defunc_1_f_res_262158;
            float defunc_1_f_res_262162 = defunc_1_f_res_262159 * defunc_1_f_res_262159;
            float defunc_1_f_res_262163 = defunc_1_f_res_262160 * defunc_1_f_res_262160;
            float defunc_1_f_res_262164 = defunc_1_f_res_262162 + defunc_1_f_res_262163;
            float defunc_0_f_res_262165 = defunc_1_f_res_262161 + defunc_1_f_res_262164;
            float defunc_1_f_res_262166 = z30U_164201 + defunc_1_f_res_262048;
            float defunc_1_f_res_262167 = z30U_164202 + defunc_1_f_res_262049;
            float defunc_1_f_res_262168 = z30U_164203 + defunc_1_f_res_262050;
            float defunc_1_f_res_262169 = defunc_1_f_res_262166 - defunc_0_f_res_262051;
            float defunc_1_f_res_262170 = defunc_1_f_res_262167 - defunc_0_f_res_262052;
            float defunc_1_f_res_262171 = defunc_1_f_res_262168 - defunc_0_f_res_262053;
            float defunc_1_f_res_262172 = defunc_1_f_res_262169 * defunc_1_f_res_262169;
            float defunc_1_f_res_262173 = defunc_1_f_res_262170 * defunc_1_f_res_262170;
            float defunc_1_f_res_262174 = defunc_1_f_res_262171 * defunc_1_f_res_262171;
            float defunc_1_f_res_262175 = defunc_1_f_res_262173 + defunc_1_f_res_262174;
            float defunc_0_f_res_262176 = defunc_1_f_res_262172 + defunc_1_f_res_262175;
            bool cond_262177 = -1.0F <= j_n_262097;
            bool lifted_valid_res_t_res_262178 = j_n_262097 <= 1.0F;
            bool x_262179 = cond_262177 && lifted_valid_res_t_res_262178;
            float min_arg_262180;
            
            if (x_262179 == 1) {
                float defunc_0_f_res_262181 = defunc_1_f_res_262048 * j_n_262097;
                float defunc_0_f_res_262182 = defunc_1_f_res_262049 * j_n_262097;
                float defunc_0_f_res_262183 = defunc_1_f_res_262050 * j_n_262097;
                float defunc_1_f_res_262184 = defunc_0_f_res_262130 + defunc_0_f_res_262181;
                float defunc_1_f_res_262185 = defunc_0_f_res_262131 + defunc_0_f_res_262182;
                float defunc_1_f_res_262186 = defunc_0_f_res_262132 + defunc_0_f_res_262183;
                float defunc_1_f_res_262187 = defunc_1_f_res_262184 - defunc_0_f_res_262051;
                float defunc_1_f_res_262188 = defunc_1_f_res_262185 - defunc_0_f_res_262052;
                float defunc_1_f_res_262189 = defunc_1_f_res_262186 - defunc_0_f_res_262053;
                float defunc_1_f_res_262190 = defunc_1_f_res_262187 * defunc_1_f_res_262187;
                float defunc_1_f_res_262191 = defunc_1_f_res_262188 * defunc_1_f_res_262188;
                float defunc_1_f_res_262192 = defunc_1_f_res_262189 * defunc_1_f_res_262189;
                float defunc_1_f_res_262193 = defunc_1_f_res_262191 + defunc_1_f_res_262192;
                float defunc_0_f_res_262194 = defunc_1_f_res_262190 + defunc_1_f_res_262193;
                
                min_arg_262180 = defunc_0_f_res_262194;
            } else {
                min_arg_262180 = INFINITY;
            }
            
            bool cond_262195 = -1.0F <= j_p_262095;
            bool lifted_valid_res_t_res_262196 = j_p_262095 <= 1.0F;
            bool x_262197 = cond_262195 && lifted_valid_res_t_res_262196;
            float min_arg_262198;
            
            if (x_262197 == 1) {
                float defunc_0_f_res_262199 = defunc_1_f_res_262048 * j_p_262095;
                float defunc_0_f_res_262200 = defunc_1_f_res_262049 * j_p_262095;
                float defunc_0_f_res_262201 = defunc_1_f_res_262050 * j_p_262095;
                float defunc_1_f_res_262202 = z30U_164201 + defunc_0_f_res_262199;
                float defunc_1_f_res_262203 = z30U_164202 + defunc_0_f_res_262200;
                float defunc_1_f_res_262204 = z30U_164203 + defunc_0_f_res_262201;
                float defunc_1_f_res_262205 = defunc_1_f_res_262202 - defunc_0_f_res_262051;
                float defunc_1_f_res_262206 = defunc_1_f_res_262203 - defunc_0_f_res_262052;
                float defunc_1_f_res_262207 = defunc_1_f_res_262204 - defunc_0_f_res_262053;
                float defunc_1_f_res_262208 = defunc_1_f_res_262205 * defunc_1_f_res_262205;
                float defunc_1_f_res_262209 = defunc_1_f_res_262206 * defunc_1_f_res_262206;
                float defunc_1_f_res_262210 = defunc_1_f_res_262207 * defunc_1_f_res_262207;
                float defunc_1_f_res_262211 = defunc_1_f_res_262209 + defunc_1_f_res_262210;
                float defunc_0_f_res_262212 = defunc_1_f_res_262208 + defunc_1_f_res_262211;
                
                min_arg_262198 = defunc_0_f_res_262212;
            } else {
                min_arg_262198 = INFINITY;
            }
            
            bool cond_262213 = -1.0F <= i_n_262093;
            bool lifted_valid_res_t_res_262214 = i_n_262093 <= 1.0F;
            bool x_262215 = cond_262213 && lifted_valid_res_t_res_262214;
            float min_arg_262216;
            
            if (x_262215 == 1) {
                float defunc_0_f_res_262217 = z30U_164201 * i_n_262093;
                float defunc_0_f_res_262218 = z30U_164202 * i_n_262093;
                float defunc_0_f_res_262219 = z30U_164203 * i_n_262093;
                float defunc_1_f_res_262220 = defunc_0_f_res_262127 + defunc_0_f_res_262217;
                float defunc_1_f_res_262221 = defunc_0_f_res_262128 + defunc_0_f_res_262218;
                float defunc_1_f_res_262222 = defunc_0_f_res_262129 + defunc_0_f_res_262219;
                float defunc_1_f_res_262223 = defunc_1_f_res_262220 - defunc_0_f_res_262051;
                float defunc_1_f_res_262224 = defunc_1_f_res_262221 - defunc_0_f_res_262052;
                float defunc_1_f_res_262225 = defunc_1_f_res_262222 - defunc_0_f_res_262053;
                float defunc_1_f_res_262226 = defunc_1_f_res_262223 * defunc_1_f_res_262223;
                float defunc_1_f_res_262227 = defunc_1_f_res_262224 * defunc_1_f_res_262224;
                float defunc_1_f_res_262228 = defunc_1_f_res_262225 * defunc_1_f_res_262225;
                float defunc_1_f_res_262229 = defunc_1_f_res_262227 + defunc_1_f_res_262228;
                float defunc_0_f_res_262230 = defunc_1_f_res_262226 + defunc_1_f_res_262229;
                
                min_arg_262216 = defunc_0_f_res_262230;
            } else {
                min_arg_262216 = INFINITY;
            }
            
            bool cond_262231 = -1.0F <= i_p_262091;
            bool lifted_valid_res_t_res_262232 = i_p_262091 <= 1.0F;
            bool x_262233 = cond_262231 && lifted_valid_res_t_res_262232;
            float min_arg_262234;
            
            if (x_262233 == 1) {
                float defunc_0_f_res_262235 = z30U_164201 * i_p_262091;
                float defunc_0_f_res_262236 = z30U_164202 * i_p_262091;
                float defunc_0_f_res_262237 = z30U_164203 * i_p_262091;
                float defunc_1_f_res_262238 = defunc_1_f_res_262048 + defunc_0_f_res_262235;
                float defunc_1_f_res_262239 = defunc_1_f_res_262049 + defunc_0_f_res_262236;
                float defunc_1_f_res_262240 = defunc_1_f_res_262050 + defunc_0_f_res_262237;
                float defunc_1_f_res_262241 = defunc_1_f_res_262238 - defunc_0_f_res_262051;
                float defunc_1_f_res_262242 = defunc_1_f_res_262239 - defunc_0_f_res_262052;
                float defunc_1_f_res_262243 = defunc_1_f_res_262240 - defunc_0_f_res_262053;
                float defunc_1_f_res_262244 = defunc_1_f_res_262241 * defunc_1_f_res_262241;
                float defunc_1_f_res_262245 = defunc_1_f_res_262242 * defunc_1_f_res_262242;
                float defunc_1_f_res_262246 = defunc_1_f_res_262243 * defunc_1_f_res_262243;
                float defunc_1_f_res_262247 = defunc_1_f_res_262245 + defunc_1_f_res_262246;
                float defunc_0_f_res_262248 = defunc_1_f_res_262244 + defunc_1_f_res_262247;
                
                min_arg_262234 = defunc_0_f_res_262248;
            } else {
                min_arg_262234 = INFINITY;
            }
            
            float min_res_262249 = fmin32(min_arg_262216, min_arg_262234);
            float min_res_262250 = fmin32(min_arg_262198, min_res_262249);
            float min_res_262251 = fmin32(min_arg_262180, min_res_262250);
            float min_res_262252 = fmin32(defunc_0_f_res_262176, min_res_262251);
            float min_res_262253 = fmin32(defunc_0_f_res_262165, min_res_262252);
            float min_res_262254 = fmin32(defunc_0_f_res_262154, min_res_262253);
            float min_res_262255 = fmin32(defunc_0_f_res_262143, min_res_262254);
            float sqrt_res_262256 = futrts_sqrt32(min_res_262255);
            
            rodDistance_res_262108 = sqrt_res_262256;
        }
        distanceFunction_res_240889 = rodDistance_res_262108;
    } else if (z30U_164200 == (int8_t) 2) {
        float defunc_1_f_res_261926 = fromLO_res_248361 * fromLO_res_248361;
        float defunc_1_f_res_261927 = fromLO_res_248362 * fromLO_res_248362;
        float defunc_1_f_res_261928 = fromLO_res_248363 * fromLO_res_248363;
        float defunc_1_f_res_261929 = defunc_1_f_res_261927 + defunc_1_f_res_261928;
        float defunc_0_f_res_261930 = defunc_1_f_res_261926 + defunc_1_f_res_261929;
        float sqrt_res_261931 = futrts_sqrt32(defunc_0_f_res_261930);
        
        distanceFunction_res_240889 = sqrt_res_261931;
    } else {
        bool hole_c_240954;
        
        if (!0) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Reached hole of type: f32", "-> #0  potential.fut:141:59-61\n   #1  potential.fut:190:26-47\n   #2  potential.fut:434:57-81\n   #3  network.fut:25:28-32\n   #4  network.fut:152:24-42\n   #5  network.fut:110:23-40\n   #6  network.fut:140:23-41\n   #7  network.fut:109:23-40\n   #8  network.fut:128:23-41\n   #9  potential.fut:373:24-69\n   #10 futhark_interaction.fut:27:9-56\n   #11 futhark_interaction.fut:25:1-27:59\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        distanceFunction_res_240889 = 0.0F;
    }
    
    float softcut_arg_240955 = distanceFunction_res_240889 / z30U_164213;
    float i32_res_248400 = sitofp_i32_f32(z30U_164214);
    float abs_res_248401 = (float) fabs(softcut_arg_240955);
    bool cond_248402 = abs_res_248401 < 1.0F;
    float softcut_res_248403;
    
    if (cond_248402 == 1) {
        float arg_262257 = softcut_arg_240955 * softcut_arg_240955;
        float arg_262258 = arg_262257 - 1.0F;
        float arg_262259 = i32_res_248400 * arg_262258;
        float arg_262260 = arg_262259 - 1.0F;
        float arg_262261 = 2.0F * i32_res_248400;
        float arg_262262 = fpow32(softcut_arg_240955, arg_262261);
        float arg_262263 = arg_262260 * arg_262262;
        float softcut_res_t_res_262264 = 1.0F + arg_262263;
        
        softcut_res_248403 = softcut_res_t_res_262264;
    } else {
        softcut_res_248403 = 0.0F;
    }
    
    float aa_248416 = quaternion_arg_248367 * quaternion_arg_248367;
    float ab_248417 = quaternion_arg_248364 * quaternion_arg_248367;
    float ac_248418 = quaternion_arg_248365 * quaternion_arg_248367;
    float ad_248419 = quaternion_arg_248366 * quaternion_arg_248367;
    float bb_248420 = quaternion_arg_248364 * quaternion_arg_248364;
    float bc_248421 = quaternion_arg_248364 * quaternion_arg_248365;
    float bd_248422 = quaternion_arg_248364 * quaternion_arg_248366;
    float cc_248423 = quaternion_arg_248365 * quaternion_arg_248365;
    float cd_248424 = quaternion_arg_248365 * quaternion_arg_248366;
    float dd_248425 = quaternion_arg_248366 * quaternion_arg_248366;
    float arg_248426 = aa_248416 + bb_248420;
    float arg_248427 = arg_248426 - cc_248423;
    float m33fromQuaternion_res_248428 = arg_248427 - dd_248425;
    float arg_248429 = bc_248421 - ad_248419;
    float m33fromQuaternion_res_248430 = 2.0F * arg_248429;
    float arg_248431 = ac_248418 + bd_248422;
    float m33fromQuaternion_res_248432 = 2.0F * arg_248431;
    float arg_248433 = ad_248419 + bc_248421;
    float m33fromQuaternion_res_248434 = 2.0F * arg_248433;
    float arg_248435 = aa_248416 - bb_248420;
    float arg_248436 = cc_248423 + arg_248435;
    float m33fromQuaternion_res_248437 = arg_248436 - dd_248425;
    float arg_248438 = cd_248424 - ab_248417;
    float m33fromQuaternion_res_248439 = 2.0F * arg_248438;
    float arg_248440 = bd_248422 - ac_248418;
    float m33fromQuaternion_res_248441 = 2.0F * arg_248440;
    float arg_248442 = ab_248417 + cd_248424;
    float m33fromQuaternion_res_248443 = 2.0F * arg_248442;
    float arg_248445 = arg_248435 - cc_248423;
    float m33fromQuaternion_res_248446 = dd_248425 + arg_248445;
    
    if (mem_271609_cached_sizze_273359 < bytes_271608) {
        err = lexical_realloc(ctx, &mem_271609, &mem_271609_cached_sizze_273359, bytes_271608);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270652 = 0; i_270652 < dz2080U_164198; i_270652++) {
        float x_252628 = ((float *) z31U_mem_271592.mem)[i_270652];
        float x_252629 = ((float *) z31U_mem_271593.mem)[i_270652];
        float x_252630 = ((float *) z31U_mem_271594.mem)[i_270652];
        float x_252631 = ((float *) z31U_mem_271595.mem)[i_270652];
        float x_252632 = ((float *) z31U_mem_271596.mem)[i_270652];
        float x_252633 = ((float *) z31U_mem_271597.mem)[i_270652];
        float defunc_1_f_res_252634 = m33fromQuaternion_res_248428 * x_252631;
        float defunc_1_f_res_252635 = m33fromQuaternion_res_248430 * x_252632;
        float defunc_1_f_res_252636 = m33fromQuaternion_res_248432 * x_252633;
        float defunc_1_f_res_252637 = defunc_1_f_res_252635 + defunc_1_f_res_252636;
        float defunc_0_f_res_252638 = defunc_1_f_res_252634 + defunc_1_f_res_252637;
        float defunc_1_f_res_252639 = m33fromQuaternion_res_248434 * x_252631;
        float defunc_1_f_res_252640 = m33fromQuaternion_res_248437 * x_252632;
        float defunc_1_f_res_252641 = m33fromQuaternion_res_248439 * x_252633;
        float defunc_1_f_res_252642 = defunc_1_f_res_252640 + defunc_1_f_res_252641;
        float defunc_0_f_res_252643 = defunc_1_f_res_252639 + defunc_1_f_res_252642;
        float defunc_1_f_res_252644 = m33fromQuaternion_res_248441 * x_252631;
        float defunc_1_f_res_252645 = m33fromQuaternion_res_248443 * x_252632;
        float defunc_1_f_res_252646 = m33fromQuaternion_res_248446 * x_252633;
        float defunc_1_f_res_252647 = defunc_1_f_res_252645 + defunc_1_f_res_252646;
        float defunc_0_f_res_252648 = defunc_1_f_res_252644 + defunc_1_f_res_252647;
        float defunc_1_f_res_252649 = fromLO_res_248361 + defunc_0_f_res_252638;
        float defunc_1_f_res_252650 = fromLO_res_248362 + defunc_0_f_res_252643;
        float defunc_1_f_res_252651 = fromLO_res_248363 + defunc_0_f_res_252648;
        float defunc_1_f_res_252652 = defunc_1_f_res_252649 - x_252628;
        float defunc_1_f_res_252653 = defunc_1_f_res_252650 - x_252629;
        float defunc_1_f_res_252654 = defunc_1_f_res_252651 - x_252630;
        float defunc_1_f_res_252658 = defunc_1_f_res_252652 * defunc_1_f_res_252652;
        float defunc_1_f_res_252659 = defunc_1_f_res_252653 * defunc_1_f_res_252653;
        float defunc_1_f_res_252660 = defunc_1_f_res_252654 * defunc_1_f_res_252654;
        float defunc_1_f_res_252661 = defunc_1_f_res_252659 + defunc_1_f_res_252660;
        float defunc_0_f_res_252662 = defunc_1_f_res_252658 + defunc_1_f_res_252661;
        bool cond_252663 = defunc_0_f_res_252662 == 0.0F;
        float defunc_0_f_res_252664;
        
        if (cond_252663 == 1) {
            defunc_0_f_res_252664 = 0.0F;
        } else {
            float sqrt_res_252665 = futrts_sqrt32(defunc_0_f_res_252662);
            
            defunc_0_f_res_252664 = sqrt_res_252665;
        }
        ((float *) mem_271609)[i_270652] = defunc_0_f_res_252664;
    }
    if (mem_271622_cached_sizze_273360 < bytes_271621) {
        err = lexical_realloc(ctx, &mem_271622, &mem_271622_cached_sizze_273360, bytes_271621);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270658 = 0; i_270658 < dz2081U_164199; i_270658++) {
        float x_252609 = ((float *) z31U_mem_271599.mem)[i_270658];
        float defunc_2_reduce_res_262265;
        float redout_270654 = 0.0F;
        
        for (int64_t i_270655 = 0; i_270655 < dz2080U_164198; i_270655++) {
            float x_253006 = ((float *) mem_271609)[i_270655];
            float x_253007 = ((float *) z31U_mem_271598.mem)[i_270658 * dz2080U_164198 + i_270655];
            float defunc_1_f_res_253008 = x_253006 * x_253007;
            float defunc_1_op_res_252617 = defunc_1_f_res_253008 + redout_270654;
            float redout_tmp_273041 = defunc_1_op_res_252617;
            
            redout_270654 = redout_tmp_273041;
        }
        defunc_2_reduce_res_262265 = redout_270654;
        
        float defunc_1_f_res_252620 = x_252609 + defunc_2_reduce_res_262265;
        float arg_252622 = 0.0F - defunc_1_f_res_252620;
        float exp_arg_252623 = defunc_1_f_res_252620 * arg_252622;
        float exp_res_252624 = futrts_exp32(exp_arg_252623);
        
        ((float *) mem_271622)[i_270658] = exp_res_252624;
    }
    if (mem_271635_cached_sizze_273361 < bytes_271621) {
        err = lexical_realloc(ctx, &mem_271635, &mem_271635_cached_sizze_273361, bytes_271621);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270664 = 0; i_270664 < dz2081U_164199; i_270664++) {
        float x_252585 = ((float *) z31U_mem_271601.mem)[i_270664];
        float defunc_2_reduce_res_262266;
        float redout_270660 = 0.0F;
        
        for (int64_t i_270661 = 0; i_270661 < dz2081U_164199; i_270661++) {
            float x_253012 = ((float *) mem_271622)[i_270661];
            float x_253013 = ((float *) z31U_mem_271600.mem)[i_270664 * dz2081U_164199 + i_270661];
            float defunc_1_f_res_253014 = x_253012 * x_253013;
            float defunc_1_op_res_252593 = defunc_1_f_res_253014 + redout_270660;
            float redout_tmp_273043 = defunc_1_op_res_252593;
            
            redout_270660 = redout_tmp_273043;
        }
        defunc_2_reduce_res_262266 = redout_270660;
        
        float defunc_1_f_res_252596 = x_252585 + defunc_2_reduce_res_262266;
        float defunc_0_f_res_252598 = futrts_tanh32(defunc_1_f_res_252596);
        
        ((float *) mem_271635)[i_270664] = defunc_0_f_res_252598;
    }
    
    float defunc_2_reduce_res_262271;
    float redout_270668 = 0.0F;
    
    for (int64_t i_270669 = 0; i_270669 < dz2081U_164199; i_270669++) {
        float x_252559 = ((float *) z31U_mem_271603.mem)[i_270669];
        float x_252560 = ((float *) z31U_mem_271604.mem)[i_270669];
        float defunc_2_reduce_res_262267;
        float redout_270666 = 0.0F;
        
        for (int64_t i_270667 = 0; i_270667 < dz2081U_164199; i_270667++) {
            float x_253018 = ((float *) mem_271635)[i_270667];
            float x_253019 = ((float *) z31U_mem_271602.mem)[i_270669 * dz2081U_164199 + i_270667];
            float defunc_1_f_res_253020 = x_253018 * x_253019;
            float defunc_1_op_res_252568 = defunc_1_f_res_253020 + redout_270666;
            float redout_tmp_273045 = defunc_1_op_res_252568;
            
            redout_270666 = redout_tmp_273045;
        }
        defunc_2_reduce_res_262267 = redout_270666;
        
        float defunc_1_f_res_252571 = x_252559 + defunc_2_reduce_res_262267;
        float defunc_0_f_res_252573 = futrts_tanh32(defunc_1_f_res_252571);
        float defunc_1_f_res_252575 = x_252560 * defunc_0_f_res_252573;
        float defunc_1_op_res_248515 = defunc_1_f_res_252575 + redout_270668;
        float redout_tmp_273044 = defunc_1_op_res_248515;
        
        redout_270668 = redout_tmp_273044;
    }
    defunc_2_reduce_res_262271 = redout_270668;
    
    float defunc_0_f_res_241085 = softcut_res_248403 * defunc_2_reduce_res_262271;
    
    prim_out_273038 = defunc_0_f_res_241085;
    *out_prim_out_273358 = prim_out_273038;
    
  cleanup:
    {
        free(mem_271609);
        free(mem_271622);
        free(mem_271635);
    }
    return err;
}
static int futrts_entry_networkPotentialAbs(struct futhark_context *ctx, float *out_prim_out_273362, struct memblock z31U_mem_271592, struct memblock z31U_mem_271593, struct memblock z31U_mem_271594, struct memblock z31U_mem_271595, struct memblock z31U_mem_271596, struct memblock z31U_mem_271597, struct memblock z31U_mem_271598, struct memblock z31U_mem_271599, struct memblock z31U_mem_271600, struct memblock z31U_mem_271601, struct memblock z31U_mem_271602, struct memblock z31U_mem_271603, struct memblock z31U_mem_271604, struct memblock location0_mem_271605, struct memblock orientation0_mem_271606, struct memblock location1_mem_271607, struct memblock orientation1_mem_271608, int64_t dz2080U_183380, int64_t dz2081U_183381, int8_t z30U_183382, float z30U_183383, float z30U_183384, float z30U_183385, float z30U_183386, float z30U_183387, float z30U_183388, float z30U_183389, float z30U_183390, float z30U_183391, float z30U_183392, float z30U_183393, float z30U_183394, float z30U_183395, int32_t z30U_183396)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_271611_cached_sizze_273363 = 0;
    unsigned char *mem_271611 = NULL;
    int64_t mem_271624_cached_sizze_273364 = 0;
    unsigned char *mem_271624 = NULL;
    int64_t mem_271637_cached_sizze_273365 = 0;
    unsigned char *mem_271637 = NULL;
    float prim_out_273038;
    int64_t binop_y_271609 = (int64_t) 4 * dz2080U_183380;
    int64_t bytes_271610 = smax64((int64_t) 0, binop_y_271609);
    int64_t binop_y_271622 = (int64_t) 4 * dz2081U_183381;
    int64_t bytes_271623 = smax64((int64_t) 0, binop_y_271622);
    float fromLO_res_248361 = ((float *) location1_mem_271607.mem)[(int64_t) 0];
    float fromLO_res_248362 = ((float *) location1_mem_271607.mem)[(int64_t) 1];
    float fromLO_res_248363 = ((float *) location1_mem_271607.mem)[(int64_t) 2];
    float quaternion_arg_248364 = ((float *) orientation1_mem_271608.mem)[(int64_t) 1];
    float quaternion_arg_248365 = ((float *) orientation1_mem_271608.mem)[(int64_t) 2];
    float quaternion_arg_248366 = ((float *) orientation1_mem_271608.mem)[(int64_t) 3];
    float quaternion_arg_248367 = ((float *) orientation1_mem_271608.mem)[(int64_t) 0];
    float fromLO_res_248370 = ((float *) location0_mem_271605.mem)[(int64_t) 0];
    float fromLO_res_248371 = ((float *) location0_mem_271605.mem)[(int64_t) 1];
    float fromLO_res_248372 = ((float *) location0_mem_271605.mem)[(int64_t) 2];
    float quaternion_arg_248373 = ((float *) orientation0_mem_271606.mem)[(int64_t) 1];
    float quaternion_arg_248374 = ((float *) orientation0_mem_271606.mem)[(int64_t) 2];
    float quaternion_arg_248375 = ((float *) orientation0_mem_271606.mem)[(int64_t) 3];
    float quaternion_arg_248376 = ((float *) orientation0_mem_271606.mem)[(int64_t) 0];
    float defunc_1_f_res_252235 = fromLO_res_248361 - fromLO_res_248370;
    float defunc_1_f_res_252236 = fromLO_res_248362 - fromLO_res_248371;
    float defunc_1_f_res_252237 = fromLO_res_248363 - fromLO_res_248372;
    float defunc_0_f_res_252238 = 0.0F - quaternion_arg_248373;
    float defunc_0_f_res_252239 = 0.0F - quaternion_arg_248374;
    float defunc_0_f_res_252240 = 0.0F - quaternion_arg_248375;
    float defunc_0_f_res_252241 = 0.0F - defunc_0_f_res_252238;
    float defunc_0_f_res_252242 = 0.0F - defunc_0_f_res_252239;
    float defunc_0_f_res_252243 = 0.0F - defunc_0_f_res_252240;
    float defunc_1_f_res_252244 = defunc_1_f_res_252235 * defunc_0_f_res_252238;
    float defunc_1_f_res_252245 = defunc_1_f_res_252236 * defunc_0_f_res_252239;
    float defunc_1_f_res_252246 = defunc_1_f_res_252237 * defunc_0_f_res_252240;
    float defunc_1_f_res_252247 = defunc_1_f_res_252245 + defunc_1_f_res_252246;
    float defunc_0_f_res_252248 = defunc_1_f_res_252244 + defunc_1_f_res_252247;
    float qMult_res_252249 = 0.0F - defunc_0_f_res_252248;
    float arg_252250 = defunc_1_f_res_252237 * defunc_0_f_res_252239;
    float arg_252251 = defunc_1_f_res_252236 * defunc_0_f_res_252240;
    float cross_res_252252 = arg_252250 - arg_252251;
    float arg_252253 = defunc_1_f_res_252235 * defunc_0_f_res_252240;
    float arg_252254 = defunc_1_f_res_252237 * defunc_0_f_res_252238;
    float cross_res_252255 = arg_252253 - arg_252254;
    float arg_252256 = defunc_1_f_res_252236 * defunc_0_f_res_252238;
    float arg_252257 = defunc_1_f_res_252235 * defunc_0_f_res_252239;
    float cross_res_252258 = arg_252256 - arg_252257;
    float defunc_0_f_res_252259 = quaternion_arg_248376 * defunc_1_f_res_252235;
    float defunc_0_f_res_252260 = quaternion_arg_248376 * defunc_1_f_res_252236;
    float defunc_0_f_res_252261 = quaternion_arg_248376 * defunc_1_f_res_252237;
    float defunc_1_f_res_252262 = cross_res_252252 + defunc_0_f_res_252259;
    float defunc_1_f_res_252263 = cross_res_252255 + defunc_0_f_res_252260;
    float defunc_1_f_res_252264 = cross_res_252258 + defunc_0_f_res_252261;
    float arg_252265 = defunc_0_f_res_252243 * defunc_1_f_res_252263;
    float arg_252266 = defunc_0_f_res_252242 * defunc_1_f_res_252264;
    float cross_res_252267 = arg_252265 - arg_252266;
    float arg_252268 = defunc_0_f_res_252241 * defunc_1_f_res_252264;
    float arg_252269 = defunc_0_f_res_252243 * defunc_1_f_res_252262;
    float cross_res_252270 = arg_252268 - arg_252269;
    float arg_252271 = defunc_0_f_res_252242 * defunc_1_f_res_252262;
    float arg_252272 = defunc_0_f_res_252241 * defunc_1_f_res_252263;
    float cross_res_252273 = arg_252271 - arg_252272;
    float defunc_0_f_res_252274 = quaternion_arg_248376 * defunc_1_f_res_252262;
    float defunc_0_f_res_252275 = quaternion_arg_248376 * defunc_1_f_res_252263;
    float defunc_0_f_res_252276 = quaternion_arg_248376 * defunc_1_f_res_252264;
    float defunc_0_f_res_252277 = defunc_0_f_res_252241 * qMult_res_252249;
    float defunc_0_f_res_252278 = defunc_0_f_res_252242 * qMult_res_252249;
    float defunc_0_f_res_252279 = defunc_0_f_res_252243 * qMult_res_252249;
    float defunc_1_f_res_252280 = defunc_0_f_res_252274 + defunc_0_f_res_252277;
    float defunc_1_f_res_252281 = defunc_0_f_res_252275 + defunc_0_f_res_252278;
    float defunc_1_f_res_252282 = defunc_0_f_res_252276 + defunc_0_f_res_252279;
    float defunc_1_f_res_252283 = cross_res_252267 + defunc_1_f_res_252280;
    float defunc_1_f_res_252284 = cross_res_252270 + defunc_1_f_res_252281;
    float defunc_1_f_res_252285 = cross_res_252273 + defunc_1_f_res_252282;
    float arg_252286 = quaternion_arg_248367 * quaternion_arg_248376;
    float defunc_1_f_res_252287 = quaternion_arg_248364 * defunc_0_f_res_252238;
    float defunc_1_f_res_252288 = quaternion_arg_248365 * defunc_0_f_res_252239;
    float defunc_1_f_res_252289 = quaternion_arg_248366 * defunc_0_f_res_252240;
    float defunc_1_f_res_252290 = defunc_1_f_res_252288 + defunc_1_f_res_252289;
    float defunc_0_f_res_252291 = defunc_1_f_res_252287 + defunc_1_f_res_252290;
    float qMult_res_252292 = arg_252286 - defunc_0_f_res_252291;
    float arg_252293 = quaternion_arg_248366 * defunc_0_f_res_252239;
    float arg_252294 = quaternion_arg_248365 * defunc_0_f_res_252240;
    float cross_res_252295 = arg_252293 - arg_252294;
    float arg_252296 = quaternion_arg_248364 * defunc_0_f_res_252240;
    float arg_252297 = quaternion_arg_248366 * defunc_0_f_res_252238;
    float cross_res_252298 = arg_252296 - arg_252297;
    float arg_252299 = quaternion_arg_248365 * defunc_0_f_res_252238;
    float arg_252300 = quaternion_arg_248364 * defunc_0_f_res_252239;
    float cross_res_252301 = arg_252299 - arg_252300;
    float defunc_0_f_res_252302 = quaternion_arg_248367 * defunc_0_f_res_252238;
    float defunc_0_f_res_252303 = quaternion_arg_248367 * defunc_0_f_res_252239;
    float defunc_0_f_res_252304 = quaternion_arg_248367 * defunc_0_f_res_252240;
    float defunc_0_f_res_252305 = quaternion_arg_248364 * quaternion_arg_248376;
    float defunc_0_f_res_252306 = quaternion_arg_248365 * quaternion_arg_248376;
    float defunc_0_f_res_252307 = quaternion_arg_248366 * quaternion_arg_248376;
    float defunc_1_f_res_252308 = defunc_0_f_res_252302 + defunc_0_f_res_252305;
    float defunc_1_f_res_252309 = defunc_0_f_res_252303 + defunc_0_f_res_252306;
    float defunc_1_f_res_252310 = defunc_0_f_res_252304 + defunc_0_f_res_252307;
    float defunc_1_f_res_252311 = cross_res_252295 + defunc_1_f_res_252308;
    float defunc_1_f_res_252312 = cross_res_252298 + defunc_1_f_res_252309;
    float defunc_1_f_res_252313 = cross_res_252301 + defunc_1_f_res_252310;
    float distanceFunction_res_240905;
    
    if (z30U_183382 == (int8_t) 1) {
        float defunc_0_f_res_262006 = 0.0F - defunc_1_f_res_252311;
        float defunc_0_f_res_262007 = 0.0F - defunc_1_f_res_252312;
        float defunc_0_f_res_262008 = 0.0F - defunc_1_f_res_252313;
        float defunc_1_f_res_262009 = z30U_183386 * defunc_1_f_res_252311;
        float defunc_1_f_res_262010 = z30U_183387 * defunc_1_f_res_252312;
        float defunc_1_f_res_262011 = z30U_183388 * defunc_1_f_res_252313;
        float defunc_1_f_res_262012 = defunc_1_f_res_262010 + defunc_1_f_res_262011;
        float defunc_0_f_res_262013 = defunc_1_f_res_262009 + defunc_1_f_res_262012;
        float qMult_res_262014 = 0.0F - defunc_0_f_res_262013;
        float arg_262015 = z30U_183388 * defunc_1_f_res_252312;
        float arg_262016 = z30U_183387 * defunc_1_f_res_252313;
        float cross_res_262017 = arg_262015 - arg_262016;
        float arg_262018 = z30U_183386 * defunc_1_f_res_252313;
        float arg_262019 = z30U_183388 * defunc_1_f_res_252311;
        float cross_res_262020 = arg_262018 - arg_262019;
        float arg_262021 = z30U_183387 * defunc_1_f_res_252311;
        float arg_262022 = z30U_183386 * defunc_1_f_res_252312;
        float cross_res_262023 = arg_262021 - arg_262022;
        float defunc_0_f_res_262024 = z30U_183386 * qMult_res_252292;
        float defunc_0_f_res_262025 = z30U_183387 * qMult_res_252292;
        float defunc_0_f_res_262026 = z30U_183388 * qMult_res_252292;
        float defunc_1_f_res_262027 = cross_res_262017 + defunc_0_f_res_262024;
        float defunc_1_f_res_262028 = cross_res_262020 + defunc_0_f_res_262025;
        float defunc_1_f_res_262029 = cross_res_262023 + defunc_0_f_res_262026;
        float arg_262030 = defunc_0_f_res_262008 * defunc_1_f_res_262028;
        float arg_262031 = defunc_0_f_res_262007 * defunc_1_f_res_262029;
        float cross_res_262032 = arg_262030 - arg_262031;
        float arg_262033 = defunc_0_f_res_262006 * defunc_1_f_res_262029;
        float arg_262034 = defunc_0_f_res_262008 * defunc_1_f_res_262027;
        float cross_res_262035 = arg_262033 - arg_262034;
        float arg_262036 = defunc_0_f_res_262007 * defunc_1_f_res_262027;
        float arg_262037 = defunc_0_f_res_262006 * defunc_1_f_res_262028;
        float cross_res_262038 = arg_262036 - arg_262037;
        float defunc_0_f_res_262039 = qMult_res_252292 * defunc_1_f_res_262027;
        float defunc_0_f_res_262040 = qMult_res_252292 * defunc_1_f_res_262028;
        float defunc_0_f_res_262041 = qMult_res_252292 * defunc_1_f_res_262029;
        float defunc_0_f_res_262042 = defunc_0_f_res_262006 * qMult_res_262014;
        float defunc_0_f_res_262043 = defunc_0_f_res_262007 * qMult_res_262014;
        float defunc_0_f_res_262044 = defunc_0_f_res_262008 * qMult_res_262014;
        float defunc_1_f_res_262045 = defunc_0_f_res_262039 + defunc_0_f_res_262042;
        float defunc_1_f_res_262046 = defunc_0_f_res_262040 + defunc_0_f_res_262043;
        float defunc_1_f_res_262047 = defunc_0_f_res_262041 + defunc_0_f_res_262044;
        float defunc_1_f_res_262048 = cross_res_262032 + defunc_1_f_res_262045;
        float defunc_1_f_res_262049 = cross_res_262035 + defunc_1_f_res_262046;
        float defunc_1_f_res_262050 = cross_res_262038 + defunc_1_f_res_262047;
        float defunc_0_f_res_262051 = 0.0F - defunc_1_f_res_252283;
        float defunc_0_f_res_262052 = 0.0F - defunc_1_f_res_252284;
        float defunc_0_f_res_262053 = 0.0F - defunc_1_f_res_252285;
        float defunc_1_f_res_262054 = z30U_183383 * z30U_183383;
        float defunc_1_f_res_262055 = z30U_183384 * z30U_183384;
        float defunc_1_f_res_262056 = z30U_183385 * z30U_183385;
        float defunc_1_f_res_262057 = defunc_1_f_res_262055 + defunc_1_f_res_262056;
        float defunc_0_f_res_262058 = defunc_1_f_res_262054 + defunc_1_f_res_262057;
        float defunc_1_f_res_262059 = z30U_183383 * defunc_1_f_res_262048;
        float defunc_1_f_res_262060 = z30U_183384 * defunc_1_f_res_262049;
        float defunc_1_f_res_262061 = z30U_183385 * defunc_1_f_res_262050;
        float defunc_1_f_res_262062 = defunc_1_f_res_262060 + defunc_1_f_res_262061;
        float defunc_0_f_res_262063 = defunc_1_f_res_262059 + defunc_1_f_res_262062;
        float defunc_1_f_res_262064 = z30U_183383 * defunc_0_f_res_262051;
        float defunc_1_f_res_262065 = z30U_183384 * defunc_0_f_res_262052;
        float defunc_1_f_res_262066 = z30U_183385 * defunc_0_f_res_262053;
        float defunc_1_f_res_262067 = defunc_1_f_res_262065 + defunc_1_f_res_262066;
        float defunc_0_f_res_262068 = defunc_1_f_res_262064 + defunc_1_f_res_262067;
        float defunc_1_f_res_262069 = defunc_1_f_res_262048 * defunc_1_f_res_262048;
        float defunc_1_f_res_262070 = defunc_1_f_res_262049 * defunc_1_f_res_262049;
        float defunc_1_f_res_262071 = defunc_1_f_res_262050 * defunc_1_f_res_262050;
        float defunc_1_f_res_262072 = defunc_1_f_res_262070 + defunc_1_f_res_262071;
        float defunc_0_f_res_262073 = defunc_1_f_res_262069 + defunc_1_f_res_262072;
        float defunc_1_f_res_262074 = defunc_1_f_res_262048 * defunc_0_f_res_262051;
        float defunc_1_f_res_262075 = defunc_1_f_res_262049 * defunc_0_f_res_262052;
        float defunc_1_f_res_262076 = defunc_1_f_res_262050 * defunc_0_f_res_262053;
        float defunc_1_f_res_262077 = defunc_1_f_res_262075 + defunc_1_f_res_262076;
        float defunc_0_f_res_262078 = defunc_1_f_res_262074 + defunc_1_f_res_262077;
        float arg_262079 = defunc_0_f_res_262058 * defunc_0_f_res_262073;
        float arg_262080 = defunc_0_f_res_262063 * defunc_0_f_res_262063;
        float det_262081 = arg_262079 - arg_262080;
        float arg_262082 = defunc_0_f_res_262068 * defunc_0_f_res_262073;
        float arg_262083 = defunc_0_f_res_262063 * defunc_0_f_res_262078;
        float arg_262084 = arg_262082 - arg_262083;
        float i_m_262085 = arg_262084 / det_262081;
        float arg_262086 = defunc_0_f_res_262058 * defunc_0_f_res_262078;
        float arg_262087 = defunc_0_f_res_262063 * defunc_0_f_res_262068;
        float arg_262088 = arg_262086 - arg_262087;
        float j_m_262089 = arg_262088 / det_262081;
        float arg_262090 = defunc_0_f_res_262068 - defunc_0_f_res_262063;
        float i_p_262091 = arg_262090 / defunc_0_f_res_262058;
        float arg_262092 = defunc_0_f_res_262063 + defunc_0_f_res_262068;
        float i_n_262093 = arg_262092 / defunc_0_f_res_262058;
        float arg_262094 = defunc_0_f_res_262078 - defunc_0_f_res_262063;
        float j_p_262095 = arg_262094 / defunc_0_f_res_262073;
        float arg_262096 = defunc_0_f_res_262063 + defunc_0_f_res_262078;
        float j_n_262097 = arg_262096 / defunc_0_f_res_262073;
        bool cond_262098 = det_262081 == 0.0F;
        bool cond_262099 = !cond_262098;
        bool cond_262100 = -1.0F <= i_m_262085;
        bool lifted_valid_res_t_res_262101 = i_m_262085 <= 1.0F;
        bool x_262102 = cond_262100 && lifted_valid_res_t_res_262101;
        bool x_262103 = cond_262099 && x_262102;
        bool cond_262104 = -1.0F <= j_m_262089;
        bool lifted_valid_res_t_res_262105 = j_m_262089 <= 1.0F;
        bool x_262106 = cond_262104 && lifted_valid_res_t_res_262105;
        bool x_262107 = x_262103 && x_262106;
        float rodDistance_res_262108;
        
        if (x_262107 == 1) {
            float defunc_0_f_res_262109 = defunc_1_f_res_262048 * j_m_262089;
            float defunc_0_f_res_262110 = defunc_1_f_res_262049 * j_m_262089;
            float defunc_0_f_res_262111 = defunc_1_f_res_262050 * j_m_262089;
            float defunc_0_f_res_262112 = z30U_183383 * i_m_262085;
            float defunc_0_f_res_262113 = z30U_183384 * i_m_262085;
            float defunc_0_f_res_262114 = z30U_183385 * i_m_262085;
            float defunc_1_f_res_262115 = defunc_0_f_res_262109 + defunc_0_f_res_262112;
            float defunc_1_f_res_262116 = defunc_0_f_res_262110 + defunc_0_f_res_262113;
            float defunc_1_f_res_262117 = defunc_0_f_res_262111 + defunc_0_f_res_262114;
            float defunc_1_f_res_262118 = defunc_1_f_res_262115 - defunc_0_f_res_262051;
            float defunc_1_f_res_262119 = defunc_1_f_res_262116 - defunc_0_f_res_262052;
            float defunc_1_f_res_262120 = defunc_1_f_res_262117 - defunc_0_f_res_262053;
            float defunc_1_f_res_262121 = defunc_1_f_res_262118 * defunc_1_f_res_262118;
            float defunc_1_f_res_262122 = defunc_1_f_res_262119 * defunc_1_f_res_262119;
            float defunc_1_f_res_262123 = defunc_1_f_res_262120 * defunc_1_f_res_262120;
            float defunc_1_f_res_262124 = defunc_1_f_res_262122 + defunc_1_f_res_262123;
            float defunc_0_f_res_262125 = defunc_1_f_res_262121 + defunc_1_f_res_262124;
            float sqrt_res_262126 = futrts_sqrt32(defunc_0_f_res_262125);
            
            rodDistance_res_262108 = sqrt_res_262126;
        } else {
            float defunc_0_f_res_262127 = -1.0F * defunc_1_f_res_262048;
            float defunc_0_f_res_262128 = -1.0F * defunc_1_f_res_262049;
            float defunc_0_f_res_262129 = -1.0F * defunc_1_f_res_262050;
            float defunc_0_f_res_262130 = -1.0F * z30U_183383;
            float defunc_0_f_res_262131 = -1.0F * z30U_183384;
            float defunc_0_f_res_262132 = -1.0F * z30U_183385;
            float defunc_1_f_res_262133 = defunc_0_f_res_262127 + defunc_0_f_res_262130;
            float defunc_1_f_res_262134 = defunc_0_f_res_262128 + defunc_0_f_res_262131;
            float defunc_1_f_res_262135 = defunc_0_f_res_262129 + defunc_0_f_res_262132;
            float defunc_1_f_res_262136 = defunc_1_f_res_262133 - defunc_0_f_res_262051;
            float defunc_1_f_res_262137 = defunc_1_f_res_262134 - defunc_0_f_res_262052;
            float defunc_1_f_res_262138 = defunc_1_f_res_262135 - defunc_0_f_res_262053;
            float defunc_1_f_res_262139 = defunc_1_f_res_262136 * defunc_1_f_res_262136;
            float defunc_1_f_res_262140 = defunc_1_f_res_262137 * defunc_1_f_res_262137;
            float defunc_1_f_res_262141 = defunc_1_f_res_262138 * defunc_1_f_res_262138;
            float defunc_1_f_res_262142 = defunc_1_f_res_262140 + defunc_1_f_res_262141;
            float defunc_0_f_res_262143 = defunc_1_f_res_262139 + defunc_1_f_res_262142;
            float defunc_1_f_res_262144 = defunc_1_f_res_262048 + defunc_0_f_res_262130;
            float defunc_1_f_res_262145 = defunc_1_f_res_262049 + defunc_0_f_res_262131;
            float defunc_1_f_res_262146 = defunc_1_f_res_262050 + defunc_0_f_res_262132;
            float defunc_1_f_res_262147 = defunc_1_f_res_262144 - defunc_0_f_res_262051;
            float defunc_1_f_res_262148 = defunc_1_f_res_262145 - defunc_0_f_res_262052;
            float defunc_1_f_res_262149 = defunc_1_f_res_262146 - defunc_0_f_res_262053;
            float defunc_1_f_res_262150 = defunc_1_f_res_262147 * defunc_1_f_res_262147;
            float defunc_1_f_res_262151 = defunc_1_f_res_262148 * defunc_1_f_res_262148;
            float defunc_1_f_res_262152 = defunc_1_f_res_262149 * defunc_1_f_res_262149;
            float defunc_1_f_res_262153 = defunc_1_f_res_262151 + defunc_1_f_res_262152;
            float defunc_0_f_res_262154 = defunc_1_f_res_262150 + defunc_1_f_res_262153;
            float defunc_1_f_res_262155 = z30U_183383 + defunc_0_f_res_262127;
            float defunc_1_f_res_262156 = z30U_183384 + defunc_0_f_res_262128;
            float defunc_1_f_res_262157 = z30U_183385 + defunc_0_f_res_262129;
            float defunc_1_f_res_262158 = defunc_1_f_res_262155 - defunc_0_f_res_262051;
            float defunc_1_f_res_262159 = defunc_1_f_res_262156 - defunc_0_f_res_262052;
            float defunc_1_f_res_262160 = defunc_1_f_res_262157 - defunc_0_f_res_262053;
            float defunc_1_f_res_262161 = defunc_1_f_res_262158 * defunc_1_f_res_262158;
            float defunc_1_f_res_262162 = defunc_1_f_res_262159 * defunc_1_f_res_262159;
            float defunc_1_f_res_262163 = defunc_1_f_res_262160 * defunc_1_f_res_262160;
            float defunc_1_f_res_262164 = defunc_1_f_res_262162 + defunc_1_f_res_262163;
            float defunc_0_f_res_262165 = defunc_1_f_res_262161 + defunc_1_f_res_262164;
            float defunc_1_f_res_262166 = z30U_183383 + defunc_1_f_res_262048;
            float defunc_1_f_res_262167 = z30U_183384 + defunc_1_f_res_262049;
            float defunc_1_f_res_262168 = z30U_183385 + defunc_1_f_res_262050;
            float defunc_1_f_res_262169 = defunc_1_f_res_262166 - defunc_0_f_res_262051;
            float defunc_1_f_res_262170 = defunc_1_f_res_262167 - defunc_0_f_res_262052;
            float defunc_1_f_res_262171 = defunc_1_f_res_262168 - defunc_0_f_res_262053;
            float defunc_1_f_res_262172 = defunc_1_f_res_262169 * defunc_1_f_res_262169;
            float defunc_1_f_res_262173 = defunc_1_f_res_262170 * defunc_1_f_res_262170;
            float defunc_1_f_res_262174 = defunc_1_f_res_262171 * defunc_1_f_res_262171;
            float defunc_1_f_res_262175 = defunc_1_f_res_262173 + defunc_1_f_res_262174;
            float defunc_0_f_res_262176 = defunc_1_f_res_262172 + defunc_1_f_res_262175;
            bool cond_262177 = -1.0F <= j_n_262097;
            bool lifted_valid_res_t_res_262178 = j_n_262097 <= 1.0F;
            bool x_262179 = cond_262177 && lifted_valid_res_t_res_262178;
            float min_arg_262180;
            
            if (x_262179 == 1) {
                float defunc_0_f_res_262181 = defunc_1_f_res_262048 * j_n_262097;
                float defunc_0_f_res_262182 = defunc_1_f_res_262049 * j_n_262097;
                float defunc_0_f_res_262183 = defunc_1_f_res_262050 * j_n_262097;
                float defunc_1_f_res_262184 = defunc_0_f_res_262130 + defunc_0_f_res_262181;
                float defunc_1_f_res_262185 = defunc_0_f_res_262131 + defunc_0_f_res_262182;
                float defunc_1_f_res_262186 = defunc_0_f_res_262132 + defunc_0_f_res_262183;
                float defunc_1_f_res_262187 = defunc_1_f_res_262184 - defunc_0_f_res_262051;
                float defunc_1_f_res_262188 = defunc_1_f_res_262185 - defunc_0_f_res_262052;
                float defunc_1_f_res_262189 = defunc_1_f_res_262186 - defunc_0_f_res_262053;
                float defunc_1_f_res_262190 = defunc_1_f_res_262187 * defunc_1_f_res_262187;
                float defunc_1_f_res_262191 = defunc_1_f_res_262188 * defunc_1_f_res_262188;
                float defunc_1_f_res_262192 = defunc_1_f_res_262189 * defunc_1_f_res_262189;
                float defunc_1_f_res_262193 = defunc_1_f_res_262191 + defunc_1_f_res_262192;
                float defunc_0_f_res_262194 = defunc_1_f_res_262190 + defunc_1_f_res_262193;
                
                min_arg_262180 = defunc_0_f_res_262194;
            } else {
                min_arg_262180 = INFINITY;
            }
            
            bool cond_262195 = -1.0F <= j_p_262095;
            bool lifted_valid_res_t_res_262196 = j_p_262095 <= 1.0F;
            bool x_262197 = cond_262195 && lifted_valid_res_t_res_262196;
            float min_arg_262198;
            
            if (x_262197 == 1) {
                float defunc_0_f_res_262199 = defunc_1_f_res_262048 * j_p_262095;
                float defunc_0_f_res_262200 = defunc_1_f_res_262049 * j_p_262095;
                float defunc_0_f_res_262201 = defunc_1_f_res_262050 * j_p_262095;
                float defunc_1_f_res_262202 = z30U_183383 + defunc_0_f_res_262199;
                float defunc_1_f_res_262203 = z30U_183384 + defunc_0_f_res_262200;
                float defunc_1_f_res_262204 = z30U_183385 + defunc_0_f_res_262201;
                float defunc_1_f_res_262205 = defunc_1_f_res_262202 - defunc_0_f_res_262051;
                float defunc_1_f_res_262206 = defunc_1_f_res_262203 - defunc_0_f_res_262052;
                float defunc_1_f_res_262207 = defunc_1_f_res_262204 - defunc_0_f_res_262053;
                float defunc_1_f_res_262208 = defunc_1_f_res_262205 * defunc_1_f_res_262205;
                float defunc_1_f_res_262209 = defunc_1_f_res_262206 * defunc_1_f_res_262206;
                float defunc_1_f_res_262210 = defunc_1_f_res_262207 * defunc_1_f_res_262207;
                float defunc_1_f_res_262211 = defunc_1_f_res_262209 + defunc_1_f_res_262210;
                float defunc_0_f_res_262212 = defunc_1_f_res_262208 + defunc_1_f_res_262211;
                
                min_arg_262198 = defunc_0_f_res_262212;
            } else {
                min_arg_262198 = INFINITY;
            }
            
            bool cond_262213 = -1.0F <= i_n_262093;
            bool lifted_valid_res_t_res_262214 = i_n_262093 <= 1.0F;
            bool x_262215 = cond_262213 && lifted_valid_res_t_res_262214;
            float min_arg_262216;
            
            if (x_262215 == 1) {
                float defunc_0_f_res_262217 = z30U_183383 * i_n_262093;
                float defunc_0_f_res_262218 = z30U_183384 * i_n_262093;
                float defunc_0_f_res_262219 = z30U_183385 * i_n_262093;
                float defunc_1_f_res_262220 = defunc_0_f_res_262127 + defunc_0_f_res_262217;
                float defunc_1_f_res_262221 = defunc_0_f_res_262128 + defunc_0_f_res_262218;
                float defunc_1_f_res_262222 = defunc_0_f_res_262129 + defunc_0_f_res_262219;
                float defunc_1_f_res_262223 = defunc_1_f_res_262220 - defunc_0_f_res_262051;
                float defunc_1_f_res_262224 = defunc_1_f_res_262221 - defunc_0_f_res_262052;
                float defunc_1_f_res_262225 = defunc_1_f_res_262222 - defunc_0_f_res_262053;
                float defunc_1_f_res_262226 = defunc_1_f_res_262223 * defunc_1_f_res_262223;
                float defunc_1_f_res_262227 = defunc_1_f_res_262224 * defunc_1_f_res_262224;
                float defunc_1_f_res_262228 = defunc_1_f_res_262225 * defunc_1_f_res_262225;
                float defunc_1_f_res_262229 = defunc_1_f_res_262227 + defunc_1_f_res_262228;
                float defunc_0_f_res_262230 = defunc_1_f_res_262226 + defunc_1_f_res_262229;
                
                min_arg_262216 = defunc_0_f_res_262230;
            } else {
                min_arg_262216 = INFINITY;
            }
            
            bool cond_262231 = -1.0F <= i_p_262091;
            bool lifted_valid_res_t_res_262232 = i_p_262091 <= 1.0F;
            bool x_262233 = cond_262231 && lifted_valid_res_t_res_262232;
            float min_arg_262234;
            
            if (x_262233 == 1) {
                float defunc_0_f_res_262235 = z30U_183383 * i_p_262091;
                float defunc_0_f_res_262236 = z30U_183384 * i_p_262091;
                float defunc_0_f_res_262237 = z30U_183385 * i_p_262091;
                float defunc_1_f_res_262238 = defunc_1_f_res_262048 + defunc_0_f_res_262235;
                float defunc_1_f_res_262239 = defunc_1_f_res_262049 + defunc_0_f_res_262236;
                float defunc_1_f_res_262240 = defunc_1_f_res_262050 + defunc_0_f_res_262237;
                float defunc_1_f_res_262241 = defunc_1_f_res_262238 - defunc_0_f_res_262051;
                float defunc_1_f_res_262242 = defunc_1_f_res_262239 - defunc_0_f_res_262052;
                float defunc_1_f_res_262243 = defunc_1_f_res_262240 - defunc_0_f_res_262053;
                float defunc_1_f_res_262244 = defunc_1_f_res_262241 * defunc_1_f_res_262241;
                float defunc_1_f_res_262245 = defunc_1_f_res_262242 * defunc_1_f_res_262242;
                float defunc_1_f_res_262246 = defunc_1_f_res_262243 * defunc_1_f_res_262243;
                float defunc_1_f_res_262247 = defunc_1_f_res_262245 + defunc_1_f_res_262246;
                float defunc_0_f_res_262248 = defunc_1_f_res_262244 + defunc_1_f_res_262247;
                
                min_arg_262234 = defunc_0_f_res_262248;
            } else {
                min_arg_262234 = INFINITY;
            }
            
            float min_res_262249 = fmin32(min_arg_262216, min_arg_262234);
            float min_res_262250 = fmin32(min_arg_262198, min_res_262249);
            float min_res_262251 = fmin32(min_arg_262180, min_res_262250);
            float min_res_262252 = fmin32(defunc_0_f_res_262176, min_res_262251);
            float min_res_262253 = fmin32(defunc_0_f_res_262165, min_res_262252);
            float min_res_262254 = fmin32(defunc_0_f_res_262154, min_res_262253);
            float min_res_262255 = fmin32(defunc_0_f_res_262143, min_res_262254);
            float sqrt_res_262256 = futrts_sqrt32(min_res_262255);
            
            rodDistance_res_262108 = sqrt_res_262256;
        }
        distanceFunction_res_240905 = rodDistance_res_262108;
    } else if (z30U_183382 == (int8_t) 2) {
        float defunc_1_f_res_261926 = defunc_1_f_res_252283 * defunc_1_f_res_252283;
        float defunc_1_f_res_261927 = defunc_1_f_res_252284 * defunc_1_f_res_252284;
        float defunc_1_f_res_261928 = defunc_1_f_res_252285 * defunc_1_f_res_252285;
        float defunc_1_f_res_261929 = defunc_1_f_res_261927 + defunc_1_f_res_261928;
        float defunc_0_f_res_261930 = defunc_1_f_res_261926 + defunc_1_f_res_261929;
        float sqrt_res_261931 = futrts_sqrt32(defunc_0_f_res_261930);
        
        distanceFunction_res_240905 = sqrt_res_261931;
    } else {
        bool hole_c_240970;
        
        if (!0) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Reached hole of type: f32", "-> #0  potential.fut:141:59-61\n   #1  potential.fut:190:26-47\n   #2  potential.fut:434:57-81\n   #3  network.fut:25:28-32\n   #4  network.fut:152:24-42\n   #5  network.fut:110:23-40\n   #6  network.fut:140:23-41\n   #7  network.fut:109:23-40\n   #8  network.fut:128:23-41\n   #9  potential.fut:373:24-69\n   #10 futhark_interaction.fut:37:9-38:84\n   #11 futhark_interaction.fut:32:1-39:10\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        distanceFunction_res_240905 = 0.0F;
    }
    
    float softcut_arg_240971 = distanceFunction_res_240905 / z30U_183395;
    float i32_res_248409 = sitofp_i32_f32(z30U_183396);
    float abs_res_248410 = (float) fabs(softcut_arg_240971);
    bool cond_248411 = abs_res_248410 < 1.0F;
    float softcut_res_248412;
    
    if (cond_248411 == 1) {
        float arg_262257 = softcut_arg_240971 * softcut_arg_240971;
        float arg_262258 = arg_262257 - 1.0F;
        float arg_262259 = i32_res_248409 * arg_262258;
        float arg_262260 = arg_262259 - 1.0F;
        float arg_262261 = 2.0F * i32_res_248409;
        float arg_262262 = fpow32(softcut_arg_240971, arg_262261);
        float arg_262263 = arg_262260 * arg_262262;
        float softcut_res_t_res_262264 = 1.0F + arg_262263;
        
        softcut_res_248412 = softcut_res_t_res_262264;
    } else {
        softcut_res_248412 = 0.0F;
    }
    
    float aa_248425 = qMult_res_252292 * qMult_res_252292;
    float ab_248426 = qMult_res_252292 * defunc_1_f_res_252311;
    float ac_248427 = qMult_res_252292 * defunc_1_f_res_252312;
    float ad_248428 = qMult_res_252292 * defunc_1_f_res_252313;
    float bb_248429 = defunc_1_f_res_252311 * defunc_1_f_res_252311;
    float bc_248430 = defunc_1_f_res_252311 * defunc_1_f_res_252312;
    float bd_248431 = defunc_1_f_res_252311 * defunc_1_f_res_252313;
    float cc_248432 = defunc_1_f_res_252312 * defunc_1_f_res_252312;
    float cd_248433 = defunc_1_f_res_252312 * defunc_1_f_res_252313;
    float dd_248434 = defunc_1_f_res_252313 * defunc_1_f_res_252313;
    float arg_248435 = aa_248425 + bb_248429;
    float arg_248436 = arg_248435 - cc_248432;
    float m33fromQuaternion_res_248437 = arg_248436 - dd_248434;
    float arg_248438 = bc_248430 - ad_248428;
    float m33fromQuaternion_res_248439 = 2.0F * arg_248438;
    float arg_248440 = ac_248427 + bd_248431;
    float m33fromQuaternion_res_248441 = 2.0F * arg_248440;
    float arg_248442 = ad_248428 + bc_248430;
    float m33fromQuaternion_res_248443 = 2.0F * arg_248442;
    float arg_248444 = aa_248425 - bb_248429;
    float arg_248445 = cc_248432 + arg_248444;
    float m33fromQuaternion_res_248446 = arg_248445 - dd_248434;
    float arg_248447 = cd_248433 - ab_248426;
    float m33fromQuaternion_res_248448 = 2.0F * arg_248447;
    float arg_248449 = bd_248431 - ac_248427;
    float m33fromQuaternion_res_248450 = 2.0F * arg_248449;
    float arg_248451 = ab_248426 + cd_248433;
    float m33fromQuaternion_res_248452 = 2.0F * arg_248451;
    float arg_248454 = arg_248444 - cc_248432;
    float m33fromQuaternion_res_248455 = dd_248434 + arg_248454;
    
    if (mem_271611_cached_sizze_273363 < bytes_271610) {
        err = lexical_realloc(ctx, &mem_271611, &mem_271611_cached_sizze_273363, bytes_271610);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270652 = 0; i_270652 < dz2080U_183380; i_270652++) {
        float x_252628 = ((float *) z31U_mem_271592.mem)[i_270652];
        float x_252629 = ((float *) z31U_mem_271593.mem)[i_270652];
        float x_252630 = ((float *) z31U_mem_271594.mem)[i_270652];
        float x_252631 = ((float *) z31U_mem_271595.mem)[i_270652];
        float x_252632 = ((float *) z31U_mem_271596.mem)[i_270652];
        float x_252633 = ((float *) z31U_mem_271597.mem)[i_270652];
        float defunc_1_f_res_252634 = m33fromQuaternion_res_248437 * x_252631;
        float defunc_1_f_res_252635 = m33fromQuaternion_res_248439 * x_252632;
        float defunc_1_f_res_252636 = m33fromQuaternion_res_248441 * x_252633;
        float defunc_1_f_res_252637 = defunc_1_f_res_252635 + defunc_1_f_res_252636;
        float defunc_0_f_res_252638 = defunc_1_f_res_252634 + defunc_1_f_res_252637;
        float defunc_1_f_res_252639 = m33fromQuaternion_res_248443 * x_252631;
        float defunc_1_f_res_252640 = m33fromQuaternion_res_248446 * x_252632;
        float defunc_1_f_res_252641 = m33fromQuaternion_res_248448 * x_252633;
        float defunc_1_f_res_252642 = defunc_1_f_res_252640 + defunc_1_f_res_252641;
        float defunc_0_f_res_252643 = defunc_1_f_res_252639 + defunc_1_f_res_252642;
        float defunc_1_f_res_252644 = m33fromQuaternion_res_248450 * x_252631;
        float defunc_1_f_res_252645 = m33fromQuaternion_res_248452 * x_252632;
        float defunc_1_f_res_252646 = m33fromQuaternion_res_248455 * x_252633;
        float defunc_1_f_res_252647 = defunc_1_f_res_252645 + defunc_1_f_res_252646;
        float defunc_0_f_res_252648 = defunc_1_f_res_252644 + defunc_1_f_res_252647;
        float defunc_1_f_res_252649 = defunc_1_f_res_252283 + defunc_0_f_res_252638;
        float defunc_1_f_res_252650 = defunc_1_f_res_252284 + defunc_0_f_res_252643;
        float defunc_1_f_res_252651 = defunc_1_f_res_252285 + defunc_0_f_res_252648;
        float defunc_1_f_res_252652 = defunc_1_f_res_252649 - x_252628;
        float defunc_1_f_res_252653 = defunc_1_f_res_252650 - x_252629;
        float defunc_1_f_res_252654 = defunc_1_f_res_252651 - x_252630;
        float defunc_1_f_res_252658 = defunc_1_f_res_252652 * defunc_1_f_res_252652;
        float defunc_1_f_res_252659 = defunc_1_f_res_252653 * defunc_1_f_res_252653;
        float defunc_1_f_res_252660 = defunc_1_f_res_252654 * defunc_1_f_res_252654;
        float defunc_1_f_res_252661 = defunc_1_f_res_252659 + defunc_1_f_res_252660;
        float defunc_0_f_res_252662 = defunc_1_f_res_252658 + defunc_1_f_res_252661;
        bool cond_252663 = defunc_0_f_res_252662 == 0.0F;
        float defunc_0_f_res_252664;
        
        if (cond_252663 == 1) {
            defunc_0_f_res_252664 = 0.0F;
        } else {
            float sqrt_res_252665 = futrts_sqrt32(defunc_0_f_res_252662);
            
            defunc_0_f_res_252664 = sqrt_res_252665;
        }
        ((float *) mem_271611)[i_270652] = defunc_0_f_res_252664;
    }
    if (mem_271624_cached_sizze_273364 < bytes_271623) {
        err = lexical_realloc(ctx, &mem_271624, &mem_271624_cached_sizze_273364, bytes_271623);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270658 = 0; i_270658 < dz2081U_183381; i_270658++) {
        float x_252609 = ((float *) z31U_mem_271599.mem)[i_270658];
        float defunc_2_reduce_res_262265;
        float redout_270654 = 0.0F;
        
        for (int64_t i_270655 = 0; i_270655 < dz2080U_183380; i_270655++) {
            float x_253006 = ((float *) mem_271611)[i_270655];
            float x_253007 = ((float *) z31U_mem_271598.mem)[i_270658 * dz2080U_183380 + i_270655];
            float defunc_1_f_res_253008 = x_253006 * x_253007;
            float defunc_1_op_res_252617 = defunc_1_f_res_253008 + redout_270654;
            float redout_tmp_273041 = defunc_1_op_res_252617;
            
            redout_270654 = redout_tmp_273041;
        }
        defunc_2_reduce_res_262265 = redout_270654;
        
        float defunc_1_f_res_252620 = x_252609 + defunc_2_reduce_res_262265;
        float arg_252622 = 0.0F - defunc_1_f_res_252620;
        float exp_arg_252623 = defunc_1_f_res_252620 * arg_252622;
        float exp_res_252624 = futrts_exp32(exp_arg_252623);
        
        ((float *) mem_271624)[i_270658] = exp_res_252624;
    }
    if (mem_271637_cached_sizze_273365 < bytes_271623) {
        err = lexical_realloc(ctx, &mem_271637, &mem_271637_cached_sizze_273365, bytes_271623);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_270664 = 0; i_270664 < dz2081U_183381; i_270664++) {
        float x_252585 = ((float *) z31U_mem_271601.mem)[i_270664];
        float defunc_2_reduce_res_262266;
        float redout_270660 = 0.0F;
        
        for (int64_t i_270661 = 0; i_270661 < dz2081U_183381; i_270661++) {
            float x_253012 = ((float *) mem_271624)[i_270661];
            float x_253013 = ((float *) z31U_mem_271600.mem)[i_270664 * dz2081U_183381 + i_270661];
            float defunc_1_f_res_253014 = x_253012 * x_253013;
            float defunc_1_op_res_252593 = defunc_1_f_res_253014 + redout_270660;
            float redout_tmp_273043 = defunc_1_op_res_252593;
            
            redout_270660 = redout_tmp_273043;
        }
        defunc_2_reduce_res_262266 = redout_270660;
        
        float defunc_1_f_res_252596 = x_252585 + defunc_2_reduce_res_262266;
        float defunc_0_f_res_252598 = futrts_tanh32(defunc_1_f_res_252596);
        
        ((float *) mem_271637)[i_270664] = defunc_0_f_res_252598;
    }
    
    float defunc_2_reduce_res_262271;
    float redout_270668 = 0.0F;
    
    for (int64_t i_270669 = 0; i_270669 < dz2081U_183381; i_270669++) {
        float x_252559 = ((float *) z31U_mem_271603.mem)[i_270669];
        float x_252560 = ((float *) z31U_mem_271604.mem)[i_270669];
        float defunc_2_reduce_res_262267;
        float redout_270666 = 0.0F;
        
        for (int64_t i_270667 = 0; i_270667 < dz2081U_183381; i_270667++) {
            float x_253018 = ((float *) mem_271637)[i_270667];
            float x_253019 = ((float *) z31U_mem_271602.mem)[i_270669 * dz2081U_183381 + i_270667];
            float defunc_1_f_res_253020 = x_253018 * x_253019;
            float defunc_1_op_res_252568 = defunc_1_f_res_253020 + redout_270666;
            float redout_tmp_273045 = defunc_1_op_res_252568;
            
            redout_270666 = redout_tmp_273045;
        }
        defunc_2_reduce_res_262267 = redout_270666;
        
        float defunc_1_f_res_252571 = x_252559 + defunc_2_reduce_res_262267;
        float defunc_0_f_res_252573 = futrts_tanh32(defunc_1_f_res_252571);
        float defunc_1_f_res_252575 = x_252560 * defunc_0_f_res_252573;
        float defunc_1_op_res_248524 = defunc_1_f_res_252575 + redout_270668;
        float redout_tmp_273044 = defunc_1_op_res_248524;
        
        redout_270668 = redout_tmp_273044;
    }
    defunc_2_reduce_res_262271 = redout_270668;
    
    float defunc_0_f_res_241101 = softcut_res_248412 * defunc_2_reduce_res_262271;
    
    prim_out_273038 = defunc_0_f_res_241101;
    *out_prim_out_273362 = prim_out_273038;
    
  cleanup:
    {
        free(mem_271611);
        free(mem_271624);
        free(mem_271637);
    }
    return err;
}

int futhark_entry_hgoInteraction(struct futhark_context *ctx, struct futhark_f32_2d **out0, const float in0, const float in1, const float in2, const struct futhark_f32_2d *in3, const struct futhark_f32_2d *in4)
{
    int64_t nz2085U_229401;
    float epsilon_229402;
    float sigma_par_229403;
    float sigma_ort_229404;
    int64_t prim_out_273039;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_273038;
    
    mem_out_273038.references = NULL;
    
    struct memblock orientations_mem_271593;
    
    orientations_mem_271593.references = NULL;
    
    struct memblock locations_mem_271592;
    
    locations_mem_271592.references = NULL;
    epsilon_229402 = in0;
    sigma_par_229403 = in1;
    sigma_ort_229404 = in2;
    locations_mem_271592 = in3->mem;
    nz2085U_229401 = in3->shape[0];
    orientations_mem_271593 = in4->mem;
    nz2085U_229401 = in4->shape[0];
    if (!((nz2085U_229401 == in3->shape[0] && (int64_t) 3 == in3->shape[1]) && (nz2085U_229401 == in4->shape[0] && (int64_t) 4 == in4->shape[1]))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_hgoInteraction(ctx, &mem_out_273038, &prim_out_273039, locations_mem_271592, orientations_mem_271593, nz2085U_229401, epsilon_229402, sigma_par_229403, sigma_ort_229404);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) != NULL);
            (*out0)->mem = mem_out_273038;
            (*out0)->shape[0] = prim_out_273039;
            (*out0)->shape[1] = (int64_t) 3;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_hgoPotential(struct futhark_context *ctx, float *out0, const float in0, const float in1, const float in2, const struct futhark_f32_1d *in3, const struct futhark_f32_1d *in4)
{
    float epsilon_164329;
    float sigma_par_164330;
    float sigma_ort_164331;
    float prim_out_273038;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock orientation_mem_271593;
    
    orientation_mem_271593.references = NULL;
    
    struct memblock location_mem_271592;
    
    location_mem_271592.references = NULL;
    epsilon_164329 = in0;
    sigma_par_164330 = in1;
    sigma_ort_164331 = in2;
    location_mem_271592 = in3->mem;
    orientation_mem_271593 = in4->mem;
    if (!((int64_t) 3 == in3->shape[0] && (int64_t) 4 == in4->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_hgoPotential(ctx, &prim_out_273038, location_mem_271592, orientation_mem_271593, epsilon_164329, sigma_par_164330, sigma_ort_164331);
        if (ret == 0) {
            *out0 = prim_out_273038;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_hgoPotentialAbs(struct futhark_context *ctx, float *out0, const float in0, const float in1, const float in2, const struct futhark_f32_1d *in3, const struct futhark_f32_1d *in4, const struct futhark_f32_1d *in5, const struct futhark_f32_1d *in6)
{
    float epsilon_183444;
    float sigma_par_183445;
    float sigma_ort_183446;
    float prim_out_273038;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock orientation1_mem_271595;
    
    orientation1_mem_271595.references = NULL;
    
    struct memblock location1_mem_271594;
    
    location1_mem_271594.references = NULL;
    
    struct memblock orientation0_mem_271593;
    
    orientation0_mem_271593.references = NULL;
    
    struct memblock location0_mem_271592;
    
    location0_mem_271592.references = NULL;
    epsilon_183444 = in0;
    sigma_par_183445 = in1;
    sigma_ort_183446 = in2;
    location0_mem_271592 = in3->mem;
    orientation0_mem_271593 = in4->mem;
    location1_mem_271594 = in5->mem;
    orientation1_mem_271595 = in6->mem;
    if (!((int64_t) 3 == in3->shape[0] && ((int64_t) 4 == in4->shape[0] && ((int64_t) 3 == in5->shape[0] && (int64_t) 4 == in6->shape[0])))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_hgoPotentialAbs(ctx, &prim_out_273038, location0_mem_271592, orientation0_mem_271593, location1_mem_271594, orientation1_mem_271595, epsilon_183444, sigma_par_183445, sigma_ort_183446);
        if (ret == 0) {
            *out0 = prim_out_273038;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_networkInteraction(struct futhark_context *ctx, struct futhark_f32_2d **out0, const struct futhark_opaque_networkParameter *in0, const struct futhark_f32_2d *in1, const struct futhark_f32_2d *in2)
{
    int64_t dz2080U_226337;
    int64_t dz2081U_226338;
    int64_t nz2084U_226339;
    int8_t z30U_226340;
    float z30U_226341;
    float z30U_226342;
    float z30U_226343;
    float z30U_226344;
    float z30U_226345;
    float z30U_226346;
    float z30U_226347;
    float z30U_226348;
    float z30U_226349;
    float z30U_226350;
    float z30U_226351;
    float z30U_226352;
    float z30U_226353;
    int32_t z30U_226354;
    int64_t prim_out_273039;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_273038;
    
    mem_out_273038.references = NULL;
    
    struct memblock orientations_mem_271606;
    
    orientations_mem_271606.references = NULL;
    
    struct memblock locations_mem_271605;
    
    locations_mem_271605.references = NULL;
    
    struct memblock z31U_mem_271604;
    
    z31U_mem_271604.references = NULL;
    
    struct memblock z31U_mem_271603;
    
    z31U_mem_271603.references = NULL;
    
    struct memblock z31U_mem_271602;
    
    z31U_mem_271602.references = NULL;
    
    struct memblock z31U_mem_271601;
    
    z31U_mem_271601.references = NULL;
    
    struct memblock z31U_mem_271600;
    
    z31U_mem_271600.references = NULL;
    
    struct memblock z31U_mem_271599;
    
    z31U_mem_271599.references = NULL;
    
    struct memblock z31U_mem_271598;
    
    z31U_mem_271598.references = NULL;
    
    struct memblock z31U_mem_271597;
    
    z31U_mem_271597.references = NULL;
    
    struct memblock z31U_mem_271596;
    
    z31U_mem_271596.references = NULL;
    
    struct memblock z31U_mem_271595;
    
    z31U_mem_271595.references = NULL;
    
    struct memblock z31U_mem_271594;
    
    z31U_mem_271594.references = NULL;
    
    struct memblock z31U_mem_271593;
    
    z31U_mem_271593.references = NULL;
    
    struct memblock z31U_mem_271592;
    
    z31U_mem_271592.references = NULL;
    z30U_226340 = in0->v0;
    z30U_226341 = in0->v1;
    z30U_226342 = in0->v2;
    z30U_226343 = in0->v3;
    z30U_226344 = in0->v4;
    z30U_226345 = in0->v5;
    z30U_226346 = in0->v6;
    z30U_226347 = in0->v7;
    z30U_226348 = in0->v8;
    z30U_226349 = in0->v9;
    z30U_226350 = in0->v10;
    z30U_226351 = in0->v11;
    z30U_226352 = in0->v12;
    z30U_226353 = in0->v13;
    z30U_226354 = in0->v14;
    z31U_mem_271592 = in0->v15->mem;
    dz2080U_226337 = in0->v15->shape[0];
    z31U_mem_271593 = in0->v16->mem;
    dz2080U_226337 = in0->v16->shape[0];
    z31U_mem_271594 = in0->v17->mem;
    dz2080U_226337 = in0->v17->shape[0];
    z31U_mem_271595 = in0->v18->mem;
    dz2080U_226337 = in0->v18->shape[0];
    z31U_mem_271596 = in0->v19->mem;
    dz2080U_226337 = in0->v19->shape[0];
    z31U_mem_271597 = in0->v20->mem;
    dz2080U_226337 = in0->v20->shape[0];
    z31U_mem_271598 = in0->v21->mem;
    dz2081U_226338 = in0->v21->shape[0];
    dz2080U_226337 = in0->v21->shape[1];
    z31U_mem_271599 = in0->v22->mem;
    dz2081U_226338 = in0->v22->shape[0];
    z31U_mem_271600 = in0->v23->mem;
    dz2081U_226338 = in0->v23->shape[0];
    dz2081U_226338 = in0->v23->shape[1];
    z31U_mem_271601 = in0->v24->mem;
    dz2081U_226338 = in0->v24->shape[0];
    z31U_mem_271602 = in0->v25->mem;
    dz2081U_226338 = in0->v25->shape[0];
    dz2081U_226338 = in0->v25->shape[1];
    z31U_mem_271603 = in0->v26->mem;
    dz2081U_226338 = in0->v26->shape[0];
    z31U_mem_271604 = in0->v27->mem;
    dz2081U_226338 = in0->v27->shape[0];
    locations_mem_271605 = in1->mem;
    nz2084U_226339 = in1->shape[0];
    orientations_mem_271606 = in2->mem;
    nz2084U_226339 = in2->shape[0];
    if (!((dz2080U_226337 == in0->v15->shape[0] && (dz2080U_226337 == in0->v16->shape[0] && (dz2080U_226337 == in0->v17->shape[0] && (dz2080U_226337 == in0->v18->shape[0] && (dz2080U_226337 == in0->v19->shape[0] && (dz2080U_226337 == in0->v20->shape[0] && (dz2081U_226338 == in0->v21->shape[0] && (dz2080U_226337 == in0->v21->shape[1] && (dz2081U_226338 == in0->v22->shape[0] && (dz2081U_226338 == in0->v23->shape[0] && (dz2081U_226338 == in0->v23->shape[1] && (dz2081U_226338 == in0->v24->shape[0] && (dz2081U_226338 == in0->v25->shape[0] && (dz2081U_226338 == in0->v25->shape[1] && (dz2081U_226338 == in0->v26->shape[0] && dz2081U_226338 == in0->v27->shape[0]))))))))))))))) && ((nz2084U_226339 == in1->shape[0] && (int64_t) 3 == in1->shape[1]) && (nz2084U_226339 == in2->shape[0] && (int64_t) 4 == in2->shape[1])))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_networkInteraction(ctx, &mem_out_273038, &prim_out_273039, z31U_mem_271592, z31U_mem_271593, z31U_mem_271594, z31U_mem_271595, z31U_mem_271596, z31U_mem_271597, z31U_mem_271598, z31U_mem_271599, z31U_mem_271600, z31U_mem_271601, z31U_mem_271602, z31U_mem_271603, z31U_mem_271604, locations_mem_271605, orientations_mem_271606, dz2080U_226337, dz2081U_226338, nz2084U_226339, z30U_226340, z30U_226341, z30U_226342, z30U_226343, z30U_226344, z30U_226345, z30U_226346, z30U_226347, z30U_226348, z30U_226349, z30U_226350, z30U_226351, z30U_226352, z30U_226353, z30U_226354);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) != NULL);
            (*out0)->mem = mem_out_273038;
            (*out0)->shape[0] = prim_out_273039;
            (*out0)->shape[1] = (int64_t) 3;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_networkPotential(struct futhark_context *ctx, float *out0, const struct futhark_opaque_networkParameter *in0, const struct futhark_f32_1d *in1, const struct futhark_f32_1d *in2)
{
    int64_t dz2080U_164198;
    int64_t dz2081U_164199;
    int8_t z30U_164200;
    float z30U_164201;
    float z30U_164202;
    float z30U_164203;
    float z30U_164204;
    float z30U_164205;
    float z30U_164206;
    float z30U_164207;
    float z30U_164208;
    float z30U_164209;
    float z30U_164210;
    float z30U_164211;
    float z30U_164212;
    float z30U_164213;
    int32_t z30U_164214;
    float prim_out_273038;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock orientation_mem_271606;
    
    orientation_mem_271606.references = NULL;
    
    struct memblock location_mem_271605;
    
    location_mem_271605.references = NULL;
    
    struct memblock z31U_mem_271604;
    
    z31U_mem_271604.references = NULL;
    
    struct memblock z31U_mem_271603;
    
    z31U_mem_271603.references = NULL;
    
    struct memblock z31U_mem_271602;
    
    z31U_mem_271602.references = NULL;
    
    struct memblock z31U_mem_271601;
    
    z31U_mem_271601.references = NULL;
    
    struct memblock z31U_mem_271600;
    
    z31U_mem_271600.references = NULL;
    
    struct memblock z31U_mem_271599;
    
    z31U_mem_271599.references = NULL;
    
    struct memblock z31U_mem_271598;
    
    z31U_mem_271598.references = NULL;
    
    struct memblock z31U_mem_271597;
    
    z31U_mem_271597.references = NULL;
    
    struct memblock z31U_mem_271596;
    
    z31U_mem_271596.references = NULL;
    
    struct memblock z31U_mem_271595;
    
    z31U_mem_271595.references = NULL;
    
    struct memblock z31U_mem_271594;
    
    z31U_mem_271594.references = NULL;
    
    struct memblock z31U_mem_271593;
    
    z31U_mem_271593.references = NULL;
    
    struct memblock z31U_mem_271592;
    
    z31U_mem_271592.references = NULL;
    z30U_164200 = in0->v0;
    z30U_164201 = in0->v1;
    z30U_164202 = in0->v2;
    z30U_164203 = in0->v3;
    z30U_164204 = in0->v4;
    z30U_164205 = in0->v5;
    z30U_164206 = in0->v6;
    z30U_164207 = in0->v7;
    z30U_164208 = in0->v8;
    z30U_164209 = in0->v9;
    z30U_164210 = in0->v10;
    z30U_164211 = in0->v11;
    z30U_164212 = in0->v12;
    z30U_164213 = in0->v13;
    z30U_164214 = in0->v14;
    z31U_mem_271592 = in0->v15->mem;
    dz2080U_164198 = in0->v15->shape[0];
    z31U_mem_271593 = in0->v16->mem;
    dz2080U_164198 = in0->v16->shape[0];
    z31U_mem_271594 = in0->v17->mem;
    dz2080U_164198 = in0->v17->shape[0];
    z31U_mem_271595 = in0->v18->mem;
    dz2080U_164198 = in0->v18->shape[0];
    z31U_mem_271596 = in0->v19->mem;
    dz2080U_164198 = in0->v19->shape[0];
    z31U_mem_271597 = in0->v20->mem;
    dz2080U_164198 = in0->v20->shape[0];
    z31U_mem_271598 = in0->v21->mem;
    dz2081U_164199 = in0->v21->shape[0];
    dz2080U_164198 = in0->v21->shape[1];
    z31U_mem_271599 = in0->v22->mem;
    dz2081U_164199 = in0->v22->shape[0];
    z31U_mem_271600 = in0->v23->mem;
    dz2081U_164199 = in0->v23->shape[0];
    dz2081U_164199 = in0->v23->shape[1];
    z31U_mem_271601 = in0->v24->mem;
    dz2081U_164199 = in0->v24->shape[0];
    z31U_mem_271602 = in0->v25->mem;
    dz2081U_164199 = in0->v25->shape[0];
    dz2081U_164199 = in0->v25->shape[1];
    z31U_mem_271603 = in0->v26->mem;
    dz2081U_164199 = in0->v26->shape[0];
    z31U_mem_271604 = in0->v27->mem;
    dz2081U_164199 = in0->v27->shape[0];
    location_mem_271605 = in1->mem;
    orientation_mem_271606 = in2->mem;
    if (!((dz2080U_164198 == in0->v15->shape[0] && (dz2080U_164198 == in0->v16->shape[0] && (dz2080U_164198 == in0->v17->shape[0] && (dz2080U_164198 == in0->v18->shape[0] && (dz2080U_164198 == in0->v19->shape[0] && (dz2080U_164198 == in0->v20->shape[0] && (dz2081U_164199 == in0->v21->shape[0] && (dz2080U_164198 == in0->v21->shape[1] && (dz2081U_164199 == in0->v22->shape[0] && (dz2081U_164199 == in0->v23->shape[0] && (dz2081U_164199 == in0->v23->shape[1] && (dz2081U_164199 == in0->v24->shape[0] && (dz2081U_164199 == in0->v25->shape[0] && (dz2081U_164199 == in0->v25->shape[1] && (dz2081U_164199 == in0->v26->shape[0] && dz2081U_164199 == in0->v27->shape[0]))))))))))))))) && ((int64_t) 3 == in1->shape[0] && (int64_t) 4 == in2->shape[0]))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_networkPotential(ctx, &prim_out_273038, z31U_mem_271592, z31U_mem_271593, z31U_mem_271594, z31U_mem_271595, z31U_mem_271596, z31U_mem_271597, z31U_mem_271598, z31U_mem_271599, z31U_mem_271600, z31U_mem_271601, z31U_mem_271602, z31U_mem_271603, z31U_mem_271604, location_mem_271605, orientation_mem_271606, dz2080U_164198, dz2081U_164199, z30U_164200, z30U_164201, z30U_164202, z30U_164203, z30U_164204, z30U_164205, z30U_164206, z30U_164207, z30U_164208, z30U_164209, z30U_164210, z30U_164211, z30U_164212, z30U_164213, z30U_164214);
        if (ret == 0) {
            *out0 = prim_out_273038;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_networkPotentialAbs(struct futhark_context *ctx, float *out0, const struct futhark_opaque_networkParameter *in0, const struct futhark_f32_1d *in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const struct futhark_f32_1d *in4)
{
    int64_t dz2080U_183380;
    int64_t dz2081U_183381;
    int8_t z30U_183382;
    float z30U_183383;
    float z30U_183384;
    float z30U_183385;
    float z30U_183386;
    float z30U_183387;
    float z30U_183388;
    float z30U_183389;
    float z30U_183390;
    float z30U_183391;
    float z30U_183392;
    float z30U_183393;
    float z30U_183394;
    float z30U_183395;
    int32_t z30U_183396;
    float prim_out_273038;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock orientation1_mem_271608;
    
    orientation1_mem_271608.references = NULL;
    
    struct memblock location1_mem_271607;
    
    location1_mem_271607.references = NULL;
    
    struct memblock orientation0_mem_271606;
    
    orientation0_mem_271606.references = NULL;
    
    struct memblock location0_mem_271605;
    
    location0_mem_271605.references = NULL;
    
    struct memblock z31U_mem_271604;
    
    z31U_mem_271604.references = NULL;
    
    struct memblock z31U_mem_271603;
    
    z31U_mem_271603.references = NULL;
    
    struct memblock z31U_mem_271602;
    
    z31U_mem_271602.references = NULL;
    
    struct memblock z31U_mem_271601;
    
    z31U_mem_271601.references = NULL;
    
    struct memblock z31U_mem_271600;
    
    z31U_mem_271600.references = NULL;
    
    struct memblock z31U_mem_271599;
    
    z31U_mem_271599.references = NULL;
    
    struct memblock z31U_mem_271598;
    
    z31U_mem_271598.references = NULL;
    
    struct memblock z31U_mem_271597;
    
    z31U_mem_271597.references = NULL;
    
    struct memblock z31U_mem_271596;
    
    z31U_mem_271596.references = NULL;
    
    struct memblock z31U_mem_271595;
    
    z31U_mem_271595.references = NULL;
    
    struct memblock z31U_mem_271594;
    
    z31U_mem_271594.references = NULL;
    
    struct memblock z31U_mem_271593;
    
    z31U_mem_271593.references = NULL;
    
    struct memblock z31U_mem_271592;
    
    z31U_mem_271592.references = NULL;
    z30U_183382 = in0->v0;
    z30U_183383 = in0->v1;
    z30U_183384 = in0->v2;
    z30U_183385 = in0->v3;
    z30U_183386 = in0->v4;
    z30U_183387 = in0->v5;
    z30U_183388 = in0->v6;
    z30U_183389 = in0->v7;
    z30U_183390 = in0->v8;
    z30U_183391 = in0->v9;
    z30U_183392 = in0->v10;
    z30U_183393 = in0->v11;
    z30U_183394 = in0->v12;
    z30U_183395 = in0->v13;
    z30U_183396 = in0->v14;
    z31U_mem_271592 = in0->v15->mem;
    dz2080U_183380 = in0->v15->shape[0];
    z31U_mem_271593 = in0->v16->mem;
    dz2080U_183380 = in0->v16->shape[0];
    z31U_mem_271594 = in0->v17->mem;
    dz2080U_183380 = in0->v17->shape[0];
    z31U_mem_271595 = in0->v18->mem;
    dz2080U_183380 = in0->v18->shape[0];
    z31U_mem_271596 = in0->v19->mem;
    dz2080U_183380 = in0->v19->shape[0];
    z31U_mem_271597 = in0->v20->mem;
    dz2080U_183380 = in0->v20->shape[0];
    z31U_mem_271598 = in0->v21->mem;
    dz2081U_183381 = in0->v21->shape[0];
    dz2080U_183380 = in0->v21->shape[1];
    z31U_mem_271599 = in0->v22->mem;
    dz2081U_183381 = in0->v22->shape[0];
    z31U_mem_271600 = in0->v23->mem;
    dz2081U_183381 = in0->v23->shape[0];
    dz2081U_183381 = in0->v23->shape[1];
    z31U_mem_271601 = in0->v24->mem;
    dz2081U_183381 = in0->v24->shape[0];
    z31U_mem_271602 = in0->v25->mem;
    dz2081U_183381 = in0->v25->shape[0];
    dz2081U_183381 = in0->v25->shape[1];
    z31U_mem_271603 = in0->v26->mem;
    dz2081U_183381 = in0->v26->shape[0];
    z31U_mem_271604 = in0->v27->mem;
    dz2081U_183381 = in0->v27->shape[0];
    location0_mem_271605 = in1->mem;
    orientation0_mem_271606 = in2->mem;
    location1_mem_271607 = in3->mem;
    orientation1_mem_271608 = in4->mem;
    if (!((dz2080U_183380 == in0->v15->shape[0] && (dz2080U_183380 == in0->v16->shape[0] && (dz2080U_183380 == in0->v17->shape[0] && (dz2080U_183380 == in0->v18->shape[0] && (dz2080U_183380 == in0->v19->shape[0] && (dz2080U_183380 == in0->v20->shape[0] && (dz2081U_183381 == in0->v21->shape[0] && (dz2080U_183380 == in0->v21->shape[1] && (dz2081U_183381 == in0->v22->shape[0] && (dz2081U_183381 == in0->v23->shape[0] && (dz2081U_183381 == in0->v23->shape[1] && (dz2081U_183381 == in0->v24->shape[0] && (dz2081U_183381 == in0->v25->shape[0] && (dz2081U_183381 == in0->v25->shape[1] && (dz2081U_183381 == in0->v26->shape[0] && dz2081U_183381 == in0->v27->shape[0]))))))))))))))) && ((int64_t) 3 == in1->shape[0] && ((int64_t) 4 == in2->shape[0] && ((int64_t) 3 == in3->shape[0] && (int64_t) 4 == in4->shape[0]))))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_networkPotentialAbs(ctx, &prim_out_273038, z31U_mem_271592, z31U_mem_271593, z31U_mem_271594, z31U_mem_271595, z31U_mem_271596, z31U_mem_271597, z31U_mem_271598, z31U_mem_271599, z31U_mem_271600, z31U_mem_271601, z31U_mem_271602, z31U_mem_271603, z31U_mem_271604, location0_mem_271605, orientation0_mem_271606, location1_mem_271607, orientation1_mem_271608, dz2080U_183380, dz2081U_183381, z30U_183382, z30U_183383, z30U_183384, z30U_183385, z30U_183386, z30U_183387, z30U_183388, z30U_183389, z30U_183390, z30U_183391, z30U_183392, z30U_183393, z30U_183394, z30U_183395, z30U_183396);
        if (ret == 0) {
            *out0 = prim_out_273038;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  


/************************************************************/

static void *_cffi_types[] = {
/*  0 */ _CFFI_OP(_CFFI_OP_FUNCTION, 427), // char *()(struct futhark_context *)
/*  1 */ _CFFI_OP(_CFFI_OP_POINTER, 430), // struct futhark_context *
/*  2 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/*  3 */ _CFFI_OP(_CFFI_OP_FUNCTION, 315), // char const *()(int)
/*  4 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 7), // int
/*  5 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/*  6 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *)
/*  7 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/*  8 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/*  9 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, float *, float, float, float, struct futhark_f32_1d const *, struct futhark_f32_1d const *)
/* 10 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 11 */ _CFFI_OP(_CFFI_OP_POINTER, 12), // float *
/* 12 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 13), // float
/* 13 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 13),
/* 14 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 13),
/* 15 */ _CFFI_OP(_CFFI_OP_POINTER, 432), // struct futhark_f32_1d const *
/* 16 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 17 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 18 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, float *, float, float, float, struct futhark_f32_1d const *, struct futhark_f32_1d const *, struct futhark_f32_1d const *, struct futhark_f32_1d const *)
/* 19 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 20 */ _CFFI_OP(_CFFI_OP_NOOP, 11),
/* 21 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 13),
/* 22 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 13),
/* 23 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 13),
/* 24 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 25 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 26 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 27 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 28 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 29 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, float *, struct futhark_opaque_e9a0e68b const *)
/* 30 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 31 */ _CFFI_OP(_CFFI_OP_NOOP, 11),
/* 32 */ _CFFI_OP(_CFFI_OP_POINTER, 440), // struct futhark_opaque_e9a0e68b const *
/* 33 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 34 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, float *, struct futhark_opaque_networkParameter const *, struct futhark_f32_1d const *, struct futhark_f32_1d const *)
/* 35 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 36 */ _CFFI_OP(_CFFI_OP_NOOP, 11),
/* 37 */ _CFFI_OP(_CFFI_OP_POINTER, 442), // struct futhark_opaque_networkParameter const *
/* 38 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 39 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 40 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 41 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, float *, struct futhark_opaque_networkParameter const *, struct futhark_f32_1d const *, struct futhark_f32_1d const *, struct futhark_f32_1d const *, struct futhark_f32_1d const *)
/* 42 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 43 */ _CFFI_OP(_CFFI_OP_NOOP, 11),
/* 44 */ _CFFI_OP(_CFFI_OP_NOOP, 37),
/* 45 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 46 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 47 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 48 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 49 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 50 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, int32_t *, struct futhark_opaque_e9a0e68b const *)
/* 51 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 52 */ _CFFI_OP(_CFFI_OP_POINTER, 249), // int32_t *
/* 53 */ _CFFI_OP(_CFFI_OP_NOOP, 32),
/* 54 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 55 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_f32_1d * *, struct futhark_opaque_32531da2 const *)
/* 56 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 57 */ _CFFI_OP(_CFFI_OP_POINTER, 72), // struct futhark_f32_1d * *
/* 58 */ _CFFI_OP(_CFFI_OP_POINTER, 434), // struct futhark_opaque_32531da2 const *
/* 59 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 60 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_f32_1d * *, struct futhark_opaque_b0aee03a const *)
/* 61 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 62 */ _CFFI_OP(_CFFI_OP_NOOP, 57),
/* 63 */ _CFFI_OP(_CFFI_OP_POINTER, 438), // struct futhark_opaque_b0aee03a const *
/* 64 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 65 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_f32_1d * *, struct futhark_opaque_f270e689 const *)
/* 66 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 67 */ _CFFI_OP(_CFFI_OP_NOOP, 57),
/* 68 */ _CFFI_OP(_CFFI_OP_POINTER, 441), // struct futhark_opaque_f270e689 const *
/* 69 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 70 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_f32_1d *)
/* 71 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 72 */ _CFFI_OP(_CFFI_OP_POINTER, 432), // struct futhark_f32_1d *
/* 73 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 74 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_f32_1d *, float *)
/* 75 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 76 */ _CFFI_OP(_CFFI_OP_NOOP, 72),
/* 77 */ _CFFI_OP(_CFFI_OP_NOOP, 11),
/* 78 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 79 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_f32_2d * *, float, float, float, struct futhark_f32_2d const *, struct futhark_f32_2d const *)
/* 80 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 81 */ _CFFI_OP(_CFFI_OP_POINTER, 107), // struct futhark_f32_2d * *
/* 82 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 13),
/* 83 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 13),
/* 84 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 13),
/* 85 */ _CFFI_OP(_CFFI_OP_POINTER, 433), // struct futhark_f32_2d const *
/* 86 */ _CFFI_OP(_CFFI_OP_NOOP, 85),
/* 87 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 88 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_f32_2d * *, struct futhark_opaque_32531da2 const *)
/* 89 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 90 */ _CFFI_OP(_CFFI_OP_NOOP, 81),
/* 91 */ _CFFI_OP(_CFFI_OP_NOOP, 58),
/* 92 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 93 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_f32_2d * *, struct futhark_opaque_f270e689 const *)
/* 94 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 95 */ _CFFI_OP(_CFFI_OP_NOOP, 81),
/* 96 */ _CFFI_OP(_CFFI_OP_NOOP, 68),
/* 97 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 98 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_f32_2d * *, struct futhark_opaque_networkParameter const *, struct futhark_f32_2d const *, struct futhark_f32_2d const *)
/* 99 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 100 */ _CFFI_OP(_CFFI_OP_NOOP, 81),
/* 101 */ _CFFI_OP(_CFFI_OP_NOOP, 37),
/* 102 */ _CFFI_OP(_CFFI_OP_NOOP, 85),
/* 103 */ _CFFI_OP(_CFFI_OP_NOOP, 85),
/* 104 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 105 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_f32_2d *)
/* 106 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 107 */ _CFFI_OP(_CFFI_OP_POINTER, 433), // struct futhark_f32_2d *
/* 108 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 109 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_f32_2d *, float *)
/* 110 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 111 */ _CFFI_OP(_CFFI_OP_NOOP, 107),
/* 112 */ _CFFI_OP(_CFFI_OP_NOOP, 11),
/* 113 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 114 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_32531da2 * *, struct futhark_f32_2d const *, struct futhark_f32_1d const *)
/* 115 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 116 */ _CFFI_OP(_CFFI_OP_POINTER, 132), // struct futhark_opaque_32531da2 * *
/* 117 */ _CFFI_OP(_CFFI_OP_NOOP, 85),
/* 118 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 119 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 120 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_32531da2 * *, struct futhark_opaque_8ce68ead const *)
/* 121 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 122 */ _CFFI_OP(_CFFI_OP_NOOP, 116),
/* 123 */ _CFFI_OP(_CFFI_OP_POINTER, 436), // struct futhark_opaque_8ce68ead const *
/* 124 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 125 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_32531da2 * *, struct futhark_opaque_8f5f2e9d const *)
/* 126 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 127 */ _CFFI_OP(_CFFI_OP_NOOP, 116),
/* 128 */ _CFFI_OP(_CFFI_OP_POINTER, 437), // struct futhark_opaque_8f5f2e9d const *
/* 129 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 130 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_32531da2 *)
/* 131 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 132 */ _CFFI_OP(_CFFI_OP_POINTER, 434), // struct futhark_opaque_32531da2 *
/* 133 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 134 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_32531da2 const *, void * *, size_t *)
/* 135 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 136 */ _CFFI_OP(_CFFI_OP_NOOP, 58),
/* 137 */ _CFFI_OP(_CFFI_OP_POINTER, 424), // void * *
/* 138 */ _CFFI_OP(_CFFI_OP_POINTER, 316), // size_t *
/* 139 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 140 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_67daac7 * *, struct futhark_opaque_c5da5e9b const *, struct futhark_opaque_b0aee03a const *)
/* 141 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 142 */ _CFFI_OP(_CFFI_OP_POINTER, 153), // struct futhark_opaque_67daac7 * *
/* 143 */ _CFFI_OP(_CFFI_OP_POINTER, 439), // struct futhark_opaque_c5da5e9b const *
/* 144 */ _CFFI_OP(_CFFI_OP_NOOP, 63),
/* 145 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 146 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_67daac7 * *, struct futhark_opaque_networkParameter const *)
/* 147 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 148 */ _CFFI_OP(_CFFI_OP_NOOP, 142),
/* 149 */ _CFFI_OP(_CFFI_OP_NOOP, 37),
/* 150 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 151 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_67daac7 *)
/* 152 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 153 */ _CFFI_OP(_CFFI_OP_POINTER, 435), // struct futhark_opaque_67daac7 *
/* 154 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 155 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_67daac7 const *, void * *, size_t *)
/* 156 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 157 */ _CFFI_OP(_CFFI_OP_POINTER, 435), // struct futhark_opaque_67daac7 const *
/* 158 */ _CFFI_OP(_CFFI_OP_NOOP, 137),
/* 159 */ _CFFI_OP(_CFFI_OP_NOOP, 138),
/* 160 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 161 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_8ce68ead * *, struct futhark_opaque_8f5f2e9d const *)
/* 162 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 163 */ _CFFI_OP(_CFFI_OP_POINTER, 174), // struct futhark_opaque_8ce68ead * *
/* 164 */ _CFFI_OP(_CFFI_OP_NOOP, 128),
/* 165 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 166 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_8ce68ead * *, struct futhark_opaque_f270e689 const *, struct futhark_opaque_32531da2 const *)
/* 167 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 168 */ _CFFI_OP(_CFFI_OP_NOOP, 163),
/* 169 */ _CFFI_OP(_CFFI_OP_NOOP, 68),
/* 170 */ _CFFI_OP(_CFFI_OP_NOOP, 58),
/* 171 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 172 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_8ce68ead *)
/* 173 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 174 */ _CFFI_OP(_CFFI_OP_POINTER, 436), // struct futhark_opaque_8ce68ead *
/* 175 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 176 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_8ce68ead const *, void * *, size_t *)
/* 177 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 178 */ _CFFI_OP(_CFFI_OP_NOOP, 123),
/* 179 */ _CFFI_OP(_CFFI_OP_NOOP, 137),
/* 180 */ _CFFI_OP(_CFFI_OP_NOOP, 138),
/* 181 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 182 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_8f5f2e9d * *, struct futhark_opaque_8ce68ead const *, struct futhark_opaque_32531da2 const *)
/* 183 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 184 */ _CFFI_OP(_CFFI_OP_POINTER, 195), // struct futhark_opaque_8f5f2e9d * *
/* 185 */ _CFFI_OP(_CFFI_OP_NOOP, 123),
/* 186 */ _CFFI_OP(_CFFI_OP_NOOP, 58),
/* 187 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 188 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_8f5f2e9d * *, struct futhark_opaque_b0aee03a const *)
/* 189 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 190 */ _CFFI_OP(_CFFI_OP_NOOP, 184),
/* 191 */ _CFFI_OP(_CFFI_OP_NOOP, 63),
/* 192 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 193 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_8f5f2e9d *)
/* 194 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 195 */ _CFFI_OP(_CFFI_OP_POINTER, 437), // struct futhark_opaque_8f5f2e9d *
/* 196 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 197 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_8f5f2e9d const *, void * *, size_t *)
/* 198 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 199 */ _CFFI_OP(_CFFI_OP_NOOP, 128),
/* 200 */ _CFFI_OP(_CFFI_OP_NOOP, 137),
/* 201 */ _CFFI_OP(_CFFI_OP_NOOP, 138),
/* 202 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 203 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_b0aee03a * *, struct futhark_opaque_67daac7 const *)
/* 204 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 205 */ _CFFI_OP(_CFFI_OP_POINTER, 216), // struct futhark_opaque_b0aee03a * *
/* 206 */ _CFFI_OP(_CFFI_OP_NOOP, 157),
/* 207 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 208 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_b0aee03a * *, struct futhark_opaque_8f5f2e9d const *, struct futhark_f32_1d const *)
/* 209 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 210 */ _CFFI_OP(_CFFI_OP_NOOP, 205),
/* 211 */ _CFFI_OP(_CFFI_OP_NOOP, 128),
/* 212 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 213 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 214 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_b0aee03a *)
/* 215 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 216 */ _CFFI_OP(_CFFI_OP_POINTER, 438), // struct futhark_opaque_b0aee03a *
/* 217 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 218 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_b0aee03a const *, void * *, size_t *)
/* 219 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 220 */ _CFFI_OP(_CFFI_OP_NOOP, 63),
/* 221 */ _CFFI_OP(_CFFI_OP_NOOP, 137),
/* 222 */ _CFFI_OP(_CFFI_OP_NOOP, 138),
/* 223 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 224 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_c5da5e9b * *, struct futhark_opaque_67daac7 const *)
/* 225 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 226 */ _CFFI_OP(_CFFI_OP_POINTER, 231), // struct futhark_opaque_c5da5e9b * *
/* 227 */ _CFFI_OP(_CFFI_OP_NOOP, 157),
/* 228 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 229 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_c5da5e9b *)
/* 230 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 231 */ _CFFI_OP(_CFFI_OP_POINTER, 439), // struct futhark_opaque_c5da5e9b *
/* 232 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 233 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_c5da5e9b const *, void * *, size_t *)
/* 234 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 235 */ _CFFI_OP(_CFFI_OP_NOOP, 143),
/* 236 */ _CFFI_OP(_CFFI_OP_NOOP, 137),
/* 237 */ _CFFI_OP(_CFFI_OP_NOOP, 138),
/* 238 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 239 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_e9a0e68b * *, struct futhark_opaque_networkParameter const *)
/* 240 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 241 */ _CFFI_OP(_CFFI_OP_POINTER, 253), // struct futhark_opaque_e9a0e68b * *
/* 242 */ _CFFI_OP(_CFFI_OP_NOOP, 37),
/* 243 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 244 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_e9a0e68b * *, struct futhark_opaque_particleType const *, float, int32_t)
/* 245 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 246 */ _CFFI_OP(_CFFI_OP_NOOP, 241),
/* 247 */ _CFFI_OP(_CFFI_OP_POINTER, 443), // struct futhark_opaque_particleType const *
/* 248 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 13),
/* 249 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 21), // int32_t
/* 250 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 251 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_e9a0e68b *)
/* 252 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 253 */ _CFFI_OP(_CFFI_OP_POINTER, 440), // struct futhark_opaque_e9a0e68b *
/* 254 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 255 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_e9a0e68b const *, void * *, size_t *)
/* 256 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 257 */ _CFFI_OP(_CFFI_OP_NOOP, 32),
/* 258 */ _CFFI_OP(_CFFI_OP_NOOP, 137),
/* 259 */ _CFFI_OP(_CFFI_OP_NOOP, 138),
/* 260 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 261 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_f270e689 * *, struct futhark_f32_2d const *, struct futhark_f32_1d const *)
/* 262 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 263 */ _CFFI_OP(_CFFI_OP_POINTER, 274), // struct futhark_opaque_f270e689 * *
/* 264 */ _CFFI_OP(_CFFI_OP_NOOP, 85),
/* 265 */ _CFFI_OP(_CFFI_OP_NOOP, 15),
/* 266 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 267 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_f270e689 * *, struct futhark_opaque_8ce68ead const *)
/* 268 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 269 */ _CFFI_OP(_CFFI_OP_NOOP, 263),
/* 270 */ _CFFI_OP(_CFFI_OP_NOOP, 123),
/* 271 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 272 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_f270e689 *)
/* 273 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 274 */ _CFFI_OP(_CFFI_OP_POINTER, 441), // struct futhark_opaque_f270e689 *
/* 275 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 276 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_f270e689 const *, void * *, size_t *)
/* 277 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 278 */ _CFFI_OP(_CFFI_OP_NOOP, 68),
/* 279 */ _CFFI_OP(_CFFI_OP_NOOP, 137),
/* 280 */ _CFFI_OP(_CFFI_OP_NOOP, 138),
/* 281 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 282 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_networkParameter * *, struct futhark_opaque_e9a0e68b const *, struct futhark_opaque_67daac7 const *)
/* 283 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 284 */ _CFFI_OP(_CFFI_OP_POINTER, 290), // struct futhark_opaque_networkParameter * *
/* 285 */ _CFFI_OP(_CFFI_OP_NOOP, 32),
/* 286 */ _CFFI_OP(_CFFI_OP_NOOP, 157),
/* 287 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 288 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_networkParameter *)
/* 289 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 290 */ _CFFI_OP(_CFFI_OP_POINTER, 442), // struct futhark_opaque_networkParameter *
/* 291 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 292 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_networkParameter const *, void * *, size_t *)
/* 293 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 294 */ _CFFI_OP(_CFFI_OP_NOOP, 37),
/* 295 */ _CFFI_OP(_CFFI_OP_NOOP, 137),
/* 296 */ _CFFI_OP(_CFFI_OP_NOOP, 138),
/* 297 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 298 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_particleType * *, struct futhark_opaque_e9a0e68b const *)
/* 299 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 300 */ _CFFI_OP(_CFFI_OP_POINTER, 305), // struct futhark_opaque_particleType * *
/* 301 */ _CFFI_OP(_CFFI_OP_NOOP, 32),
/* 302 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 303 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_particleType *)
/* 304 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 305 */ _CFFI_OP(_CFFI_OP_POINTER, 443), // struct futhark_opaque_particleType *
/* 306 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 307 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context *, struct futhark_opaque_particleType const *, void * *, size_t *)
/* 308 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 309 */ _CFFI_OP(_CFFI_OP_NOOP, 247),
/* 310 */ _CFFI_OP(_CFFI_OP_NOOP, 137),
/* 311 */ _CFFI_OP(_CFFI_OP_NOOP, 138),
/* 312 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 313 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(struct futhark_context_config *, char const *, size_t)
/* 314 */ _CFFI_OP(_CFFI_OP_POINTER, 431), // struct futhark_context_config *
/* 315 */ _CFFI_OP(_CFFI_OP_POINTER, 428), // char const *
/* 316 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 28), // size_t
/* 317 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 318 */ _CFFI_OP(_CFFI_OP_FUNCTION, 4), // int()(void)
/* 319 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 320 */ _CFFI_OP(_CFFI_OP_FUNCTION, 429), // int64_t const *()(struct futhark_context *, struct futhark_f32_1d *)
/* 321 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 322 */ _CFFI_OP(_CFFI_OP_NOOP, 72),
/* 323 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 324 */ _CFFI_OP(_CFFI_OP_FUNCTION, 429), // int64_t const *()(struct futhark_context *, struct futhark_f32_2d *)
/* 325 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 326 */ _CFFI_OP(_CFFI_OP_NOOP, 107),
/* 327 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 328 */ _CFFI_OP(_CFFI_OP_FUNCTION, 1), // struct futhark_context *()(struct futhark_context_config *)
/* 329 */ _CFFI_OP(_CFFI_OP_NOOP, 314),
/* 330 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 331 */ _CFFI_OP(_CFFI_OP_FUNCTION, 314), // struct futhark_context_config *()(void)
/* 332 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 333 */ _CFFI_OP(_CFFI_OP_FUNCTION, 72), // struct futhark_f32_1d *()(struct futhark_context *, float const *, int64_t)
/* 334 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 335 */ _CFFI_OP(_CFFI_OP_POINTER, 12), // float const *
/* 336 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 23), // int64_t
/* 337 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 338 */ _CFFI_OP(_CFFI_OP_FUNCTION, 72), // struct futhark_f32_1d *()(struct futhark_context *, unsigned char const *, int64_t, int64_t)
/* 339 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 340 */ _CFFI_OP(_CFFI_OP_POINTER, 445), // unsigned char const *
/* 341 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 23),
/* 342 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 23),
/* 343 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 344 */ _CFFI_OP(_CFFI_OP_FUNCTION, 107), // struct futhark_f32_2d *()(struct futhark_context *, float const *, int64_t, int64_t)
/* 345 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 346 */ _CFFI_OP(_CFFI_OP_NOOP, 335),
/* 347 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 23),
/* 348 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 23),
/* 349 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 350 */ _CFFI_OP(_CFFI_OP_FUNCTION, 107), // struct futhark_f32_2d *()(struct futhark_context *, unsigned char const *, int64_t, int64_t, int64_t)
/* 351 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 352 */ _CFFI_OP(_CFFI_OP_NOOP, 340),
/* 353 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 23),
/* 354 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 23),
/* 355 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 23),
/* 356 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 357 */ _CFFI_OP(_CFFI_OP_FUNCTION, 132), // struct futhark_opaque_32531da2 *()(struct futhark_context *, void const *)
/* 358 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 359 */ _CFFI_OP(_CFFI_OP_POINTER, 446), // void const *
/* 360 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 361 */ _CFFI_OP(_CFFI_OP_FUNCTION, 153), // struct futhark_opaque_67daac7 *()(struct futhark_context *, void const *)
/* 362 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 363 */ _CFFI_OP(_CFFI_OP_NOOP, 359),
/* 364 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 365 */ _CFFI_OP(_CFFI_OP_FUNCTION, 174), // struct futhark_opaque_8ce68ead *()(struct futhark_context *, void const *)
/* 366 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 367 */ _CFFI_OP(_CFFI_OP_NOOP, 359),
/* 368 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 369 */ _CFFI_OP(_CFFI_OP_FUNCTION, 195), // struct futhark_opaque_8f5f2e9d *()(struct futhark_context *, void const *)
/* 370 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 371 */ _CFFI_OP(_CFFI_OP_NOOP, 359),
/* 372 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 373 */ _CFFI_OP(_CFFI_OP_FUNCTION, 216), // struct futhark_opaque_b0aee03a *()(struct futhark_context *, void const *)
/* 374 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 375 */ _CFFI_OP(_CFFI_OP_NOOP, 359),
/* 376 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 377 */ _CFFI_OP(_CFFI_OP_FUNCTION, 231), // struct futhark_opaque_c5da5e9b *()(struct futhark_context *, void const *)
/* 378 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 379 */ _CFFI_OP(_CFFI_OP_NOOP, 359),
/* 380 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 381 */ _CFFI_OP(_CFFI_OP_FUNCTION, 253), // struct futhark_opaque_e9a0e68b *()(struct futhark_context *, void const *)
/* 382 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 383 */ _CFFI_OP(_CFFI_OP_NOOP, 359),
/* 384 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 385 */ _CFFI_OP(_CFFI_OP_FUNCTION, 274), // struct futhark_opaque_f270e689 *()(struct futhark_context *, void const *)
/* 386 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 387 */ _CFFI_OP(_CFFI_OP_NOOP, 359),
/* 388 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 389 */ _CFFI_OP(_CFFI_OP_FUNCTION, 290), // struct futhark_opaque_networkParameter *()(struct futhark_context *, void const *)
/* 390 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 391 */ _CFFI_OP(_CFFI_OP_NOOP, 359),
/* 392 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 393 */ _CFFI_OP(_CFFI_OP_FUNCTION, 305), // struct futhark_opaque_particleType *()(struct futhark_context *, void const *)
/* 394 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 395 */ _CFFI_OP(_CFFI_OP_NOOP, 359),
/* 396 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 397 */ _CFFI_OP(_CFFI_OP_FUNCTION, 444), // unsigned char *()(struct futhark_context *, struct futhark_f32_1d *)
/* 398 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 399 */ _CFFI_OP(_CFFI_OP_NOOP, 72),
/* 400 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 401 */ _CFFI_OP(_CFFI_OP_FUNCTION, 444), // unsigned char *()(struct futhark_context *, struct futhark_f32_2d *)
/* 402 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 403 */ _CFFI_OP(_CFFI_OP_NOOP, 107),
/* 404 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 405 */ _CFFI_OP(_CFFI_OP_FUNCTION, 446), // void()(struct futhark_context *)
/* 406 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 407 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 408 */ _CFFI_OP(_CFFI_OP_FUNCTION, 446), // void()(struct futhark_context *, FILE *)
/* 409 */ _CFFI_OP(_CFFI_OP_NOOP, 1),
/* 410 */ _CFFI_OP(_CFFI_OP_POINTER, 426), // FILE *
/* 411 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 412 */ _CFFI_OP(_CFFI_OP_FUNCTION, 446), // void()(struct futhark_context_config *)
/* 413 */ _CFFI_OP(_CFFI_OP_NOOP, 314),
/* 414 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 415 */ _CFFI_OP(_CFFI_OP_FUNCTION, 446), // void()(struct futhark_context_config *, char const *)
/* 416 */ _CFFI_OP(_CFFI_OP_NOOP, 314),
/* 417 */ _CFFI_OP(_CFFI_OP_NOOP, 315),
/* 418 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 419 */ _CFFI_OP(_CFFI_OP_FUNCTION, 446), // void()(struct futhark_context_config *, int)
/* 420 */ _CFFI_OP(_CFFI_OP_NOOP, 314),
/* 421 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 7),
/* 422 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 423 */ _CFFI_OP(_CFFI_OP_FUNCTION, 446), // void()(void *)
/* 424 */ _CFFI_OP(_CFFI_OP_POINTER, 446), // void *
/* 425 */ _CFFI_OP(_CFFI_OP_FUNCTION_END, 0),
/* 426 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 0), // FILE
/* 427 */ _CFFI_OP(_CFFI_OP_POINTER, 428), // char *
/* 428 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 2), // char
/* 429 */ _CFFI_OP(_CFFI_OP_POINTER, 336), // int64_t const *
/* 430 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 1), // struct futhark_context
/* 431 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 2), // struct futhark_context_config
/* 432 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 3), // struct futhark_f32_1d
/* 433 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 4), // struct futhark_f32_2d
/* 434 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 5), // struct futhark_opaque_32531da2
/* 435 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 6), // struct futhark_opaque_67daac7
/* 436 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 7), // struct futhark_opaque_8ce68ead
/* 437 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 8), // struct futhark_opaque_8f5f2e9d
/* 438 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 9), // struct futhark_opaque_b0aee03a
/* 439 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 10), // struct futhark_opaque_c5da5e9b
/* 440 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 11), // struct futhark_opaque_e9a0e68b
/* 441 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 12), // struct futhark_opaque_f270e689
/* 442 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 13), // struct futhark_opaque_networkParameter
/* 443 */ _CFFI_OP(_CFFI_OP_STRUCT_UNION, 14), // struct futhark_opaque_particleType
/* 444 */ _CFFI_OP(_CFFI_OP_POINTER, 445), // unsigned char *
/* 445 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 4), // unsigned char
/* 446 */ _CFFI_OP(_CFFI_OP_PRIMITIVE, 0), // void
};

static void _cffi_d_free(void * x0)
{
  free(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_free(PyObject *self, PyObject *arg0)
{
  void * x0;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(424), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (void *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(424), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { free(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  Py_INCREF(Py_None);
  return Py_None;
}
#else
#  define _cffi_f_free _cffi_d_free
#endif

static int _cffi_d_futhark_context_clear_caches(struct futhark_context * x0)
{
  return futhark_context_clear_caches(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_clear_caches(PyObject *self, PyObject *arg0)
{
  struct futhark_context * x0;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_context_clear_caches(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_context_clear_caches _cffi_d_futhark_context_clear_caches
#endif

static void _cffi_d_futhark_context_config_free(struct futhark_context_config * x0)
{
  futhark_context_config_free(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_config_free(PyObject *self, PyObject *arg0)
{
  struct futhark_context_config * x0;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(314), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context_config *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(314), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { futhark_context_config_free(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  Py_INCREF(Py_None);
  return Py_None;
}
#else
#  define _cffi_f_futhark_context_config_free _cffi_d_futhark_context_config_free
#endif

static struct futhark_context_config * _cffi_d_futhark_context_config_new(void)
{
  return futhark_context_config_new();
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_config_new(PyObject *self, PyObject *noarg)
{
  struct futhark_context_config * result;
  PyObject *pyresult;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_context_config_new(); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  (void)noarg; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(314));
  return pyresult;
}
#else
#  define _cffi_f_futhark_context_config_new _cffi_d_futhark_context_config_new
#endif

static void _cffi_d_futhark_context_config_set_cache_file(struct futhark_context_config * x0, char const * x1)
{
  futhark_context_config_set_cache_file(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_config_set_cache_file(PyObject *self, PyObject *args)
{
  struct futhark_context_config * x0;
  char const * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_context_config_set_cache_file", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(314), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context_config *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(314), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(315), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (char const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(315), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { futhark_context_config_set_cache_file(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  Py_INCREF(Py_None);
  return Py_None;
}
#else
#  define _cffi_f_futhark_context_config_set_cache_file _cffi_d_futhark_context_config_set_cache_file
#endif

static void _cffi_d_futhark_context_config_set_debugging(struct futhark_context_config * x0, int x1)
{
  futhark_context_config_set_debugging(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_config_set_debugging(PyObject *self, PyObject *args)
{
  struct futhark_context_config * x0;
  int x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_context_config_set_debugging", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(314), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context_config *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(314), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x1 = _cffi_to_c_int(arg1, int);
  if (x1 == (int)-1 && PyErr_Occurred())
    return NULL;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { futhark_context_config_set_debugging(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  Py_INCREF(Py_None);
  return Py_None;
}
#else
#  define _cffi_f_futhark_context_config_set_debugging _cffi_d_futhark_context_config_set_debugging
#endif

static void _cffi_d_futhark_context_config_set_logging(struct futhark_context_config * x0, int x1)
{
  futhark_context_config_set_logging(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_config_set_logging(PyObject *self, PyObject *args)
{
  struct futhark_context_config * x0;
  int x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_context_config_set_logging", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(314), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context_config *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(314), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x1 = _cffi_to_c_int(arg1, int);
  if (x1 == (int)-1 && PyErr_Occurred())
    return NULL;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { futhark_context_config_set_logging(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  Py_INCREF(Py_None);
  return Py_None;
}
#else
#  define _cffi_f_futhark_context_config_set_logging _cffi_d_futhark_context_config_set_logging
#endif

static void _cffi_d_futhark_context_config_set_profiling(struct futhark_context_config * x0, int x1)
{
  futhark_context_config_set_profiling(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_config_set_profiling(PyObject *self, PyObject *args)
{
  struct futhark_context_config * x0;
  int x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_context_config_set_profiling", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(314), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context_config *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(314), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x1 = _cffi_to_c_int(arg1, int);
  if (x1 == (int)-1 && PyErr_Occurred())
    return NULL;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { futhark_context_config_set_profiling(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  Py_INCREF(Py_None);
  return Py_None;
}
#else
#  define _cffi_f_futhark_context_config_set_profiling _cffi_d_futhark_context_config_set_profiling
#endif

static int _cffi_d_futhark_context_config_set_tuning_param(struct futhark_context_config * x0, char const * x1, size_t x2)
{
  return futhark_context_config_set_tuning_param(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_config_set_tuning_param(PyObject *self, PyObject *args)
{
  struct futhark_context_config * x0;
  char const * x1;
  size_t x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_context_config_set_tuning_param", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(314), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context_config *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(314), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(315), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (char const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(315), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x2 = _cffi_to_c_int(arg2, size_t);
  if (x2 == (size_t)-1 && PyErr_Occurred())
    return NULL;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_context_config_set_tuning_param(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_context_config_set_tuning_param _cffi_d_futhark_context_config_set_tuning_param
#endif

static void _cffi_d_futhark_context_free(struct futhark_context * x0)
{
  futhark_context_free(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_free(PyObject *self, PyObject *arg0)
{
  struct futhark_context * x0;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { futhark_context_free(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  Py_INCREF(Py_None);
  return Py_None;
}
#else
#  define _cffi_f_futhark_context_free _cffi_d_futhark_context_free
#endif

static char * _cffi_d_futhark_context_get_error(struct futhark_context * x0)
{
  return futhark_context_get_error(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_get_error(PyObject *self, PyObject *arg0)
{
  struct futhark_context * x0;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  char * result;
  PyObject *pyresult;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_context_get_error(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(427));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_context_get_error _cffi_d_futhark_context_get_error
#endif

static struct futhark_context * _cffi_d_futhark_context_new(struct futhark_context_config * x0)
{
  return futhark_context_new(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_new(PyObject *self, PyObject *arg0)
{
  struct futhark_context_config * x0;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_context * result;
  PyObject *pyresult;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(314), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context_config *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(314), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_context_new(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(1));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_context_new _cffi_d_futhark_context_new
#endif

static void _cffi_d_futhark_context_pause_profiling(struct futhark_context * x0)
{
  futhark_context_pause_profiling(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_pause_profiling(PyObject *self, PyObject *arg0)
{
  struct futhark_context * x0;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { futhark_context_pause_profiling(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  Py_INCREF(Py_None);
  return Py_None;
}
#else
#  define _cffi_f_futhark_context_pause_profiling _cffi_d_futhark_context_pause_profiling
#endif

static char * _cffi_d_futhark_context_report(struct futhark_context * x0)
{
  return futhark_context_report(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_report(PyObject *self, PyObject *arg0)
{
  struct futhark_context * x0;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  char * result;
  PyObject *pyresult;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_context_report(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(427));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_context_report _cffi_d_futhark_context_report
#endif

static void _cffi_d_futhark_context_set_logging_file(struct futhark_context * x0, FILE * x1)
{
  futhark_context_set_logging_file(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_set_logging_file(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  FILE * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_context_set_logging_file", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(410), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (FILE *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(410), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { futhark_context_set_logging_file(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  Py_INCREF(Py_None);
  return Py_None;
}
#else
#  define _cffi_f_futhark_context_set_logging_file _cffi_d_futhark_context_set_logging_file
#endif

static int _cffi_d_futhark_context_sync(struct futhark_context * x0)
{
  return futhark_context_sync(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_sync(PyObject *self, PyObject *arg0)
{
  struct futhark_context * x0;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_context_sync(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_context_sync _cffi_d_futhark_context_sync
#endif

static void _cffi_d_futhark_context_unpause_profiling(struct futhark_context * x0)
{
  futhark_context_unpause_profiling(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_context_unpause_profiling(PyObject *self, PyObject *arg0)
{
  struct futhark_context * x0;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { futhark_context_unpause_profiling(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  Py_INCREF(Py_None);
  return Py_None;
}
#else
#  define _cffi_f_futhark_context_unpause_profiling _cffi_d_futhark_context_unpause_profiling
#endif

static int _cffi_d_futhark_entry_hgoInteraction(struct futhark_context * x0, struct futhark_f32_2d * * x1, float x2, float x3, float x4, struct futhark_f32_2d const * x5, struct futhark_f32_2d const * x6)
{
  return futhark_entry_hgoInteraction(x0, x1, x2, x3, x4, x5, x6);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_entry_hgoInteraction(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_2d * * x1;
  float x2;
  float x3;
  float x4;
  struct futhark_f32_2d const * x5;
  struct futhark_f32_2d const * x6;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;
  PyObject *arg4;
  PyObject *arg5;
  PyObject *arg6;

  if (!PyArg_UnpackTuple(args, "futhark_entry_hgoInteraction", 7, 7, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(81), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(81), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x2 = (float)_cffi_to_c_float(arg2);
  if (x2 == (float)-1 && PyErr_Occurred())
    return NULL;

  x3 = (float)_cffi_to_c_float(arg3);
  if (x3 == (float)-1 && PyErr_Occurred())
    return NULL;

  x4 = (float)_cffi_to_c_float(arg4);
  if (x4 == (float)-1 && PyErr_Occurred())
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(85), arg5, (char **)&x5);
  if (datasize != 0) {
    x5 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(85), arg5, (char **)&x5,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(85), arg6, (char **)&x6);
  if (datasize != 0) {
    x6 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(85), arg6, (char **)&x6,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_entry_hgoInteraction(x0, x1, x2, x3, x4, x5, x6); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_entry_hgoInteraction _cffi_d_futhark_entry_hgoInteraction
#endif

static int _cffi_d_futhark_entry_hgoPotential(struct futhark_context * x0, float * x1, float x2, float x3, float x4, struct futhark_f32_1d const * x5, struct futhark_f32_1d const * x6)
{
  return futhark_entry_hgoPotential(x0, x1, x2, x3, x4, x5, x6);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_entry_hgoPotential(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  float * x1;
  float x2;
  float x3;
  float x4;
  struct futhark_f32_1d const * x5;
  struct futhark_f32_1d const * x6;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;
  PyObject *arg4;
  PyObject *arg5;
  PyObject *arg6;

  if (!PyArg_UnpackTuple(args, "futhark_entry_hgoPotential", 7, 7, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(11), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (float *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(11), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x2 = (float)_cffi_to_c_float(arg2);
  if (x2 == (float)-1 && PyErr_Occurred())
    return NULL;

  x3 = (float)_cffi_to_c_float(arg3);
  if (x3 == (float)-1 && PyErr_Occurred())
    return NULL;

  x4 = (float)_cffi_to_c_float(arg4);
  if (x4 == (float)-1 && PyErr_Occurred())
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg5, (char **)&x5);
  if (datasize != 0) {
    x5 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg5, (char **)&x5,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg6, (char **)&x6);
  if (datasize != 0) {
    x6 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg6, (char **)&x6,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_entry_hgoPotential(x0, x1, x2, x3, x4, x5, x6); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_entry_hgoPotential _cffi_d_futhark_entry_hgoPotential
#endif

static int _cffi_d_futhark_entry_hgoPotentialAbs(struct futhark_context * x0, float * x1, float x2, float x3, float x4, struct futhark_f32_1d const * x5, struct futhark_f32_1d const * x6, struct futhark_f32_1d const * x7, struct futhark_f32_1d const * x8)
{
  return futhark_entry_hgoPotentialAbs(x0, x1, x2, x3, x4, x5, x6, x7, x8);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_entry_hgoPotentialAbs(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  float * x1;
  float x2;
  float x3;
  float x4;
  struct futhark_f32_1d const * x5;
  struct futhark_f32_1d const * x6;
  struct futhark_f32_1d const * x7;
  struct futhark_f32_1d const * x8;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;
  PyObject *arg4;
  PyObject *arg5;
  PyObject *arg6;
  PyObject *arg7;
  PyObject *arg8;

  if (!PyArg_UnpackTuple(args, "futhark_entry_hgoPotentialAbs", 9, 9, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(11), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (float *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(11), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x2 = (float)_cffi_to_c_float(arg2);
  if (x2 == (float)-1 && PyErr_Occurred())
    return NULL;

  x3 = (float)_cffi_to_c_float(arg3);
  if (x3 == (float)-1 && PyErr_Occurred())
    return NULL;

  x4 = (float)_cffi_to_c_float(arg4);
  if (x4 == (float)-1 && PyErr_Occurred())
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg5, (char **)&x5);
  if (datasize != 0) {
    x5 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg5, (char **)&x5,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg6, (char **)&x6);
  if (datasize != 0) {
    x6 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg6, (char **)&x6,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg7, (char **)&x7);
  if (datasize != 0) {
    x7 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg7, (char **)&x7,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg8, (char **)&x8);
  if (datasize != 0) {
    x8 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg8, (char **)&x8,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_entry_hgoPotentialAbs(x0, x1, x2, x3, x4, x5, x6, x7, x8); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_entry_hgoPotentialAbs _cffi_d_futhark_entry_hgoPotentialAbs
#endif

static int _cffi_d_futhark_entry_networkInteraction(struct futhark_context * x0, struct futhark_f32_2d * * x1, struct futhark_opaque_networkParameter const * x2, struct futhark_f32_2d const * x3, struct futhark_f32_2d const * x4)
{
  return futhark_entry_networkInteraction(x0, x1, x2, x3, x4);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_entry_networkInteraction(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_2d * * x1;
  struct futhark_opaque_networkParameter const * x2;
  struct futhark_f32_2d const * x3;
  struct futhark_f32_2d const * x4;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;
  PyObject *arg4;

  if (!PyArg_UnpackTuple(args, "futhark_entry_networkInteraction", 5, 5, &arg0, &arg1, &arg2, &arg3, &arg4))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(81), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(81), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(37), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_networkParameter const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(37), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(85), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(85), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(85), arg4, (char **)&x4);
  if (datasize != 0) {
    x4 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(85), arg4, (char **)&x4,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_entry_networkInteraction(x0, x1, x2, x3, x4); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_entry_networkInteraction _cffi_d_futhark_entry_networkInteraction
#endif

static int _cffi_d_futhark_entry_networkPotential(struct futhark_context * x0, float * x1, struct futhark_opaque_networkParameter const * x2, struct futhark_f32_1d const * x3, struct futhark_f32_1d const * x4)
{
  return futhark_entry_networkPotential(x0, x1, x2, x3, x4);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_entry_networkPotential(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  float * x1;
  struct futhark_opaque_networkParameter const * x2;
  struct futhark_f32_1d const * x3;
  struct futhark_f32_1d const * x4;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;
  PyObject *arg4;

  if (!PyArg_UnpackTuple(args, "futhark_entry_networkPotential", 5, 5, &arg0, &arg1, &arg2, &arg3, &arg4))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(11), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (float *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(11), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(37), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_networkParameter const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(37), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg4, (char **)&x4);
  if (datasize != 0) {
    x4 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg4, (char **)&x4,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_entry_networkPotential(x0, x1, x2, x3, x4); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_entry_networkPotential _cffi_d_futhark_entry_networkPotential
#endif

static int _cffi_d_futhark_entry_networkPotentialAbs(struct futhark_context * x0, float * x1, struct futhark_opaque_networkParameter const * x2, struct futhark_f32_1d const * x3, struct futhark_f32_1d const * x4, struct futhark_f32_1d const * x5, struct futhark_f32_1d const * x6)
{
  return futhark_entry_networkPotentialAbs(x0, x1, x2, x3, x4, x5, x6);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_entry_networkPotentialAbs(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  float * x1;
  struct futhark_opaque_networkParameter const * x2;
  struct futhark_f32_1d const * x3;
  struct futhark_f32_1d const * x4;
  struct futhark_f32_1d const * x5;
  struct futhark_f32_1d const * x6;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;
  PyObject *arg4;
  PyObject *arg5;
  PyObject *arg6;

  if (!PyArg_UnpackTuple(args, "futhark_entry_networkPotentialAbs", 7, 7, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(11), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (float *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(11), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(37), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_networkParameter const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(37), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg4, (char **)&x4);
  if (datasize != 0) {
    x4 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg4, (char **)&x4,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg5, (char **)&x5);
  if (datasize != 0) {
    x5 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg5, (char **)&x5,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg6, (char **)&x6);
  if (datasize != 0) {
    x6 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg6, (char **)&x6,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_entry_networkPotentialAbs(x0, x1, x2, x3, x4, x5, x6); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_entry_networkPotentialAbs _cffi_d_futhark_entry_networkPotentialAbs
#endif

static int _cffi_d_futhark_free_f32_1d(struct futhark_context * x0, struct futhark_f32_1d * x1)
{
  return futhark_free_f32_1d(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_f32_1d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_1d * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_f32_1d", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(72), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(72), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_f32_1d(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_f32_1d _cffi_d_futhark_free_f32_1d
#endif

static int _cffi_d_futhark_free_f32_2d(struct futhark_context * x0, struct futhark_f32_2d * x1)
{
  return futhark_free_f32_2d(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_f32_2d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_2d * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_f32_2d", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(107), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(107), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_f32_2d(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_f32_2d _cffi_d_futhark_free_f32_2d
#endif

static int _cffi_d_futhark_free_opaque_32531da2(struct futhark_context * x0, struct futhark_opaque_32531da2 * x1)
{
  return futhark_free_opaque_32531da2(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_opaque_32531da2(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_32531da2 * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_opaque_32531da2", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(132), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_32531da2 *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(132), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_opaque_32531da2(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_opaque_32531da2 _cffi_d_futhark_free_opaque_32531da2
#endif

static int _cffi_d_futhark_free_opaque_67daac7(struct futhark_context * x0, struct futhark_opaque_67daac7 * x1)
{
  return futhark_free_opaque_67daac7(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_opaque_67daac7(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_67daac7 * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_opaque_67daac7", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(153), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_67daac7 *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(153), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_opaque_67daac7(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_opaque_67daac7 _cffi_d_futhark_free_opaque_67daac7
#endif

static int _cffi_d_futhark_free_opaque_8ce68ead(struct futhark_context * x0, struct futhark_opaque_8ce68ead * x1)
{
  return futhark_free_opaque_8ce68ead(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_opaque_8ce68ead(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_8ce68ead * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_opaque_8ce68ead", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(174), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8ce68ead *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(174), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_opaque_8ce68ead(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_opaque_8ce68ead _cffi_d_futhark_free_opaque_8ce68ead
#endif

static int _cffi_d_futhark_free_opaque_8f5f2e9d(struct futhark_context * x0, struct futhark_opaque_8f5f2e9d * x1)
{
  return futhark_free_opaque_8f5f2e9d(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_opaque_8f5f2e9d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_8f5f2e9d * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_opaque_8f5f2e9d", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(195), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8f5f2e9d *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(195), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_opaque_8f5f2e9d(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_opaque_8f5f2e9d _cffi_d_futhark_free_opaque_8f5f2e9d
#endif

static int _cffi_d_futhark_free_opaque_b0aee03a(struct futhark_context * x0, struct futhark_opaque_b0aee03a * x1)
{
  return futhark_free_opaque_b0aee03a(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_opaque_b0aee03a(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_b0aee03a * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_opaque_b0aee03a", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(216), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_b0aee03a *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(216), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_opaque_b0aee03a(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_opaque_b0aee03a _cffi_d_futhark_free_opaque_b0aee03a
#endif

static int _cffi_d_futhark_free_opaque_c5da5e9b(struct futhark_context * x0, struct futhark_opaque_c5da5e9b * x1)
{
  return futhark_free_opaque_c5da5e9b(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_opaque_c5da5e9b(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_c5da5e9b * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_opaque_c5da5e9b", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(231), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_c5da5e9b *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(231), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_opaque_c5da5e9b(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_opaque_c5da5e9b _cffi_d_futhark_free_opaque_c5da5e9b
#endif

static int _cffi_d_futhark_free_opaque_e9a0e68b(struct futhark_context * x0, struct futhark_opaque_e9a0e68b * x1)
{
  return futhark_free_opaque_e9a0e68b(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_opaque_e9a0e68b(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_e9a0e68b * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_opaque_e9a0e68b", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(253), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_e9a0e68b *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(253), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_opaque_e9a0e68b(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_opaque_e9a0e68b _cffi_d_futhark_free_opaque_e9a0e68b
#endif

static int _cffi_d_futhark_free_opaque_f270e689(struct futhark_context * x0, struct futhark_opaque_f270e689 * x1)
{
  return futhark_free_opaque_f270e689(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_opaque_f270e689(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_f270e689 * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_opaque_f270e689", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(274), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_f270e689 *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(274), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_opaque_f270e689(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_opaque_f270e689 _cffi_d_futhark_free_opaque_f270e689
#endif

static int _cffi_d_futhark_free_opaque_networkParameter(struct futhark_context * x0, struct futhark_opaque_networkParameter * x1)
{
  return futhark_free_opaque_networkParameter(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_opaque_networkParameter(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_networkParameter * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_opaque_networkParameter", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(290), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_networkParameter *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(290), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_opaque_networkParameter(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_opaque_networkParameter _cffi_d_futhark_free_opaque_networkParameter
#endif

static int _cffi_d_futhark_free_opaque_particleType(struct futhark_context * x0, struct futhark_opaque_particleType * x1)
{
  return futhark_free_opaque_particleType(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_free_opaque_particleType(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_particleType * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_free_opaque_particleType", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(305), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_particleType *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(305), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_free_opaque_particleType(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_free_opaque_particleType _cffi_d_futhark_free_opaque_particleType
#endif

static char const * _cffi_d_futhark_get_tuning_param_class(int x0)
{
  return futhark_get_tuning_param_class(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_get_tuning_param_class(PyObject *self, PyObject *arg0)
{
  int x0;
  char const * result;
  PyObject *pyresult;

  x0 = _cffi_to_c_int(arg0, int);
  if (x0 == (int)-1 && PyErr_Occurred())
    return NULL;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_get_tuning_param_class(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(315));
  return pyresult;
}
#else
#  define _cffi_f_futhark_get_tuning_param_class _cffi_d_futhark_get_tuning_param_class
#endif

static int _cffi_d_futhark_get_tuning_param_count(void)
{
  return futhark_get_tuning_param_count();
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_get_tuning_param_count(PyObject *self, PyObject *noarg)
{
  int result;
  PyObject *pyresult;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_get_tuning_param_count(); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  (void)noarg; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  return pyresult;
}
#else
#  define _cffi_f_futhark_get_tuning_param_count _cffi_d_futhark_get_tuning_param_count
#endif

static char const * _cffi_d_futhark_get_tuning_param_name(int x0)
{
  return futhark_get_tuning_param_name(x0);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_get_tuning_param_name(PyObject *self, PyObject *arg0)
{
  int x0;
  char const * result;
  PyObject *pyresult;

  x0 = _cffi_to_c_int(arg0, int);
  if (x0 == (int)-1 && PyErr_Occurred())
    return NULL;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_get_tuning_param_name(x0); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(315));
  return pyresult;
}
#else
#  define _cffi_f_futhark_get_tuning_param_name _cffi_d_futhark_get_tuning_param_name
#endif

static struct futhark_f32_1d * _cffi_d_futhark_new_f32_1d(struct futhark_context * x0, float const * x1, int64_t x2)
{
  return futhark_new_f32_1d(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_f32_1d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  float const * x1;
  int64_t x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_f32_1d * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_new_f32_1d", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(335), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (float const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(335), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x2 = _cffi_to_c_int(arg2, int64_t);
  if (x2 == (int64_t)-1 && PyErr_Occurred())
    return NULL;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_f32_1d(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(72));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_f32_1d _cffi_d_futhark_new_f32_1d
#endif

static struct futhark_f32_2d * _cffi_d_futhark_new_f32_2d(struct futhark_context * x0, float const * x1, int64_t x2, int64_t x3)
{
  return futhark_new_f32_2d(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_f32_2d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  float const * x1;
  int64_t x2;
  int64_t x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_f32_2d * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_new_f32_2d", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(335), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (float const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(335), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x2 = _cffi_to_c_int(arg2, int64_t);
  if (x2 == (int64_t)-1 && PyErr_Occurred())
    return NULL;

  x3 = _cffi_to_c_int(arg3, int64_t);
  if (x3 == (int64_t)-1 && PyErr_Occurred())
    return NULL;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_f32_2d(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(107));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_f32_2d _cffi_d_futhark_new_f32_2d
#endif

static int _cffi_d_futhark_new_opaque_32531da2(struct futhark_context * x0, struct futhark_opaque_32531da2 * * x1, struct futhark_f32_2d const * x2, struct futhark_f32_1d const * x3)
{
  return futhark_new_opaque_32531da2(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_opaque_32531da2(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_32531da2 * * x1;
  struct futhark_f32_2d const * x2;
  struct futhark_f32_1d const * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_new_opaque_32531da2", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(116), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_32531da2 * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(116), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(85), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(85), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_opaque_32531da2(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_opaque_32531da2 _cffi_d_futhark_new_opaque_32531da2
#endif

static int _cffi_d_futhark_new_opaque_67daac7(struct futhark_context * x0, struct futhark_opaque_67daac7 * * x1, struct futhark_opaque_c5da5e9b const * x2, struct futhark_opaque_b0aee03a const * x3)
{
  return futhark_new_opaque_67daac7(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_opaque_67daac7(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_67daac7 * * x1;
  struct futhark_opaque_c5da5e9b const * x2;
  struct futhark_opaque_b0aee03a const * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_new_opaque_67daac7", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(142), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_67daac7 * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(142), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(143), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_c5da5e9b const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(143), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(63), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_b0aee03a const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(63), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_opaque_67daac7(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_opaque_67daac7 _cffi_d_futhark_new_opaque_67daac7
#endif

static int _cffi_d_futhark_new_opaque_8ce68ead(struct futhark_context * x0, struct futhark_opaque_8ce68ead * * x1, struct futhark_opaque_f270e689 const * x2, struct futhark_opaque_32531da2 const * x3)
{
  return futhark_new_opaque_8ce68ead(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_opaque_8ce68ead(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_8ce68ead * * x1;
  struct futhark_opaque_f270e689 const * x2;
  struct futhark_opaque_32531da2 const * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_new_opaque_8ce68ead", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(163), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8ce68ead * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(163), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(68), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_f270e689 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(68), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(58), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_32531da2 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(58), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_opaque_8ce68ead(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_opaque_8ce68ead _cffi_d_futhark_new_opaque_8ce68ead
#endif

static int _cffi_d_futhark_new_opaque_8f5f2e9d(struct futhark_context * x0, struct futhark_opaque_8f5f2e9d * * x1, struct futhark_opaque_8ce68ead const * x2, struct futhark_opaque_32531da2 const * x3)
{
  return futhark_new_opaque_8f5f2e9d(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_opaque_8f5f2e9d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_8f5f2e9d * * x1;
  struct futhark_opaque_8ce68ead const * x2;
  struct futhark_opaque_32531da2 const * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_new_opaque_8f5f2e9d", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(184), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8f5f2e9d * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(184), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(123), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8ce68ead const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(123), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(58), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_32531da2 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(58), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_opaque_8f5f2e9d(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_opaque_8f5f2e9d _cffi_d_futhark_new_opaque_8f5f2e9d
#endif

static int _cffi_d_futhark_new_opaque_b0aee03a(struct futhark_context * x0, struct futhark_opaque_b0aee03a * * x1, struct futhark_opaque_8f5f2e9d const * x2, struct futhark_f32_1d const * x3)
{
  return futhark_new_opaque_b0aee03a(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_opaque_b0aee03a(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_b0aee03a * * x1;
  struct futhark_opaque_8f5f2e9d const * x2;
  struct futhark_f32_1d const * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_new_opaque_b0aee03a", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(205), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_b0aee03a * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(205), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(128), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8f5f2e9d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(128), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_opaque_b0aee03a(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_opaque_b0aee03a _cffi_d_futhark_new_opaque_b0aee03a
#endif

static int _cffi_d_futhark_new_opaque_e9a0e68b(struct futhark_context * x0, struct futhark_opaque_e9a0e68b * * x1, struct futhark_opaque_particleType const * x2, float x3, int32_t x4)
{
  return futhark_new_opaque_e9a0e68b(x0, x1, x2, x3, x4);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_opaque_e9a0e68b(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_e9a0e68b * * x1;
  struct futhark_opaque_particleType const * x2;
  float x3;
  int32_t x4;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;
  PyObject *arg4;

  if (!PyArg_UnpackTuple(args, "futhark_new_opaque_e9a0e68b", 5, 5, &arg0, &arg1, &arg2, &arg3, &arg4))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(241), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_e9a0e68b * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(241), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(247), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_particleType const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(247), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x3 = (float)_cffi_to_c_float(arg3);
  if (x3 == (float)-1 && PyErr_Occurred())
    return NULL;

  x4 = _cffi_to_c_int(arg4, int32_t);
  if (x4 == (int32_t)-1 && PyErr_Occurred())
    return NULL;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_opaque_e9a0e68b(x0, x1, x2, x3, x4); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_opaque_e9a0e68b _cffi_d_futhark_new_opaque_e9a0e68b
#endif

static int _cffi_d_futhark_new_opaque_f270e689(struct futhark_context * x0, struct futhark_opaque_f270e689 * * x1, struct futhark_f32_2d const * x2, struct futhark_f32_1d const * x3)
{
  return futhark_new_opaque_f270e689(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_opaque_f270e689(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_f270e689 * * x1;
  struct futhark_f32_2d const * x2;
  struct futhark_f32_1d const * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_new_opaque_f270e689", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(263), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_f270e689 * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(263), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(85), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(85), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(15), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(15), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_opaque_f270e689(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_opaque_f270e689 _cffi_d_futhark_new_opaque_f270e689
#endif

static int _cffi_d_futhark_new_opaque_networkParameter(struct futhark_context * x0, struct futhark_opaque_networkParameter * * x1, struct futhark_opaque_e9a0e68b const * x2, struct futhark_opaque_67daac7 const * x3)
{
  return futhark_new_opaque_networkParameter(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_opaque_networkParameter(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_networkParameter * * x1;
  struct futhark_opaque_e9a0e68b const * x2;
  struct futhark_opaque_67daac7 const * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_new_opaque_networkParameter", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(284), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_networkParameter * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(284), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(32), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_e9a0e68b const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(32), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(157), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_67daac7 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(157), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_opaque_networkParameter(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_opaque_networkParameter _cffi_d_futhark_new_opaque_networkParameter
#endif

static struct futhark_f32_1d * _cffi_d_futhark_new_raw_f32_1d(struct futhark_context * x0, unsigned char const * x1, int64_t x2, int64_t x3)
{
  return futhark_new_raw_f32_1d(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_raw_f32_1d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  unsigned char const * x1;
  int64_t x2;
  int64_t x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_f32_1d * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_new_raw_f32_1d", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(340), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (unsigned char const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(340), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x2 = _cffi_to_c_int(arg2, int64_t);
  if (x2 == (int64_t)-1 && PyErr_Occurred())
    return NULL;

  x3 = _cffi_to_c_int(arg3, int64_t);
  if (x3 == (int64_t)-1 && PyErr_Occurred())
    return NULL;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_raw_f32_1d(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(72));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_raw_f32_1d _cffi_d_futhark_new_raw_f32_1d
#endif

static struct futhark_f32_2d * _cffi_d_futhark_new_raw_f32_2d(struct futhark_context * x0, unsigned char const * x1, int64_t x2, int64_t x3, int64_t x4)
{
  return futhark_new_raw_f32_2d(x0, x1, x2, x3, x4);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_new_raw_f32_2d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  unsigned char const * x1;
  int64_t x2;
  int64_t x3;
  int64_t x4;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_f32_2d * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;
  PyObject *arg4;

  if (!PyArg_UnpackTuple(args, "futhark_new_raw_f32_2d", 5, 5, &arg0, &arg1, &arg2, &arg3, &arg4))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(340), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (unsigned char const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(340), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  x2 = _cffi_to_c_int(arg2, int64_t);
  if (x2 == (int64_t)-1 && PyErr_Occurred())
    return NULL;

  x3 = _cffi_to_c_int(arg3, int64_t);
  if (x3 == (int64_t)-1 && PyErr_Occurred())
    return NULL;

  x4 = _cffi_to_c_int(arg4, int64_t);
  if (x4 == (int64_t)-1 && PyErr_Occurred())
    return NULL;

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_new_raw_f32_2d(x0, x1, x2, x3, x4); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(107));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_new_raw_f32_2d _cffi_d_futhark_new_raw_f32_2d
#endif

static int _cffi_d_futhark_project_opaque_32531da2_0(struct futhark_context * x0, struct futhark_f32_2d * * x1, struct futhark_opaque_32531da2 const * x2)
{
  return futhark_project_opaque_32531da2_0(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_32531da2_0(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_2d * * x1;
  struct futhark_opaque_32531da2 const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_32531da2_0", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(81), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(81), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(58), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_32531da2 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(58), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_32531da2_0(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_32531da2_0 _cffi_d_futhark_project_opaque_32531da2_0
#endif

static int _cffi_d_futhark_project_opaque_32531da2_1(struct futhark_context * x0, struct futhark_f32_1d * * x1, struct futhark_opaque_32531da2 const * x2)
{
  return futhark_project_opaque_32531da2_1(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_32531da2_1(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_1d * * x1;
  struct futhark_opaque_32531da2 const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_32531da2_1", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(57), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(57), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(58), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_32531da2 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(58), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_32531da2_1(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_32531da2_1 _cffi_d_futhark_project_opaque_32531da2_1
#endif

static int _cffi_d_futhark_project_opaque_67daac7_0(struct futhark_context * x0, struct futhark_opaque_c5da5e9b * * x1, struct futhark_opaque_67daac7 const * x2)
{
  return futhark_project_opaque_67daac7_0(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_67daac7_0(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_c5da5e9b * * x1;
  struct futhark_opaque_67daac7 const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_67daac7_0", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(226), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_c5da5e9b * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(226), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(157), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_67daac7 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(157), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_67daac7_0(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_67daac7_0 _cffi_d_futhark_project_opaque_67daac7_0
#endif

static int _cffi_d_futhark_project_opaque_67daac7_1(struct futhark_context * x0, struct futhark_opaque_b0aee03a * * x1, struct futhark_opaque_67daac7 const * x2)
{
  return futhark_project_opaque_67daac7_1(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_67daac7_1(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_b0aee03a * * x1;
  struct futhark_opaque_67daac7 const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_67daac7_1", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(205), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_b0aee03a * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(205), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(157), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_67daac7 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(157), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_67daac7_1(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_67daac7_1 _cffi_d_futhark_project_opaque_67daac7_1
#endif

static int _cffi_d_futhark_project_opaque_8ce68ead_0(struct futhark_context * x0, struct futhark_opaque_f270e689 * * x1, struct futhark_opaque_8ce68ead const * x2)
{
  return futhark_project_opaque_8ce68ead_0(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_8ce68ead_0(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_f270e689 * * x1;
  struct futhark_opaque_8ce68ead const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_8ce68ead_0", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(263), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_f270e689 * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(263), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(123), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8ce68ead const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(123), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_8ce68ead_0(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_8ce68ead_0 _cffi_d_futhark_project_opaque_8ce68ead_0
#endif

static int _cffi_d_futhark_project_opaque_8ce68ead_1(struct futhark_context * x0, struct futhark_opaque_32531da2 * * x1, struct futhark_opaque_8ce68ead const * x2)
{
  return futhark_project_opaque_8ce68ead_1(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_8ce68ead_1(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_32531da2 * * x1;
  struct futhark_opaque_8ce68ead const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_8ce68ead_1", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(116), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_32531da2 * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(116), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(123), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8ce68ead const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(123), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_8ce68ead_1(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_8ce68ead_1 _cffi_d_futhark_project_opaque_8ce68ead_1
#endif

static int _cffi_d_futhark_project_opaque_8f5f2e9d_0(struct futhark_context * x0, struct futhark_opaque_8ce68ead * * x1, struct futhark_opaque_8f5f2e9d const * x2)
{
  return futhark_project_opaque_8f5f2e9d_0(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_8f5f2e9d_0(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_8ce68ead * * x1;
  struct futhark_opaque_8f5f2e9d const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_8f5f2e9d_0", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(163), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8ce68ead * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(163), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(128), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8f5f2e9d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(128), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_8f5f2e9d_0(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_8f5f2e9d_0 _cffi_d_futhark_project_opaque_8f5f2e9d_0
#endif

static int _cffi_d_futhark_project_opaque_8f5f2e9d_1(struct futhark_context * x0, struct futhark_opaque_32531da2 * * x1, struct futhark_opaque_8f5f2e9d const * x2)
{
  return futhark_project_opaque_8f5f2e9d_1(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_8f5f2e9d_1(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_32531da2 * * x1;
  struct futhark_opaque_8f5f2e9d const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_8f5f2e9d_1", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(116), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_32531da2 * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(116), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(128), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8f5f2e9d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(128), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_8f5f2e9d_1(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_8f5f2e9d_1 _cffi_d_futhark_project_opaque_8f5f2e9d_1
#endif

static int _cffi_d_futhark_project_opaque_b0aee03a_0(struct futhark_context * x0, struct futhark_opaque_8f5f2e9d * * x1, struct futhark_opaque_b0aee03a const * x2)
{
  return futhark_project_opaque_b0aee03a_0(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_b0aee03a_0(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_8f5f2e9d * * x1;
  struct futhark_opaque_b0aee03a const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_b0aee03a_0", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(184), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8f5f2e9d * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(184), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(63), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_b0aee03a const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(63), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_b0aee03a_0(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_b0aee03a_0 _cffi_d_futhark_project_opaque_b0aee03a_0
#endif

static int _cffi_d_futhark_project_opaque_b0aee03a_1(struct futhark_context * x0, struct futhark_f32_1d * * x1, struct futhark_opaque_b0aee03a const * x2)
{
  return futhark_project_opaque_b0aee03a_1(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_b0aee03a_1(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_1d * * x1;
  struct futhark_opaque_b0aee03a const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_b0aee03a_1", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(57), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(57), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(63), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_b0aee03a const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(63), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_b0aee03a_1(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_b0aee03a_1 _cffi_d_futhark_project_opaque_b0aee03a_1
#endif

static int _cffi_d_futhark_project_opaque_e9a0e68b_0(struct futhark_context * x0, struct futhark_opaque_particleType * * x1, struct futhark_opaque_e9a0e68b const * x2)
{
  return futhark_project_opaque_e9a0e68b_0(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_e9a0e68b_0(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_particleType * * x1;
  struct futhark_opaque_e9a0e68b const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_e9a0e68b_0", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(300), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_particleType * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(300), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(32), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_e9a0e68b const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(32), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_e9a0e68b_0(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_e9a0e68b_0 _cffi_d_futhark_project_opaque_e9a0e68b_0
#endif

static int _cffi_d_futhark_project_opaque_e9a0e68b_1(struct futhark_context * x0, float * x1, struct futhark_opaque_e9a0e68b const * x2)
{
  return futhark_project_opaque_e9a0e68b_1(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_e9a0e68b_1(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  float * x1;
  struct futhark_opaque_e9a0e68b const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_e9a0e68b_1", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(11), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (float *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(11), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(32), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_e9a0e68b const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(32), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_e9a0e68b_1(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_e9a0e68b_1 _cffi_d_futhark_project_opaque_e9a0e68b_1
#endif

static int _cffi_d_futhark_project_opaque_e9a0e68b_2(struct futhark_context * x0, int32_t * x1, struct futhark_opaque_e9a0e68b const * x2)
{
  return futhark_project_opaque_e9a0e68b_2(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_e9a0e68b_2(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  int32_t * x1;
  struct futhark_opaque_e9a0e68b const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_e9a0e68b_2", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(52), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (int32_t *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(52), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(32), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_e9a0e68b const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(32), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_e9a0e68b_2(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_e9a0e68b_2 _cffi_d_futhark_project_opaque_e9a0e68b_2
#endif

static int _cffi_d_futhark_project_opaque_f270e689_0(struct futhark_context * x0, struct futhark_f32_2d * * x1, struct futhark_opaque_f270e689 const * x2)
{
  return futhark_project_opaque_f270e689_0(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_f270e689_0(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_2d * * x1;
  struct futhark_opaque_f270e689 const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_f270e689_0", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(81), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(81), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(68), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_f270e689 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(68), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_f270e689_0(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_f270e689_0 _cffi_d_futhark_project_opaque_f270e689_0
#endif

static int _cffi_d_futhark_project_opaque_f270e689_1(struct futhark_context * x0, struct futhark_f32_1d * * x1, struct futhark_opaque_f270e689 const * x2)
{
  return futhark_project_opaque_f270e689_1(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_f270e689_1(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_1d * * x1;
  struct futhark_opaque_f270e689 const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_f270e689_1", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(57), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(57), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(68), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_f270e689 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(68), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_f270e689_1(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_f270e689_1 _cffi_d_futhark_project_opaque_f270e689_1
#endif

static int _cffi_d_futhark_project_opaque_networkParameter_0(struct futhark_context * x0, struct futhark_opaque_e9a0e68b * * x1, struct futhark_opaque_networkParameter const * x2)
{
  return futhark_project_opaque_networkParameter_0(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_networkParameter_0(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_e9a0e68b * * x1;
  struct futhark_opaque_networkParameter const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_networkParameter_0", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(241), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_e9a0e68b * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(241), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(37), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_networkParameter const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(37), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_networkParameter_0(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_networkParameter_0 _cffi_d_futhark_project_opaque_networkParameter_0
#endif

static int _cffi_d_futhark_project_opaque_networkParameter_1(struct futhark_context * x0, struct futhark_opaque_67daac7 * * x1, struct futhark_opaque_networkParameter const * x2)
{
  return futhark_project_opaque_networkParameter_1(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_project_opaque_networkParameter_1(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_67daac7 * * x1;
  struct futhark_opaque_networkParameter const * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_project_opaque_networkParameter_1", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(142), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_67daac7 * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(142), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(37), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_networkParameter const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(37), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_project_opaque_networkParameter_1(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_project_opaque_networkParameter_1 _cffi_d_futhark_project_opaque_networkParameter_1
#endif

static struct futhark_opaque_32531da2 * _cffi_d_futhark_restore_opaque_32531da2(struct futhark_context * x0, void const * x1)
{
  return futhark_restore_opaque_32531da2(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_restore_opaque_32531da2(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  void const * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_opaque_32531da2 * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_restore_opaque_32531da2", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(359), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (void const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(359), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_restore_opaque_32531da2(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(132));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_restore_opaque_32531da2 _cffi_d_futhark_restore_opaque_32531da2
#endif

static struct futhark_opaque_67daac7 * _cffi_d_futhark_restore_opaque_67daac7(struct futhark_context * x0, void const * x1)
{
  return futhark_restore_opaque_67daac7(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_restore_opaque_67daac7(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  void const * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_opaque_67daac7 * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_restore_opaque_67daac7", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(359), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (void const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(359), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_restore_opaque_67daac7(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(153));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_restore_opaque_67daac7 _cffi_d_futhark_restore_opaque_67daac7
#endif

static struct futhark_opaque_8ce68ead * _cffi_d_futhark_restore_opaque_8ce68ead(struct futhark_context * x0, void const * x1)
{
  return futhark_restore_opaque_8ce68ead(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_restore_opaque_8ce68ead(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  void const * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_opaque_8ce68ead * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_restore_opaque_8ce68ead", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(359), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (void const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(359), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_restore_opaque_8ce68ead(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(174));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_restore_opaque_8ce68ead _cffi_d_futhark_restore_opaque_8ce68ead
#endif

static struct futhark_opaque_8f5f2e9d * _cffi_d_futhark_restore_opaque_8f5f2e9d(struct futhark_context * x0, void const * x1)
{
  return futhark_restore_opaque_8f5f2e9d(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_restore_opaque_8f5f2e9d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  void const * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_opaque_8f5f2e9d * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_restore_opaque_8f5f2e9d", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(359), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (void const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(359), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_restore_opaque_8f5f2e9d(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(195));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_restore_opaque_8f5f2e9d _cffi_d_futhark_restore_opaque_8f5f2e9d
#endif

static struct futhark_opaque_b0aee03a * _cffi_d_futhark_restore_opaque_b0aee03a(struct futhark_context * x0, void const * x1)
{
  return futhark_restore_opaque_b0aee03a(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_restore_opaque_b0aee03a(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  void const * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_opaque_b0aee03a * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_restore_opaque_b0aee03a", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(359), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (void const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(359), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_restore_opaque_b0aee03a(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(216));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_restore_opaque_b0aee03a _cffi_d_futhark_restore_opaque_b0aee03a
#endif

static struct futhark_opaque_c5da5e9b * _cffi_d_futhark_restore_opaque_c5da5e9b(struct futhark_context * x0, void const * x1)
{
  return futhark_restore_opaque_c5da5e9b(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_restore_opaque_c5da5e9b(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  void const * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_opaque_c5da5e9b * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_restore_opaque_c5da5e9b", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(359), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (void const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(359), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_restore_opaque_c5da5e9b(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(231));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_restore_opaque_c5da5e9b _cffi_d_futhark_restore_opaque_c5da5e9b
#endif

static struct futhark_opaque_e9a0e68b * _cffi_d_futhark_restore_opaque_e9a0e68b(struct futhark_context * x0, void const * x1)
{
  return futhark_restore_opaque_e9a0e68b(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_restore_opaque_e9a0e68b(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  void const * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_opaque_e9a0e68b * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_restore_opaque_e9a0e68b", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(359), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (void const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(359), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_restore_opaque_e9a0e68b(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(253));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_restore_opaque_e9a0e68b _cffi_d_futhark_restore_opaque_e9a0e68b
#endif

static struct futhark_opaque_f270e689 * _cffi_d_futhark_restore_opaque_f270e689(struct futhark_context * x0, void const * x1)
{
  return futhark_restore_opaque_f270e689(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_restore_opaque_f270e689(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  void const * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_opaque_f270e689 * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_restore_opaque_f270e689", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(359), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (void const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(359), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_restore_opaque_f270e689(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(274));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_restore_opaque_f270e689 _cffi_d_futhark_restore_opaque_f270e689
#endif

static struct futhark_opaque_networkParameter * _cffi_d_futhark_restore_opaque_networkParameter(struct futhark_context * x0, void const * x1)
{
  return futhark_restore_opaque_networkParameter(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_restore_opaque_networkParameter(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  void const * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_opaque_networkParameter * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_restore_opaque_networkParameter", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(359), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (void const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(359), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_restore_opaque_networkParameter(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(290));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_restore_opaque_networkParameter _cffi_d_futhark_restore_opaque_networkParameter
#endif

static struct futhark_opaque_particleType * _cffi_d_futhark_restore_opaque_particleType(struct futhark_context * x0, void const * x1)
{
  return futhark_restore_opaque_particleType(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_restore_opaque_particleType(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  void const * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  struct futhark_opaque_particleType * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_restore_opaque_particleType", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(359), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (void const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(359), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_restore_opaque_particleType(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(305));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_restore_opaque_particleType _cffi_d_futhark_restore_opaque_particleType
#endif

static int64_t const * _cffi_d_futhark_shape_f32_1d(struct futhark_context * x0, struct futhark_f32_1d * x1)
{
  return futhark_shape_f32_1d(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_shape_f32_1d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_1d * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int64_t const * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_shape_f32_1d", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(72), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(72), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_shape_f32_1d(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(429));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_shape_f32_1d _cffi_d_futhark_shape_f32_1d
#endif

static int64_t const * _cffi_d_futhark_shape_f32_2d(struct futhark_context * x0, struct futhark_f32_2d * x1)
{
  return futhark_shape_f32_2d(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_shape_f32_2d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_2d * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int64_t const * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_shape_f32_2d", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(107), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(107), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_shape_f32_2d(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(429));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_shape_f32_2d _cffi_d_futhark_shape_f32_2d
#endif

static int _cffi_d_futhark_store_opaque_32531da2(struct futhark_context * x0, struct futhark_opaque_32531da2 const * x1, void * * x2, size_t * x3)
{
  return futhark_store_opaque_32531da2(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_store_opaque_32531da2(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_32531da2 const * x1;
  void * * x2;
  size_t * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_store_opaque_32531da2", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(58), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_32531da2 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(58), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(137), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (void * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(137), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(138), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (size_t *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(138), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_store_opaque_32531da2(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_store_opaque_32531da2 _cffi_d_futhark_store_opaque_32531da2
#endif

static int _cffi_d_futhark_store_opaque_67daac7(struct futhark_context * x0, struct futhark_opaque_67daac7 const * x1, void * * x2, size_t * x3)
{
  return futhark_store_opaque_67daac7(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_store_opaque_67daac7(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_67daac7 const * x1;
  void * * x2;
  size_t * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_store_opaque_67daac7", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(157), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_67daac7 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(157), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(137), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (void * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(137), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(138), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (size_t *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(138), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_store_opaque_67daac7(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_store_opaque_67daac7 _cffi_d_futhark_store_opaque_67daac7
#endif

static int _cffi_d_futhark_store_opaque_8ce68ead(struct futhark_context * x0, struct futhark_opaque_8ce68ead const * x1, void * * x2, size_t * x3)
{
  return futhark_store_opaque_8ce68ead(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_store_opaque_8ce68ead(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_8ce68ead const * x1;
  void * * x2;
  size_t * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_store_opaque_8ce68ead", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(123), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8ce68ead const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(123), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(137), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (void * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(137), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(138), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (size_t *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(138), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_store_opaque_8ce68ead(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_store_opaque_8ce68ead _cffi_d_futhark_store_opaque_8ce68ead
#endif

static int _cffi_d_futhark_store_opaque_8f5f2e9d(struct futhark_context * x0, struct futhark_opaque_8f5f2e9d const * x1, void * * x2, size_t * x3)
{
  return futhark_store_opaque_8f5f2e9d(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_store_opaque_8f5f2e9d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_8f5f2e9d const * x1;
  void * * x2;
  size_t * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_store_opaque_8f5f2e9d", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(128), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_8f5f2e9d const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(128), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(137), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (void * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(137), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(138), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (size_t *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(138), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_store_opaque_8f5f2e9d(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_store_opaque_8f5f2e9d _cffi_d_futhark_store_opaque_8f5f2e9d
#endif

static int _cffi_d_futhark_store_opaque_b0aee03a(struct futhark_context * x0, struct futhark_opaque_b0aee03a const * x1, void * * x2, size_t * x3)
{
  return futhark_store_opaque_b0aee03a(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_store_opaque_b0aee03a(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_b0aee03a const * x1;
  void * * x2;
  size_t * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_store_opaque_b0aee03a", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(63), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_b0aee03a const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(63), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(137), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (void * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(137), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(138), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (size_t *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(138), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_store_opaque_b0aee03a(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_store_opaque_b0aee03a _cffi_d_futhark_store_opaque_b0aee03a
#endif

static int _cffi_d_futhark_store_opaque_c5da5e9b(struct futhark_context * x0, struct futhark_opaque_c5da5e9b const * x1, void * * x2, size_t * x3)
{
  return futhark_store_opaque_c5da5e9b(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_store_opaque_c5da5e9b(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_c5da5e9b const * x1;
  void * * x2;
  size_t * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_store_opaque_c5da5e9b", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(143), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_c5da5e9b const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(143), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(137), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (void * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(137), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(138), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (size_t *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(138), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_store_opaque_c5da5e9b(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_store_opaque_c5da5e9b _cffi_d_futhark_store_opaque_c5da5e9b
#endif

static int _cffi_d_futhark_store_opaque_e9a0e68b(struct futhark_context * x0, struct futhark_opaque_e9a0e68b const * x1, void * * x2, size_t * x3)
{
  return futhark_store_opaque_e9a0e68b(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_store_opaque_e9a0e68b(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_e9a0e68b const * x1;
  void * * x2;
  size_t * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_store_opaque_e9a0e68b", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(32), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_e9a0e68b const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(32), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(137), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (void * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(137), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(138), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (size_t *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(138), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_store_opaque_e9a0e68b(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_store_opaque_e9a0e68b _cffi_d_futhark_store_opaque_e9a0e68b
#endif

static int _cffi_d_futhark_store_opaque_f270e689(struct futhark_context * x0, struct futhark_opaque_f270e689 const * x1, void * * x2, size_t * x3)
{
  return futhark_store_opaque_f270e689(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_store_opaque_f270e689(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_f270e689 const * x1;
  void * * x2;
  size_t * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_store_opaque_f270e689", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(68), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_f270e689 const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(68), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(137), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (void * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(137), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(138), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (size_t *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(138), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_store_opaque_f270e689(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_store_opaque_f270e689 _cffi_d_futhark_store_opaque_f270e689
#endif

static int _cffi_d_futhark_store_opaque_networkParameter(struct futhark_context * x0, struct futhark_opaque_networkParameter const * x1, void * * x2, size_t * x3)
{
  return futhark_store_opaque_networkParameter(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_store_opaque_networkParameter(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_networkParameter const * x1;
  void * * x2;
  size_t * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_store_opaque_networkParameter", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(37), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_networkParameter const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(37), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(137), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (void * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(137), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(138), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (size_t *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(138), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_store_opaque_networkParameter(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_store_opaque_networkParameter _cffi_d_futhark_store_opaque_networkParameter
#endif

static int _cffi_d_futhark_store_opaque_particleType(struct futhark_context * x0, struct futhark_opaque_particleType const * x1, void * * x2, size_t * x3)
{
  return futhark_store_opaque_particleType(x0, x1, x2, x3);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_store_opaque_particleType(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_opaque_particleType const * x1;
  void * * x2;
  size_t * x3;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;
  PyObject *arg3;

  if (!PyArg_UnpackTuple(args, "futhark_store_opaque_particleType", 4, 4, &arg0, &arg1, &arg2, &arg3))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(247), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_opaque_particleType const *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(247), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(137), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (void * *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(137), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(138), arg3, (char **)&x3);
  if (datasize != 0) {
    x3 = ((size_t)datasize) <= 640 ? (size_t *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(138), arg3, (char **)&x3,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_store_opaque_particleType(x0, x1, x2, x3); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_store_opaque_particleType _cffi_d_futhark_store_opaque_particleType
#endif

static int _cffi_d_futhark_values_f32_1d(struct futhark_context * x0, struct futhark_f32_1d * x1, float * x2)
{
  return futhark_values_f32_1d(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_values_f32_1d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_1d * x1;
  float * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_values_f32_1d", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(72), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(72), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(11), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (float *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(11), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_values_f32_1d(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_values_f32_1d _cffi_d_futhark_values_f32_1d
#endif

static int _cffi_d_futhark_values_f32_2d(struct futhark_context * x0, struct futhark_f32_2d * x1, float * x2)
{
  return futhark_values_f32_2d(x0, x1, x2);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_values_f32_2d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_2d * x1;
  float * x2;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  int result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;
  PyObject *arg2;

  if (!PyArg_UnpackTuple(args, "futhark_values_f32_2d", 3, 3, &arg0, &arg1, &arg2))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(107), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(107), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(11), arg2, (char **)&x2);
  if (datasize != 0) {
    x2 = ((size_t)datasize) <= 640 ? (float *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(11), arg2, (char **)&x2,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_values_f32_2d(x0, x1, x2); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_int(result, int);
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_values_f32_2d _cffi_d_futhark_values_f32_2d
#endif

static unsigned char * _cffi_d_futhark_values_raw_f32_1d(struct futhark_context * x0, struct futhark_f32_1d * x1)
{
  return futhark_values_raw_f32_1d(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_values_raw_f32_1d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_1d * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  unsigned char * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_values_raw_f32_1d", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(72), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_1d *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(72), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_values_raw_f32_1d(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(444));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_values_raw_f32_1d _cffi_d_futhark_values_raw_f32_1d
#endif

static unsigned char * _cffi_d_futhark_values_raw_f32_2d(struct futhark_context * x0, struct futhark_f32_2d * x1)
{
  return futhark_values_raw_f32_2d(x0, x1);
}
#ifndef PYPY_VERSION
static PyObject *
_cffi_f_futhark_values_raw_f32_2d(PyObject *self, PyObject *args)
{
  struct futhark_context * x0;
  struct futhark_f32_2d * x1;
  Py_ssize_t datasize;
  struct _cffi_freeme_s *large_args_free = NULL;
  unsigned char * result;
  PyObject *pyresult;
  PyObject *arg0;
  PyObject *arg1;

  if (!PyArg_UnpackTuple(args, "futhark_values_raw_f32_2d", 2, 2, &arg0, &arg1))
    return NULL;

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(1), arg0, (char **)&x0);
  if (datasize != 0) {
    x0 = ((size_t)datasize) <= 640 ? (struct futhark_context *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(1), arg0, (char **)&x0,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  datasize = _cffi_prepare_pointer_call_argument(
      _cffi_type(107), arg1, (char **)&x1);
  if (datasize != 0) {
    x1 = ((size_t)datasize) <= 640 ? (struct futhark_f32_2d *)alloca((size_t)datasize) : NULL;
    if (_cffi_convert_array_argument(_cffi_type(107), arg1, (char **)&x1,
            datasize, &large_args_free) < 0)
      return NULL;
  }

  Py_BEGIN_ALLOW_THREADS
  _cffi_restore_errno();
  { result = futhark_values_raw_f32_2d(x0, x1); }
  _cffi_save_errno();
  Py_END_ALLOW_THREADS

  (void)self; /* unused */
  pyresult = _cffi_from_c_pointer((char *)result, _cffi_type(444));
  if (large_args_free != NULL) _cffi_free_array_arguments(large_args_free);
  return pyresult;
}
#else
#  define _cffi_f_futhark_values_raw_f32_2d _cffi_d_futhark_values_raw_f32_2d
#endif

static const struct _cffi_global_s _cffi_globals[] = {
  { "free", (void *)_cffi_f_free, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 423), (void *)_cffi_d_free },
  { "futhark_context_clear_caches", (void *)_cffi_f_futhark_context_clear_caches, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 6), (void *)_cffi_d_futhark_context_clear_caches },
  { "futhark_context_config_free", (void *)_cffi_f_futhark_context_config_free, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 412), (void *)_cffi_d_futhark_context_config_free },
  { "futhark_context_config_new", (void *)_cffi_f_futhark_context_config_new, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_N, 331), (void *)_cffi_d_futhark_context_config_new },
  { "futhark_context_config_set_cache_file", (void *)_cffi_f_futhark_context_config_set_cache_file, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 415), (void *)_cffi_d_futhark_context_config_set_cache_file },
  { "futhark_context_config_set_debugging", (void *)_cffi_f_futhark_context_config_set_debugging, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 419), (void *)_cffi_d_futhark_context_config_set_debugging },
  { "futhark_context_config_set_logging", (void *)_cffi_f_futhark_context_config_set_logging, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 419), (void *)_cffi_d_futhark_context_config_set_logging },
  { "futhark_context_config_set_profiling", (void *)_cffi_f_futhark_context_config_set_profiling, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 419), (void *)_cffi_d_futhark_context_config_set_profiling },
  { "futhark_context_config_set_tuning_param", (void *)_cffi_f_futhark_context_config_set_tuning_param, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 313), (void *)_cffi_d_futhark_context_config_set_tuning_param },
  { "futhark_context_free", (void *)_cffi_f_futhark_context_free, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 405), (void *)_cffi_d_futhark_context_free },
  { "futhark_context_get_error", (void *)_cffi_f_futhark_context_get_error, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 0), (void *)_cffi_d_futhark_context_get_error },
  { "futhark_context_new", (void *)_cffi_f_futhark_context_new, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 328), (void *)_cffi_d_futhark_context_new },
  { "futhark_context_pause_profiling", (void *)_cffi_f_futhark_context_pause_profiling, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 405), (void *)_cffi_d_futhark_context_pause_profiling },
  { "futhark_context_report", (void *)_cffi_f_futhark_context_report, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 0), (void *)_cffi_d_futhark_context_report },
  { "futhark_context_set_logging_file", (void *)_cffi_f_futhark_context_set_logging_file, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 408), (void *)_cffi_d_futhark_context_set_logging_file },
  { "futhark_context_sync", (void *)_cffi_f_futhark_context_sync, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 6), (void *)_cffi_d_futhark_context_sync },
  { "futhark_context_unpause_profiling", (void *)_cffi_f_futhark_context_unpause_profiling, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 405), (void *)_cffi_d_futhark_context_unpause_profiling },
  { "futhark_entry_hgoInteraction", (void *)_cffi_f_futhark_entry_hgoInteraction, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 79), (void *)_cffi_d_futhark_entry_hgoInteraction },
  { "futhark_entry_hgoPotential", (void *)_cffi_f_futhark_entry_hgoPotential, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 9), (void *)_cffi_d_futhark_entry_hgoPotential },
  { "futhark_entry_hgoPotentialAbs", (void *)_cffi_f_futhark_entry_hgoPotentialAbs, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 18), (void *)_cffi_d_futhark_entry_hgoPotentialAbs },
  { "futhark_entry_networkInteraction", (void *)_cffi_f_futhark_entry_networkInteraction, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 98), (void *)_cffi_d_futhark_entry_networkInteraction },
  { "futhark_entry_networkPotential", (void *)_cffi_f_futhark_entry_networkPotential, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 34), (void *)_cffi_d_futhark_entry_networkPotential },
  { "futhark_entry_networkPotentialAbs", (void *)_cffi_f_futhark_entry_networkPotentialAbs, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 41), (void *)_cffi_d_futhark_entry_networkPotentialAbs },
  { "futhark_free_f32_1d", (void *)_cffi_f_futhark_free_f32_1d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 70), (void *)_cffi_d_futhark_free_f32_1d },
  { "futhark_free_f32_2d", (void *)_cffi_f_futhark_free_f32_2d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 105), (void *)_cffi_d_futhark_free_f32_2d },
  { "futhark_free_opaque_32531da2", (void *)_cffi_f_futhark_free_opaque_32531da2, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 130), (void *)_cffi_d_futhark_free_opaque_32531da2 },
  { "futhark_free_opaque_67daac7", (void *)_cffi_f_futhark_free_opaque_67daac7, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 151), (void *)_cffi_d_futhark_free_opaque_67daac7 },
  { "futhark_free_opaque_8ce68ead", (void *)_cffi_f_futhark_free_opaque_8ce68ead, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 172), (void *)_cffi_d_futhark_free_opaque_8ce68ead },
  { "futhark_free_opaque_8f5f2e9d", (void *)_cffi_f_futhark_free_opaque_8f5f2e9d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 193), (void *)_cffi_d_futhark_free_opaque_8f5f2e9d },
  { "futhark_free_opaque_b0aee03a", (void *)_cffi_f_futhark_free_opaque_b0aee03a, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 214), (void *)_cffi_d_futhark_free_opaque_b0aee03a },
  { "futhark_free_opaque_c5da5e9b", (void *)_cffi_f_futhark_free_opaque_c5da5e9b, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 229), (void *)_cffi_d_futhark_free_opaque_c5da5e9b },
  { "futhark_free_opaque_e9a0e68b", (void *)_cffi_f_futhark_free_opaque_e9a0e68b, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 251), (void *)_cffi_d_futhark_free_opaque_e9a0e68b },
  { "futhark_free_opaque_f270e689", (void *)_cffi_f_futhark_free_opaque_f270e689, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 272), (void *)_cffi_d_futhark_free_opaque_f270e689 },
  { "futhark_free_opaque_networkParameter", (void *)_cffi_f_futhark_free_opaque_networkParameter, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 288), (void *)_cffi_d_futhark_free_opaque_networkParameter },
  { "futhark_free_opaque_particleType", (void *)_cffi_f_futhark_free_opaque_particleType, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 303), (void *)_cffi_d_futhark_free_opaque_particleType },
  { "futhark_get_tuning_param_class", (void *)_cffi_f_futhark_get_tuning_param_class, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 3), (void *)_cffi_d_futhark_get_tuning_param_class },
  { "futhark_get_tuning_param_count", (void *)_cffi_f_futhark_get_tuning_param_count, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_N, 318), (void *)_cffi_d_futhark_get_tuning_param_count },
  { "futhark_get_tuning_param_name", (void *)_cffi_f_futhark_get_tuning_param_name, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_O, 3), (void *)_cffi_d_futhark_get_tuning_param_name },
  { "futhark_new_f32_1d", (void *)_cffi_f_futhark_new_f32_1d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 333), (void *)_cffi_d_futhark_new_f32_1d },
  { "futhark_new_f32_2d", (void *)_cffi_f_futhark_new_f32_2d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 344), (void *)_cffi_d_futhark_new_f32_2d },
  { "futhark_new_opaque_32531da2", (void *)_cffi_f_futhark_new_opaque_32531da2, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 114), (void *)_cffi_d_futhark_new_opaque_32531da2 },
  { "futhark_new_opaque_67daac7", (void *)_cffi_f_futhark_new_opaque_67daac7, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 140), (void *)_cffi_d_futhark_new_opaque_67daac7 },
  { "futhark_new_opaque_8ce68ead", (void *)_cffi_f_futhark_new_opaque_8ce68ead, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 166), (void *)_cffi_d_futhark_new_opaque_8ce68ead },
  { "futhark_new_opaque_8f5f2e9d", (void *)_cffi_f_futhark_new_opaque_8f5f2e9d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 182), (void *)_cffi_d_futhark_new_opaque_8f5f2e9d },
  { "futhark_new_opaque_b0aee03a", (void *)_cffi_f_futhark_new_opaque_b0aee03a, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 208), (void *)_cffi_d_futhark_new_opaque_b0aee03a },
  { "futhark_new_opaque_e9a0e68b", (void *)_cffi_f_futhark_new_opaque_e9a0e68b, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 244), (void *)_cffi_d_futhark_new_opaque_e9a0e68b },
  { "futhark_new_opaque_f270e689", (void *)_cffi_f_futhark_new_opaque_f270e689, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 261), (void *)_cffi_d_futhark_new_opaque_f270e689 },
  { "futhark_new_opaque_networkParameter", (void *)_cffi_f_futhark_new_opaque_networkParameter, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 282), (void *)_cffi_d_futhark_new_opaque_networkParameter },
  { "futhark_new_raw_f32_1d", (void *)_cffi_f_futhark_new_raw_f32_1d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 338), (void *)_cffi_d_futhark_new_raw_f32_1d },
  { "futhark_new_raw_f32_2d", (void *)_cffi_f_futhark_new_raw_f32_2d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 350), (void *)_cffi_d_futhark_new_raw_f32_2d },
  { "futhark_project_opaque_32531da2_0", (void *)_cffi_f_futhark_project_opaque_32531da2_0, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 88), (void *)_cffi_d_futhark_project_opaque_32531da2_0 },
  { "futhark_project_opaque_32531da2_1", (void *)_cffi_f_futhark_project_opaque_32531da2_1, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 55), (void *)_cffi_d_futhark_project_opaque_32531da2_1 },
  { "futhark_project_opaque_67daac7_0", (void *)_cffi_f_futhark_project_opaque_67daac7_0, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 224), (void *)_cffi_d_futhark_project_opaque_67daac7_0 },
  { "futhark_project_opaque_67daac7_1", (void *)_cffi_f_futhark_project_opaque_67daac7_1, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 203), (void *)_cffi_d_futhark_project_opaque_67daac7_1 },
  { "futhark_project_opaque_8ce68ead_0", (void *)_cffi_f_futhark_project_opaque_8ce68ead_0, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 267), (void *)_cffi_d_futhark_project_opaque_8ce68ead_0 },
  { "futhark_project_opaque_8ce68ead_1", (void *)_cffi_f_futhark_project_opaque_8ce68ead_1, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 120), (void *)_cffi_d_futhark_project_opaque_8ce68ead_1 },
  { "futhark_project_opaque_8f5f2e9d_0", (void *)_cffi_f_futhark_project_opaque_8f5f2e9d_0, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 161), (void *)_cffi_d_futhark_project_opaque_8f5f2e9d_0 },
  { "futhark_project_opaque_8f5f2e9d_1", (void *)_cffi_f_futhark_project_opaque_8f5f2e9d_1, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 125), (void *)_cffi_d_futhark_project_opaque_8f5f2e9d_1 },
  { "futhark_project_opaque_b0aee03a_0", (void *)_cffi_f_futhark_project_opaque_b0aee03a_0, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 188), (void *)_cffi_d_futhark_project_opaque_b0aee03a_0 },
  { "futhark_project_opaque_b0aee03a_1", (void *)_cffi_f_futhark_project_opaque_b0aee03a_1, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 60), (void *)_cffi_d_futhark_project_opaque_b0aee03a_1 },
  { "futhark_project_opaque_e9a0e68b_0", (void *)_cffi_f_futhark_project_opaque_e9a0e68b_0, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 298), (void *)_cffi_d_futhark_project_opaque_e9a0e68b_0 },
  { "futhark_project_opaque_e9a0e68b_1", (void *)_cffi_f_futhark_project_opaque_e9a0e68b_1, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 29), (void *)_cffi_d_futhark_project_opaque_e9a0e68b_1 },
  { "futhark_project_opaque_e9a0e68b_2", (void *)_cffi_f_futhark_project_opaque_e9a0e68b_2, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 50), (void *)_cffi_d_futhark_project_opaque_e9a0e68b_2 },
  { "futhark_project_opaque_f270e689_0", (void *)_cffi_f_futhark_project_opaque_f270e689_0, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 93), (void *)_cffi_d_futhark_project_opaque_f270e689_0 },
  { "futhark_project_opaque_f270e689_1", (void *)_cffi_f_futhark_project_opaque_f270e689_1, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 65), (void *)_cffi_d_futhark_project_opaque_f270e689_1 },
  { "futhark_project_opaque_networkParameter_0", (void *)_cffi_f_futhark_project_opaque_networkParameter_0, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 239), (void *)_cffi_d_futhark_project_opaque_networkParameter_0 },
  { "futhark_project_opaque_networkParameter_1", (void *)_cffi_f_futhark_project_opaque_networkParameter_1, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 146), (void *)_cffi_d_futhark_project_opaque_networkParameter_1 },
  { "futhark_restore_opaque_32531da2", (void *)_cffi_f_futhark_restore_opaque_32531da2, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 357), (void *)_cffi_d_futhark_restore_opaque_32531da2 },
  { "futhark_restore_opaque_67daac7", (void *)_cffi_f_futhark_restore_opaque_67daac7, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 361), (void *)_cffi_d_futhark_restore_opaque_67daac7 },
  { "futhark_restore_opaque_8ce68ead", (void *)_cffi_f_futhark_restore_opaque_8ce68ead, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 365), (void *)_cffi_d_futhark_restore_opaque_8ce68ead },
  { "futhark_restore_opaque_8f5f2e9d", (void *)_cffi_f_futhark_restore_opaque_8f5f2e9d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 369), (void *)_cffi_d_futhark_restore_opaque_8f5f2e9d },
  { "futhark_restore_opaque_b0aee03a", (void *)_cffi_f_futhark_restore_opaque_b0aee03a, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 373), (void *)_cffi_d_futhark_restore_opaque_b0aee03a },
  { "futhark_restore_opaque_c5da5e9b", (void *)_cffi_f_futhark_restore_opaque_c5da5e9b, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 377), (void *)_cffi_d_futhark_restore_opaque_c5da5e9b },
  { "futhark_restore_opaque_e9a0e68b", (void *)_cffi_f_futhark_restore_opaque_e9a0e68b, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 381), (void *)_cffi_d_futhark_restore_opaque_e9a0e68b },
  { "futhark_restore_opaque_f270e689", (void *)_cffi_f_futhark_restore_opaque_f270e689, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 385), (void *)_cffi_d_futhark_restore_opaque_f270e689 },
  { "futhark_restore_opaque_networkParameter", (void *)_cffi_f_futhark_restore_opaque_networkParameter, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 389), (void *)_cffi_d_futhark_restore_opaque_networkParameter },
  { "futhark_restore_opaque_particleType", (void *)_cffi_f_futhark_restore_opaque_particleType, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 393), (void *)_cffi_d_futhark_restore_opaque_particleType },
  { "futhark_shape_f32_1d", (void *)_cffi_f_futhark_shape_f32_1d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 320), (void *)_cffi_d_futhark_shape_f32_1d },
  { "futhark_shape_f32_2d", (void *)_cffi_f_futhark_shape_f32_2d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 324), (void *)_cffi_d_futhark_shape_f32_2d },
  { "futhark_store_opaque_32531da2", (void *)_cffi_f_futhark_store_opaque_32531da2, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 134), (void *)_cffi_d_futhark_store_opaque_32531da2 },
  { "futhark_store_opaque_67daac7", (void *)_cffi_f_futhark_store_opaque_67daac7, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 155), (void *)_cffi_d_futhark_store_opaque_67daac7 },
  { "futhark_store_opaque_8ce68ead", (void *)_cffi_f_futhark_store_opaque_8ce68ead, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 176), (void *)_cffi_d_futhark_store_opaque_8ce68ead },
  { "futhark_store_opaque_8f5f2e9d", (void *)_cffi_f_futhark_store_opaque_8f5f2e9d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 197), (void *)_cffi_d_futhark_store_opaque_8f5f2e9d },
  { "futhark_store_opaque_b0aee03a", (void *)_cffi_f_futhark_store_opaque_b0aee03a, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 218), (void *)_cffi_d_futhark_store_opaque_b0aee03a },
  { "futhark_store_opaque_c5da5e9b", (void *)_cffi_f_futhark_store_opaque_c5da5e9b, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 233), (void *)_cffi_d_futhark_store_opaque_c5da5e9b },
  { "futhark_store_opaque_e9a0e68b", (void *)_cffi_f_futhark_store_opaque_e9a0e68b, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 255), (void *)_cffi_d_futhark_store_opaque_e9a0e68b },
  { "futhark_store_opaque_f270e689", (void *)_cffi_f_futhark_store_opaque_f270e689, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 276), (void *)_cffi_d_futhark_store_opaque_f270e689 },
  { "futhark_store_opaque_networkParameter", (void *)_cffi_f_futhark_store_opaque_networkParameter, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 292), (void *)_cffi_d_futhark_store_opaque_networkParameter },
  { "futhark_store_opaque_particleType", (void *)_cffi_f_futhark_store_opaque_particleType, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 307), (void *)_cffi_d_futhark_store_opaque_particleType },
  { "futhark_values_f32_1d", (void *)_cffi_f_futhark_values_f32_1d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 74), (void *)_cffi_d_futhark_values_f32_1d },
  { "futhark_values_f32_2d", (void *)_cffi_f_futhark_values_f32_2d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 109), (void *)_cffi_d_futhark_values_f32_2d },
  { "futhark_values_raw_f32_1d", (void *)_cffi_f_futhark_values_raw_f32_1d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 397), (void *)_cffi_d_futhark_values_raw_f32_1d },
  { "futhark_values_raw_f32_2d", (void *)_cffi_f_futhark_values_raw_f32_2d, _CFFI_OP(_CFFI_OP_CPYTHON_BLTN_V, 401), (void *)_cffi_d_futhark_values_raw_f32_2d },
};

static const struct _cffi_struct_union_s _cffi_struct_unions[] = {
  { "_IO_FILE", 426, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_context", 430, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_context_config", 431, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_f32_1d", 432, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_f32_2d", 433, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_opaque_32531da2", 434, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_opaque_67daac7", 435, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_opaque_8ce68ead", 436, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_opaque_8f5f2e9d", 437, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_opaque_b0aee03a", 438, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_opaque_c5da5e9b", 439, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_opaque_e9a0e68b", 440, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_opaque_f270e689", 441, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_opaque_networkParameter", 442, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
  { "futhark_opaque_particleType", 443, _CFFI_F_OPAQUE,
    (size_t)-1, -1, -1, 0 /* opaque */ },
};

static const struct _cffi_typename_s _cffi_typenames[] = {
  { "CUdeviceptr", 424 },
  { "FILE", 426 },
  { "cl_command_queue", 424 },
  { "cl_mem", 424 },
};

static const struct _cffi_type_context_s _cffi_type_context = {
  _cffi_types,
  _cffi_globals,
  NULL,  /* no fields */
  _cffi_struct_unions,
  NULL,  /* no enums */
  _cffi_typenames,
  93,  /* num_globals */
  15,  /* num_struct_unions */
  0,  /* num_enums */
  4,  /* num_typenames */
  NULL,  /* no includes */
  447,  /* num_types */
  0,  /* flags */
};

#ifdef __GNUC__
#  pragma GCC visibility push(default)  /* for -fvisibility= */
#endif

#ifdef PYPY_VERSION
PyMODINIT_FUNC
_cffi_pypyinit__futhark_interaction(const void *p[])
{
    p[0] = (const void *)0x2601;
    p[1] = &_cffi_type_context;
#if PY_MAJOR_VERSION >= 3
    return NULL;
#endif
}
#  ifdef _MSC_VER
     PyMODINIT_FUNC
#  if PY_MAJOR_VERSION >= 3
     PyInit__futhark_interaction(void) { return NULL; }
#  else
     init_futhark_interaction(void) { }
#  endif
#  endif
#elif PY_MAJOR_VERSION >= 3
PyMODINIT_FUNC
PyInit__futhark_interaction(void)
{
  return _cffi_init("_futhark_interaction", 0x2601, &_cffi_type_context);
}
#else
PyMODINIT_FUNC
init_futhark_interaction(void)
{
  _cffi_init("_futhark_interaction", 0x2601, &_cffi_type_context);
}
#endif

#ifdef __GNUC__
#  pragma GCC visibility pop
#endif
